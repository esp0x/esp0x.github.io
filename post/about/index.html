<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="ä¿¡æ¯å®‰å…¨">
<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°">
<meta name="theme-color" content="#000">
<title>å…³äº | Esp0x</title>
<link rel="shortcut icon" href="/favicon.ico?v=1626672860420">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/media/css/muse.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>

<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



  <meta name="description" content="å…³äº" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="muse">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Esp0x</span>
            </a>  
          
        </div>
        
          <p class="subtitle">ç²¾äºå¿ƒï¼Œç®€äºå½¢</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> å‹æƒ…é“¾æ¥
                  
                </a>
              </li>
            
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout muse bg-color">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper  right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active">æ–‡ç« ç›®å½•</span>
            <span id="metaSideBar" class="sidebar-title-item">ç«™ç‚¹æ¦‚è§ˆ</span>
          </div>
        </div>
      
      <div class="sidebar-body muse" id="sidebar_body">
        
          
            
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">jiffies@live.com</p>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">30</span>
        <span class="site-item-stat-name">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">10</span>
        <span class="site-item-stat-name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">10</span>
        <span class="site-item-stat-name">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
  


</div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://esp0x.github.io/post/about/">
      å…³äº
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>å‘å¸ƒäº</span>
      <span>2019-01-25</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>1åˆ†é’Ÿ</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>23<span class="pc-show">å­—æ•°</span></span>
    </span>
    
    
    
    <span id="/post/about/" data-flag-title="å…³äº" class="meta-item pc-show leancloud_visitors">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-eye"></i>
      <span>æµè§ˆé‡ï¼š<span class="leancloud-visitors-count"></span></span>
    </span>
    
  </div>
</header>
            <div class="post-body next-md-body" id="post_body">
              <blockquote>
<p>ç³»ç»Ÿç®¡ç†å‘˜ &amp; ç‹¬ç«‹å®‰å…¨ç ”ç©¶å‘˜ &amp; åŠåŠå­çš„ç¨‹åºå‘˜ /&lt;.&gt;:) ğŸ˜ˆ</p>
</blockquote>

            </div>
            <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      jiffies@live.com
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://esp0x.github.io/post/about/" title="å…³äº">https://esp0x.github.io/post/about/</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
    </div>
    <div class="nav-next">
      
    </div>
  </div>
</div>
            
  <script src="https://cdn.jsdelivr.net/npm/valine@1.4.4/dist/Valine.min.js"></script>
<div id="vcomments" style="padding: 10px 0px 0px 0px"></div>

<style>
  .v .veditor {
    min-height: 10rem;
    background-image: url('https://upimage.alexhchu.com/2020/04/21/47eda59424daa.gif');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: right;
    background-color: rgba(255, 255, 255, 0);
    resize: none;
  }

  .v .vwrap {
    border: 1px solid #000 !important;
  }

  .v .vbtn {
    padding: .4rem 1.2rem !important;
    border-color: #fff !important;
    background-color: #49b1f5 !important;
    color: #fff !important;
    font-size: .7rem !important;
  }

  .v .vcards .vcard .vh .vmeta .vat {
    padding: 0 .8rem !important;
    border: 1px solid #00c4b6 !important;
    border-radius: 5px !important;
    color: #00c4b6 !important;
  }
</style>
<script>
  new Valine({
    el: '#vcomments',
    appId: '',
    appKey: '',
    avatar: 'identicon',
    placeholder: '',
    pageSize: '',
    lang: 'zh-cn',
    visitor: 'true' === 'true',
    highlight: 'true' === 'true',
    avatarForce: 'true' === 'false',
  });
</script>

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
    <div class="drawer-box right" id="drawer_box">
      <span class="muse-line muse-line-first"></span>
      <span class="muse-line muse-line-middle"></span>
      <span class="muse-line muse-line-last"></span>
    </div>
  
  <div class="muse back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
  </div>
  
    <div class="bg-img">
      <img src="\media\images\custom-bgImg.jpeg" />
    </div>
  
  
    
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 5px;bottom: px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="ä½ çš„åå­—" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="è¦å’Œæˆ‘èŠä»€ä¹ˆå‘€ï¼Ÿ" />
          <button type="button" class="live_talk_send_btn" id="talk_send">å‘é€</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">å¬å”¤çœ‹æ¿å¨˜</div>
<script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('å“ˆå“ˆï¼Œä½ æ‰“å¼€äº†æ§åˆ¶å°ï¼Œæ˜¯æƒ³è¦çœ‹çœ‹æˆ‘çš„ç§˜å¯†å—ï¼Ÿ', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('ä½ éƒ½å¤åˆ¶äº†äº›ä»€ä¹ˆå‘€ï¼Œè½¬è½½è¦è®°å¾—åŠ ä¸Šå‡ºå¤„å“¦~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = 'å—¨ï¼æ¥è‡ª <span style="color:#0099cc;">' + referrer.hostname + '</span> çš„æœ‹å‹ï¼';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = 'å—¨ï¼ æ¥è‡ª ç™¾åº¦æœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				} else if (domain == 'so') {
					text = 'å—¨ï¼ æ¥è‡ª 360æœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				} else if (domain == 'google') {
					text = 'å—¨ï¼ æ¥è‡ª è°·æ­Œæœç´¢ çš„æœ‹å‹ï¼<br>æ¬¢è¿è®¿é—®<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				}
			} else {
				if (window.location.href == home_Path) { //ä¸»é¡µURLåˆ¤æ–­ï¼Œéœ€è¦æ–œæ ç»“å°¾
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = 'ä½ æ˜¯å¤œçŒ«å­å‘€ï¼Ÿè¿™ä¹ˆæ™šè¿˜ä¸ç¡è§‰ï¼Œæ˜å¤©èµ·çš„æ¥å˜›ï¼Ÿ';
					} else if (now > 5 && now <= 7) {
						text = 'æ—©ä¸Šå¥½ï¼ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼Œç¾å¥½çš„ä¸€å¤©å°±è¦å¼€å§‹äº†ï¼';
					} else if (now > 7 && now <= 11) {
						text = 'ä¸Šåˆå¥½ï¼å·¥ä½œé¡ºåˆ©å˜›ï¼Œä¸è¦ä¹…åï¼Œå¤šèµ·æ¥èµ°åŠ¨èµ°åŠ¨å“¦ï¼';
					} else if (now > 11 && now <= 14) {
						text = 'ä¸­åˆäº†ï¼Œå·¥ä½œäº†ä¸€ä¸ªä¸Šåˆï¼Œç°åœ¨æ˜¯åˆé¤æ—¶é—´ï¼';
					} else if (now > 14 && now <= 17) {
						text = 'åˆåå¾ˆå®¹æ˜“çŠ¯å›°å‘¢ï¼Œä»Šå¤©çš„è¿åŠ¨ç›®æ ‡å®Œæˆäº†å—ï¼Ÿ';
					} else if (now > 17 && now <= 19) {
						text = 'å‚æ™šäº†ï¼çª—å¤–å¤•é˜³çš„æ™¯è‰²å¾ˆç¾ä¸½å‘¢ï¼Œæœ€ç¾ä¸è¿‡å¤•é˜³çº¢~~';
					} else if (now > 19 && now <= 21) {
						text = 'æ™šä¸Šå¥½ï¼Œä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·ï¼Ÿ';
					} else if (now > 21 && now <= 23) {
						text = 'å·²ç»è¿™ä¹ˆæ™šäº†å‘€ï¼Œæ—©ç‚¹ä¼‘æ¯å§ï¼Œæ™šå®‰~~';
					} else {
						text = 'å—¨~ å¿«æ¥é€—æˆ‘ç©å§ï¼';
					}
				} else {
					text = 'æ¬¢è¿é˜…è¯»<span style="color:#0099cc;">ã€Œ ' + document.title.split(' - ')[0] + ' ã€</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('ä½ å›æ¥å•¦~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('å†™ç‚¹ä»€ä¹ˆå§ï¼', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('èŠä¹‹å‰è¯·å‘Šè¯‰æˆ‘ä½ çš„åå­—å§ï¼', 0);
						return;
					}
					showMessage('æ€è€ƒä¸­~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('ä¼¼ä¹æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œè¯·å’Œç«™é•¿è”ç³»ï¼', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//è·å–éŸ³ä¹ä¿¡æ¯åˆå§‹åŒ–
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('éŸ³ä¹ä¼¼ä¹åŠ è½½ä¸å‡ºæ¥äº†å‘¢ï¼', 0);
				});
			}
			//è·å–ç”¨æˆ·å
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//è·å–ä½ç½®
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//ç§»åŠ¨
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'hijiki'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'Aoba') {
				AIimgSrc.push(message_Path + "model/Aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'Aoba') {
							model = message_Path + "model/Aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target","_blank");
      }
    })
  }
  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px; border: 1px solid #fff; border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>
<input hidden id="copy" />
<script>
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        console.log('å¤åˆ¶æ“ä½œé¢‘ç‡è¿‡é«˜');
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })
</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 500
  });
</script>

<!-- <div class="search-mask" id="search_mask">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input type="text" placeholder="æœç´¢">
      </div>
      <i class="fa fa-times-circle"></i>
    </div>
    <div class="result">
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/cmsmap-shi-yong-jian-dan-shuo-ming/"" data-c="
          &lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git clone https://github.com/Dionach/CMSmap
cd CMSmap
pip3 install .
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åŠŸèƒ½ç®€ä»‹&#34;&gt;åŠŸèƒ½ç®€ä»‹&lt;/h3&gt;
&lt;h4 id=&#34;1-æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„cmsç±»å‹æ”¯æŒwordpress-joomla-drupalç­‰æ’ä»¶&#34;&gt;1. æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„CMSç±»å‹ï¼Œæ”¯æŒwordpressã€joomlaã€drupalç­‰æ’ä»¶&lt;/h4&gt;
&lt;h4 id=&#34;2-æ”¯æŒå¤šçº¿ç¨‹æ‰«æ&#34;&gt;2. æ”¯æŒå¤šçº¿ç¨‹æ‰«æ&lt;/h4&gt;
&lt;h4 id=&#34;3-é›†æˆäº†æš´åŠ›ç ´è§£æ¨¡å—&#34;&gt;3. é›†æˆäº†æš´åŠ›ç ´è§£æ¨¡å—&lt;/h4&gt;
&lt;h4 id=&#34;4-åˆ©ç”¨exploit-dbæ•°æ®åº“è¿›è¡Œæ¼æ´æ’ä»¶çš„æ£€æµ‹&#34;&gt;4. åˆ©ç”¨exploit-dbæ•°æ®åº“è¿›è¡Œæ¼æ´æ’ä»¶çš„æ£€æµ‹&lt;/h4&gt;
&lt;h3 id=&#34;å¸®åŠ©ä¿¡æ¯&#34;&gt;å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;usage: cmsmap [-f W/J/D] [-F] [-t] [-a] [-H] [-i] [-o] [-E] [-d] [-u] [-p]
              [-x] [-k] [-w] [-v] [-h] [-D] [-U W/J/D]
              [target]

CMSmap tool v1.0 - Simple CMS Scanner
Author: Mike Manzotti

Scan:
  target                target URL (e.g. &#39;https://example.com:8080/&#39;)
  -f W/J/D, --force W/J/D
                        force scan (W)ordpress, (J)oomla or (D)rupal
  -F, --fullscan        full scan using large plugin lists. False positives and slow!
  -t , --threads        number of threads (Default 5)
  -a , --agent          set custom user-agent
  -H , --header         add custom header (e.g. &#39;Authorization: Basic ABCD...&#39;)
  -i , --input          scan multiple targets listed in a given file
  -o , --output         save output in a file
  -E, --noedb           enumerate plugins without searching exploits
  -c, --nocleanurls     disable clean urls for Drupal only
  -s, --nosslcheck      don&#39;t validate the server&#39;s certificate
  -d, --dictattack      run low intense dictionary attack during scanning (5 attempts per user)

Brute-Force:
  -u , --usr            username or username file
  -p , --psw            password or password file
  -x, --noxmlrpc        brute forcing WordPress without XML-RPC

Post Exploitation:
  -k , --crack          password hashes file (Require hashcat installed. For WordPress and Joomla only)
  -w , --wordlist       wordlist file

Others:
  -v, --verbose         verbose mode (Default false)
  -h, --help            show this help message and exit
  -D, --default         rum CMSmap with default options
  -U, --update          use (C)MSmap, (P)lugins or (PC) for both

Examples:
  cmsmap.py https://example.com
  cmsmap.py https://example.com -f W -F --noedb -d
  cmsmap.py https://example.com -i targets.txt -o output.txt
  cmsmap.py https://example.com -u admin -p passwords.txt
  cmsmap.py -k hashes.txt -w passwords.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;// é»˜è®¤å‚æ•°æ‰§è¡Œï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œä¼šä¸‹è½½å¾ˆå¤šæ’ä»¶
# ./cmsmap.py http://www.wordpress.com

// ä½¿ç”¨adminç”¨æˆ·è¿›è¡Œæš´åŠ›ç ´è§£ï¼Œåé¢-vå’Œ-oä¸æ˜¯å¿…é¡»çš„
# ./cmsmap.py http://www.wordpress.com -u admin -p &amp;lt;å­—å…¸è·¯å¾„&amp;gt; -v -o &amp;lt;ç»“æœä¿æŒçš„è·¯å¾„&amp;gt;

// åŒæ—¶æ‰«æå¤šä¸ªç›®æ ‡
# ./cmsmap.py http://www.wordpress.com -i &amp;lt;ç›®æ ‡æ–‡ä»¶è·¯å¾„&amp;gt; -u admin -p &amp;lt;å­—å…¸è·¯å¾„&amp;gt; -v -o &amp;lt;ç»“æœä¿æŒçš„è·¯å¾„&amp;gt;

// æ³¨æ„ï¼šå­å¼¹å’Œç›®æ ‡æ–‡ä»¶éƒ½æ˜¯ä¸€è¡Œä¸€ä¸ª
// å…¶ä»–ä½¿ç”¨æ–¹æ³•å¾…åç»­æ›´æ–°......
&lt;/code&gt;&lt;/pre&gt;
">CMSmapä½¿ç”¨ç®€å•è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/msf-zhong-shi-yong-mei-ju-mo-kuai-jin-xing-ge-chong-fu-wu-deng-lu-de-po-jie/"" data-c="
          &lt;h3 id=&#34;æ¨¡å—è·¯å¾„åˆ—è¡¨&#34;&gt;æ¨¡å—è·¯å¾„åˆ—è¡¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;auxiliary/scanner/ftp/ftp_login
auxiliary/scanner/ssh/ssh_login
auxiliary/scanner/telnet/telnet_login
auxiliary/scanner/smb/smb_login
auxiliary/scanner/mssql/mssql_login
auxiliary/scanner/mysql/mysql_login
auxiliary/scanner/oracle/oracle_login
auxiliary/scanner/postgres/postgres_login
auxiliary/scanner/vnc/vnc_login
auxiliary/scanner/pcanywhere/pcanywhere_login
auxiliary/scanner/snmp/snmp_login
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ–¹æ³•&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# msfconsole

&amp;gt; use &amp;lt;æ¨¡å—è·¯å¾„&amp;gt;
&amp;gt; show options
&amp;gt; set &amp;lt;option&amp;gt; &amp;lt;value&amp;gt;
&amp;gt; run
&lt;/code&gt;&lt;/pre&gt;
">MSFä¸­ä½¿ç”¨æšä¸¾æ¨¡å—è¿›è¡Œå„ç§æœåŠ¡ç™»é™†çš„ç ´è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/hydra-bao-li-po-jie-gong-ju-jian-dan-shi-yong-shuo-ming/"" data-c="
          &lt;h3 id=&#34;æ”¯æŒçš„ç ´è§£åè®®&#34;&gt;æ”¯æŒçš„ç ´è§£åè®®&lt;/h3&gt;
&lt;h4 id=&#34;afpcisco-aaaciscoèº«ä»½éªŒè¯ciscoå¯ç”¨cvsfirebirdftphttp-form-gethttp-form-posthttp-gethttp-headhttp-proxyhttps-form-gethttps-form-posthttps-gethttps-headhttp-proxyicqimapircldapms-sqlmysqlncpnntporacle-listeneroracle-sidoraclepc-anywhere-pcnfspop3postgresrdprexecrloginrshsap-r3sipsmbsmtpsmtpæšä¸¾snmpsocks5sshv1å’Œv2subversionteamspeakts2telnetvmware-auth-vncå’Œxmpp&#34;&gt;AFPï¼ŒCisco AAAï¼ŒCiscoèº«ä»½éªŒè¯ï¼ŒCiscoå¯ç”¨ï¼ŒCVSï¼ŒFirebirdï¼ŒFTPï¼ŒHTTP-FORM-GETï¼ŒHTTP-FORM-POSTï¼ŒHTTP-GETï¼ŒHTTP-HEADï¼ŒHTTP-PROXYï¼ŒHTTPS-FORM- GETï¼ŒHTTPS-FORM-POSTï¼ŒHTTPS-GETï¼ŒHTTPS-HEADï¼ŒHTTP-Proxyï¼ŒICQï¼ŒIMAPï¼ŒIRCï¼ŒLDAPï¼ŒMS-SQLï¼ŒMYSQLï¼ŒNCPï¼ŒNNTPï¼ŒOracle Listenerï¼ŒOracle SIDï¼ŒOracleï¼ŒPC-Anywhereï¼Œ PCNFSï¼ŒPOP3ï¼ŒPOSTGRESï¼ŒRDPï¼ŒRexecï¼ŒRloginï¼ŒRshï¼ŒSAP / R3ï¼ŒSIPï¼ŒSMBï¼ŒSMTPï¼ŒSMTPæšä¸¾ï¼ŒSNMPï¼ŒSOCKS5ï¼ŒSSHï¼ˆv1å’Œv2ï¼‰ï¼ŒSubversionï¼ŒTeamspeakï¼ˆTS2ï¼‰ï¼ŒTelnetï¼ŒVMware-Auth ï¼ŒVNCå’ŒXMPPã€‚&lt;/h4&gt;
&lt;h3 id=&#34;å‚æ•°åˆ—è¡¨&#34;&gt;å‚æ•°åˆ—è¡¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;-Rï¼šç»§ç»­ä»ä¸Šä¸€æ¬¡è¿›åº¦æ¥ç€ç ´è§£
-Sï¼šå¤§å†™ï¼Œé‡‡ç”¨SSLé“¾æ¥
-s  &amp;lt;PORT&amp;gt;ï¼šå°å†™ï¼Œå¯é€šè¿‡è¿™ä¸ªå‚æ•°æŒ‡å®šéé»˜è®¤ç«¯å£
-l  &amp;lt;LOGIN&amp;gt;ï¼šæŒ‡å®šç ´è§£çš„ç”¨æˆ·ï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç ´è§£
-L  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç”¨æˆ·åå­—å…¸
-p  &amp;lt;PASS&amp;gt;ï¼šå°å†™ï¼ŒæŒ‡å®šå¯†ç ç ´è§£ï¼Œå°‘ç”¨ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨å¯†ç å­—å…¸
-P  &amp;lt;FILE&amp;gt;ï¼šå¤§å†™ï¼ŒæŒ‡å®šå¯†ç å­—å…¸
-e  &amp;lt;ns&amp;gt;ï¼šå¯é€‰é€‰é¡¹ï¼Œnï¼šç©ºå¯†ç è¯•æ¢ï¼Œsï¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·å’Œå¯†ç è¯•æ¢
-C  &amp;lt;FILE&amp;gt;ï¼šä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•å:å¯†ç â€æ¥ä»£æ›¿ -L/-P å‚æ•°
-M  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç›®æ ‡åˆ—è¡¨æ–‡ä»¶ä¸€è¡Œä¸€æ¡
-o  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶
-f ï¼šåœ¨ä½¿ç”¨-Må‚æ•°ä»¥åï¼Œæ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£
-t &amp;lt;TASKS&amp;gt;ï¼šåŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º16
-w &amp;lt;TIME&amp;gt;ï¼šè®¾ç½®æœ€å¤§è¶…æ—¶çš„æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤æ˜¯30s
-v / -Vï¼šæ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹
serverï¼šç›®æ ‡ip
serviceï¼šæŒ‡å®šæœåŠ¡åï¼Œæ”¯æŒçš„æœåŠ¡å’Œåè®®ï¼štelnet ftp pop3[-ntlm] imap[-ntlm] smb smbnt http[s]-{head|get} http-{get|post}-form http-proxy cisco cisco-enable vnc ldap2 ldap3 mssql mysql oracle-listener postgres nntp socks5 rexec rlogin pcnfs snmp rsh cvs svn icq sapr3 ssh2 smtp-auth[-ntlm] pcanywhere teamspeak sip vmauthd firebird ncp afpç­‰ç­‰
OPTï¼šå¯é€‰é¡¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;h3 id=&#34;ç ´è§£ssh&#34;&gt;ç ´è§£SSH&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra -L users.txt -P password.txt -t 1 -vV -e ns 192.168.1.104 ssh
# hydra -L users.txt -P password.txt -t 1 -vV -e ns -o save.log 192.168.1.104 ssh
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£ftp&#34;&gt;ç ´è§£FTP&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -t çº¿ç¨‹(é»˜è®¤16) -vV
# hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -e ns -vV
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£http&#34;&gt;ç ´è§£HTTP&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;// get æ–¹å¼æäº¤ï¼Œç ´è§£webç™»é™†
# hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹ -vV -e ns ip http-get /admin/
# hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹ -vV -e ns -f ip http-get /admin/index.php

// post æ–¹å¼æäº¤(è¿™é‡Œæœ‰ä¸¤ç§ï¼Œæ ¹æ®å®é™…æƒ…å†µæ¥æ„æˆå‘½ä»¤)
// éœ€è¦æå‰é‡‡é›†è®¤è¯é€šä¿¡æ—¶çš„æ•°æ®åŒ…ï¼Œä»¥ä¾¿ç¡®å®šå‚æ•°åç§°
# hydra -l admin -P pass.lst -o ok.lst -t 1 -f 127.0.0.1 http-post-form &amp;quot;index.php:name=^USER^&amp;amp;pwd=^PASS^:&amp;lt;title&amp;gt;invalido&amp;lt;/title&amp;gt;&amp;quot;
# hydra -L user.txt \
			-P passwd.txt \
			-o http_get.txt \
			-vV 10.96.10.208 \
			http-get-form  &amp;quot;/vulnerabilities/brute/:username=^USER^&amp;amp;password=^PASS^&amp;amp;Login=Login:F=Username and/or password incorrect:H=Cookie: PHPSESSID=nvvrgk2f84qhnh43cm28pt42n6; security=low&amp;quot; \
			-t 3
USER^å’Œ^
PASS^ä»£è¡¨æ˜¯æ”»å‡»è½½è·ï¼Œ
F=åé¢æ˜¯ä»£è¡¨å¯†ç é”™è¯¯æ—¶çš„å…³é”®å­—ç¬¦ä¸² ï¼Œ
Håé¢æ˜¯cookieä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£https&#34;&gt;ç ´è§£HTTPS&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra -m /index.php -l muts -P pass.txt 10.36.16.18 https
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£http-proxy&#34;&gt;ç ´è§£http-proxy&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra -l admin -P pass.txt http-proxy://10.36.16.18
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£smb&#34;&gt;ç ´è§£SMB&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra -l administrator -P pass.txt 10.36.16.18 smb
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç ´è§£3389è¿œç¨‹ç™»é™†&#34;&gt;ç ´è§£3389è¿œç¨‹ç™»é™†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# hydra ip rdp -l administrator -P pass.txt -V
&lt;/code&gt;&lt;/pre&gt;
">Hydraæš´åŠ›ç ´è§£å·¥å…·ç®€å•ä½¿ç”¨è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/sublist3r-zi-yu-ming-sao-miao-gong-ju-shi-yong-shuo-ming/"" data-c="
          &lt;h3 id=&#34;å®‰è£…æ–¹å¼&#34;&gt;å®‰è£…æ–¹å¼&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;// æºç ä½¿ç”¨
# git clone https://github.com/aboul3la/Sublist3r.git
# cd Sublist3r
# pip install -r requirements.txt

// Kali Linuxå®‰è£…
# apt update
# apt install sublist3r
# sublist3r --help
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å·¥å…·å¸®åŠ©ä¿¡æ¯&#34;&gt;å·¥å…·å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;usage: sublist3r.py [-h] -d DOMAIN [-b [BRUTEFORCE]] [-p PORTS] [-v [VERBOSE]] [-t THREADS] [-e ENGINES] [-o OUTPUT] [-n]

OPTIONS:
  -h, --help            show this help message and exit
  -d DOMAIN, --domain DOMAIN
                        Domain name to enumerate it&#39;s subdomains
  -b [BRUTEFORCE], --bruteforce [BRUTEFORCE]
                        Enable the subbrute bruteforce module
  -p PORTS, --ports PORTS
                        Scan the found subdomains against specified tcp ports
  -v [VERBOSE], --verbose [VERBOSE]
                        Enable Verbosity and display results in realtime
  -t THREADS, --threads THREADS
                        Number of threads to use for subbrute bruteforce
  -e ENGINES, --engines ENGINES
                        Specify a comma-separated list of search engines
  -o OUTPUT, --output OUTPUT
                        Save the results to text file
  -n, --no-color        Output without color

Example: python3 /usr/lib/python3/dist-packages/sublist3r.py -d google.com
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;// æ‰«æå­åŸŸå
# sublist3r -d qq.com

// æ‰«æå­åŸŸåï¼Œå¹¶æ˜¾ç¤ºå¼€æ”¾äº†80å’Œ443ç«¯å£çš„å­åŸŸå
# sublist3r -d qq.com -p 80, 443

// è¾“å‡ºåˆ°æ–‡ä»¶
# sublist3r -d qq.com -o filename.txt

&lt;/code&gt;&lt;/pre&gt;
">Sublist3rå­åŸŸåæ‰«æå·¥å…·ä½¿ç”¨è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/subdomainbrutepy-gong-ju-de-jian-dan-shi-yong-shuo-ming/"" data-c="
          &lt;h3 id=&#34;å®‰è£…æ–¹æ³•&#34;&gt;å®‰è£…æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# git clone https://github.com/lijiejie/subDomainsBrute.git

// python3 ç”¨æˆ·
# pip3 install aiodns
// python2 ç”¨æˆ·
# pip install dnspython gevent

// å­—å…¸è·¯å¾„
# cd subDomainsBrute/dict
# ls
dns_servers.txt  next_sub_full.txt  next_sub.txt  subnames_all_5_letters.txt  subnames_full.txt  subnames.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å·¥å…·å¸®åŠ©è¯´æ˜&#34;&gt;å·¥å…·å¸®åŠ©è¯´æ˜&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;Usage: subDomainsBrute.py [options] target.com

Options:
  --version             show program&#39;s version number and exit
  -h, --help            show this help message and exit
  -f FILE               File contains new line delimited subs, default is
                        subnames.txt.
  --full                Full scan, NAMES FILE subnames_full.txt will be used
                        to brute
  -i, --ignore-intranet
                        Ignore domains pointed to private IPs
  -w, --wildcard        Force scan after wildcard test fail
  -t THREADS, --threads=THREADS
                        Num of scan threads, 200 by default
  -p PROCESS, --process=PROCESS
                        Num of scan Process, 6 by default
  -o OUTPUT, --output=OUTPUT
                        Output file name. default is {target}.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;// ç®€å•æ‰«æ
# python3 subDomainsBrute.py qq.com

// å…¨é‡æ‰«æ,fullå‚æ•°ä¼šä½¿ç”¨å­—å…¸è·¯å¾„ä¸‹çš„subnames_full.txt
# python3 subDoaminBrute.py --full qq.com
&lt;/code&gt;&lt;/pre&gt;
">SubDomainBrute.pyå·¥å…·çš„ç®€å•ä½¿ç”¨è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/centos-78-shi-yong-chrony-jin-xing-shi-jian-tong-bu-pei-zhi/"" data-c="
          &lt;h3 id=&#34;1-å®‰è£…&#34;&gt;1. å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# yum -y install chrony
# systemctl enable chronyd
# systemctl start chronyd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2é…ç½®&#34;&gt;2.é…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vi /etc/chrony.conf

# ä½¿ç”¨ pool.ntp.org é¡¹ç›®ä¸­çš„å…¬å…±æœåŠ¡å™¨ã€‚ä»¥serverå¼€ï¼Œç†è®ºä¸Šæƒ³æ·»åŠ å¤šå°‘æ—¶é—´æœåŠ¡å™¨éƒ½å¯ä»¥ã€‚
# Use public servers from the pool.ntp.org project.
# Please consider joining the pool (http://www.pool.ntp.org/join.html).
server 0.centos.pool.ntp.org iburst
server 1.centos.pool.ntp.org iburst
server 2.centos.pool.ntp.org iburst
server 3.centos.pool.ntp.org iburst

# æ ¹æ®å®é™…æ—¶é—´è®¡ç®—å‡ºæœåŠ¡å™¨å¢å‡æ—¶é—´çš„æ¯”ç‡ï¼Œç„¶åè®°å½•åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨ç³»ç»Ÿé‡å¯åä¸ºç³»ç»Ÿåšå‡ºæœ€ä½³æ—¶é—´è¡¥å¿è°ƒæ•´ã€‚
# Record the rate at which the system clock gains/losses time.
driftfile /var/lib/chrony/drift

# å¦‚æœç³»ç»Ÿæ—¶é’Ÿçš„åç§»é‡å¤§äº1ç§’ï¼Œåˆ™å…è®¸ç³»ç»Ÿæ—¶é’Ÿåœ¨å‰ä¸‰æ¬¡æ›´æ–°ä¸­æ­¥è¿›ã€‚
# Allow the system clock to be stepped in the first three updates if its offset is larger than 1 second.
makestep 1.0 3

# å¯ç”¨å®æ—¶æ—¶é’Ÿï¼ˆRTCï¼‰çš„å†…æ ¸åŒæ­¥ã€‚
# Enable kernel synchronization of the real-time clock (RTC).
rtcsync

# é€šè¿‡ä½¿ç”¨ hwtimestamp æŒ‡ä»¤å¯ç”¨ç¡¬ä»¶æ—¶é—´æˆ³
# Enable hardware timestamping on all interfaces that support it.
#hwtimestamp *

# Increase the minimum number of selectable sources required to adjust the system clock.
#minsources 2

# æŒ‡å®š NTP å®¢æˆ·ç«¯åœ°å€ï¼Œä»¥å…è®¸æˆ–æ‹’ç»è¿æ¥åˆ°æ‰®æ¼”æ—¶é’ŸæœåŠ¡å™¨çš„æœºå™¨
# Allow NTP client access from local network.
#allow 192.168.0.0/16

# Serve time even if not synchronized to a time source.
#local stratum 10

# æŒ‡å®šåŒ…å« NTP èº«ä»½éªŒè¯å¯†é’¥çš„æ–‡ä»¶ã€‚
# Specify file containing keys for NTP authentication.
#keyfile /etc/chrony.keys

# æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„ç›®å½•ã€‚
# Specify directory for log files.
logdir /var/log/chrony

# é€‰æ‹©æ—¥å¿—æ–‡ä»¶è¦è®°å½•çš„ä¿¡æ¯ã€‚
# Select which information is logged.
#log measurements statistics tracking
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3æ‰‹å·¥åŒæ­¥&#34;&gt;3.æ‰‹å·¥åŒæ­¥&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹ ntp_servers
chronyc sources -v

# æŸ¥çœ‹ ntp_servers çŠ¶æ€
chronyc sourcestats -v

# æŸ¥çœ‹ ntp_servers æ˜¯å¦åœ¨çº¿
chronyc activity -v

# æŸ¥çœ‹ ntp è¯¦ç»†ä¿¡æ¯
chronyc tracking -v

# æ‰‹å·¥è¿›è¡ŒåŒæ­¥
chronyc -a makestep
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4ä¿®æ”¹æ—¶åŒº&#34;&gt;4.ä¿®æ”¹æ—¶åŒº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹æ—¥æœŸæ—¶é—´ã€æ—¶åŒºåŠ NTP çŠ¶æ€
timedatectl

# æŸ¥çœ‹æ—¶åŒºåˆ—è¡¨
timedatectl list-timezones
timedatectl list-timezones |  grep  -E &amp;quot;Asia/S.*&amp;quot;

# ä¿®æ”¹æ—¶åŒº
timedatectl set-timezone Asia/Shanghai

# ä¿®æ”¹æ—¥æœŸæ—¶é—´ï¼ˆå¯ä»¥åªä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼‰
timedatectl set-time &amp;quot;2019-09-19 15:50:20&amp;quot;

# å¼€å¯ NTP
timedatectl set-ntp true/flase
&lt;/code&gt;&lt;/pre&gt;
">Centos 7/8 ä½¿ç”¨chronyè¿›è¡Œæ—¶é—´åŒæ­¥é…ç½®</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/ru-he-bi-mian-zai-di-yi-ci-ssh-deng-lu-shi-shu-ru-yes-ti-shi-fu/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;StrictHostKeyChecking no&amp;quot; &amp;gt;~/.ssh/config
&lt;/code&gt;&lt;/pre&gt;
">å¦‚ä½•é¿å…åœ¨ç¬¬ä¸€æ¬¡SSHç™»é™†æ—¶è¾“å…¥yesæç¤ºç¬¦</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/k8s-pod-jian-dan-jie-shao/"" data-c="
          &lt;h3 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h3&gt;
&lt;h5 id=&#34;åœ¨kubernetesé›†ç¾¤ä¸­podæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ä¹Ÿæ˜¯k8sç®¡ç†çš„æœ€å°å•ä½çº§å®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆ-è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨-ç½‘ç»œå’Œå‘½åç©ºé—´ä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒ-åœ¨podä¸­æ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦å¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­-å¯¹äºå…·ä½“åº”ç”¨è€Œè¨€podæ˜¯å®ƒä»¬çš„é€»è¾‘ä¸»æœºpodåŒ…å«ä¸šåŠ¡ç›¸å…³çš„å¤šä¸ªåº”ç”¨å®¹å™¨&#34;&gt;åœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯K8Sç®¡ç†çš„æœ€å°å•ä½çº§ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆã€‚è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œå’Œå‘½åç©ºé—´ï¼Œä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒã€‚åœ¨Podä¸­ï¼Œæ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦ï¼Œå¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­ã€‚å¯¹äºå…·ä½“åº”ç”¨è€Œè¨€ï¼ŒPodæ˜¯å®ƒä»¬çš„é€»è¾‘ä¸»æœºï¼ŒPodåŒ…å«ä¸šåŠ¡ç›¸å…³çš„å¤šä¸ªåº”ç”¨å®¹å™¨ã€‚&lt;/h5&gt;
&lt;h3 id=&#34;ä¸¤ä¸ªæ³¨æ„ç‚¹&#34;&gt;ä¸¤ä¸ªæ³¨æ„ç‚¹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;1.ç½‘ç»œ:
  æ¯ä¸€ä¸ªPodéƒ½ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„Ipåœ°å€ï¼Œåœ¨Podä¸­çš„æ¯ä¸€ä¸ªå®¹å™¨å…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼ŒåŒ…æ‹¬Ipåœ°å€å’Œç½‘ç»œç«¯å£ã€‚åœ¨åŒä¸€ä¸ªPodä¸­çš„å®¹å™¨å¯ä»¥åŒlocahostè¿›è¡Œäº’ç›¸é€šä¿¡ã€‚å½“Podä¸­çš„å®¹å™¨éœ€è¦ä¸Podå¤–çš„å®ä½“è¿›è¡Œé€šä¿¡æ—¶ï¼Œåˆ™éœ€è¦é€šè¿‡ç«¯å£ç­‰å…±äº«çš„ç½‘ç»œèµ„æºã€‚

2.å­˜å‚¨:
  Podèƒ½å¤Ÿè¢«æŒ‡å®šå…±äº«å­˜å‚¨å·çš„é›†åˆï¼Œåœ¨Podä¸­æ‰€æœ‰çš„å®¹å™¨èƒ½å¤Ÿè®¿é—®å…±äº«å­˜å‚¨å·ï¼Œå…è®¸è¿™äº›å®¹å™¨å…±äº«æ•°æ®ã€‚å­˜å‚¨å·ä¹Ÿå…è®¸åœ¨ä¸€ä¸ªPodæŒä¹…åŒ–æ•°æ®ï¼Œä»¥é˜²æ­¢å…¶ä¸­çš„å®¹å™¨éœ€è¦è¢«é‡å¯ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;podçš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;Podçš„ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shel&#34;&gt;ä¸€å…±æœ‰4ç§çŠ¶æ€ï¼š

1. Pendingï¼šAPIserverå·²ç»åˆ›å»ºè¯¥serverï¼Œä½†podä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é•œåƒè¿˜æœªåˆ›å»ºï¼Œå¯èƒ½åœ¨ä¸‹è½½ä¸­ï¼›
2. Runningï¼šPodä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²åˆ›å»ºï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œæ­£åœ¨å¯åŠ¨æˆ–é‡å¯çŠ¶æ€ï¼›
3. Failedï¼šPodå†…æ‰€æœ‰å®¹å™¨éƒ½å·²é€€å‡ºï¼Œå…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨é€€å‡ºå¤±è´¥ï¼›
4. Unknownï¼šç”±äºæŸç§åŸå› æ— æ³•è·å–Podçš„çŠ¶æ€æ¯”å¦‚ç½‘ç»œé—®é¢˜ï¼›
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;podçš„é‡å¯ç­–ç•¥&#34;&gt;Podçš„é‡å¯ç­–ç•¥&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;é‡å¯ç­–ç•¥å¯¹åŒä¸€ä¸ªPodä¸­çš„æ‰€æœ‰å®¹å™¨èµ·ä½œç”¨ï¼Œå®¹å™¨çš„é‡å¯ç”±Nodeä¸Šçš„kubeletæ‰§è¡Œï¼Œæ”¯æŒä¸‰ç§ç­–ç•¥ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡restartPolicyå­—æ®µè®¾ç½®ï¼š
1. Alwaysï¼šåªè¦é€€å‡ºå°±ä¼šé‡å¯
2. OnFailureï¼šåªæœ‰åœ¨å¤±è´¥é€€å‡ºæ—¶ï¼Œæ‰ä¼šé‡å¯
3. Neverï¼šåªè¦é€€å‡ºï¼Œå°±ä¸å†é‡å¯

æ³¨æ„ï¼Œè¿™é‡Œçš„é‡å¯æ˜¯æŒ‡åœ¨Podçš„å®¿ä¸»Nodeä¸Šè¿›è¡Œæœ¬åœ°é‡å¯ï¼Œè€Œä¸æ˜¯è°ƒåº¦åˆ°å…¶å®ƒNodeä¸Šã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¥åº·æ£€æŸ¥&#34;&gt;å¥åº·æ£€æŸ¥&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¸¤ç§æ¢é’ˆç±»å‹ï¼š
ä¸€ã€LivenessProbeæ¢é’ˆï¼š  åˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼ˆrunningï¼‰
1.ExecActionï¼Œåœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ŒçŠ¶æ€è¿”å›ç ä¸º0ï¼Œè¡¨ç¤ºå¥åº·ï¼Œç¤ºä¾‹ï¼š
apiVersion: v1
kind: Pod
metadata:
 name: liveness
spec:
  containers:
  - name: liveness
    image: liveness
    args: 
    - /bin/sh
    - -c
    - echo ok &amp;gt; /tmp/healthy: sleep 10; rm - rf /tmp/healthy; sleep 600
    livenessProbe:
      exec:
        command:
        - cat
        - /tmp/health
    initialDelaySeconds: 15
    timeoutSeconds: 1
    
2.TcpActionï¼Œé€šè¿‡IPå’ŒPORTï¼Œå¦‚æœèƒ½å¤Ÿå’Œå®¹å™¨å»ºç«‹è¿æ¥åˆ™è¡¨ç¤ºå®¹å™¨å¥åº·ï¼Œç¤ºä¾‹ï¼š
apiVersion: v1
kind: Pod
metadata:
 name: pod-with-healthcheck
spec:
  containers:
  - name: nginx
    image: nginx
    ports:
    - containerPort: 80
    livenessProbe:
      tcpSocket:
        port: 80
    initialDelaySeconds: 15
    timeoutSeconds: 1
3.HttpGetActionï¼Œå‘é€getè¯·æ±‚ï¼Œè¿”å›ç åœ¨200-400ä¹‹é—´è¡¨ç¤ºå¥åº·ï¼Œ ç¤ºä¾‹ï¼š
apiVersion: v1
kind: Pod
metadata:
 name: pod-with-healthcheck
spec:
  containers:
  - name: nginx
    image: nginx
    ports:
    - containerPort: 80
    livenessProbe:
      httpGet:
        path: /_status/healthz  //è¯·æ±‚è·¯å¾„
        port: 80
    initialDelaySeconds: 15
    timeoutSeconds: 1
    
äºŒã€ReadinessProbeæ¢é’ˆï¼š ç”¨äºåˆ¤æ–­å®¹å™¨æ˜¯å¦å¯åŠ¨å®Œæˆï¼ˆreadyï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;podçš„è°ƒåº¦&#34;&gt;Podçš„è°ƒåº¦&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®šå‘è°ƒåº¦ï¼ŒnodeSelector
1.é¦–å…ˆé€šè¿‡kubectlç»™nodeæ‰“ä¸Šæ ‡ç­¾ï¼š
æ ¼å¼ï¼š kubectl label nodes &amp;lt;node-name&amp;gt; &amp;lt;label-key&amp;gt;=&amp;lt;label-value&amp;gt;
kubectl label nodes node1 zone=north

2.åœ¨podå®šä¹‰é‡Œé€‰æ‹©æŸä¸ªnode
apiVersion: v1
kind: Pod
metadata:
name: pod-with-healthcheck
spec:
containers:
- name: nginx
  image: nginx
  ports:
  - containerPort: 80
nodeSelector:
  zone: north

# äº²å’Œæ€§å’Œéäº²å’Œæ€§
ä¸€ã€Node affinityï¼ˆèŠ‚ç‚¹äº²å’Œæ€§ï¼‰
1. requiredDuringSchedulingIgnoredDuringExecutionï¼š
å¯è®¤ä¸ºä¸€ç§å¼ºåˆ¶é™åˆ¶ï¼Œå¦‚æœ Node çš„æ ‡ç­¾å‘ç”Ÿäº†å˜åŒ–å¯¼è‡´å…¶æ²¡æœ‰ç¬¦åˆ Pod çš„è°ƒåº¦è¦æ±‚èŠ‚ç‚¹ï¼Œé‚£ä¹ˆpodè°ƒåº¦å°±ä¼šå¤±è´¥ã€‚
2.preferredDuringSchedulingIgnoredDuringExecutionï¼š
è½¯é™æˆ–åå¥½ï¼ŒåŒæ ·å¦‚æœ Node çš„æ ‡ç­¾å‘ç”Ÿäº†å˜åŒ–å¯¼è‡´å…¶ä¸å†ç¬¦åˆ pod çš„è°ƒåº¦è¦æ±‚ï¼Œpod ä¾ç„¶ä¼šè°ƒåº¦è¿è¡Œã€‚

äºŒã€Pod Affinityï¼ˆPodäº²å’Œæ€§ï¼‰
    podAffinityç”¨äºè°ƒåº¦podå¯ä»¥å’Œå“ªäº›podéƒ¨ç½²åœ¨åŒä¸€æ‹“æ‰‘ç»“æ„ä¹‹ä¸‹ã€‚è€ŒpodAntiAffinityç›¸åï¼Œå…¶ç”¨äºè§„å®špodä¸å¯ä»¥å’Œå“ªäº›podéƒ¨ç½²åœ¨åŒä¸€æ‹“æ‰‘ç»“æ„ä¸‹ã€‚é€šè¿‡pod affinityä¸anti-affinityæ¥è§£å†³podå’Œpodä¹‹é—´çš„å…³ç³»ã€‚
&lt;/code&gt;&lt;/pre&gt;
">K8s-Podç®€å•ä»‹ç»</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/namespace-ji-ben-zhi-shi/"" data-c="
          &lt;h3 id=&#34;åè¯è§£é‡Š&#34;&gt;åè¯è§£é‡Š&lt;/h3&gt;
&lt;h5 id=&#34;namespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„-å¸¸è§çš„podsservicesrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„é»˜è®¤æ˜¯defaultè€Œnodepersistentvolumnsç­‰åˆ™ä¸å±äºä»»ä½•namespace&#34;&gt;Namespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆï¼Œæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„ã€‚å¸¸è§çš„podsï¼Œservicesï¼Œrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„ï¼ˆé»˜è®¤æ˜¯defaultï¼‰ï¼Œè€Œnodeï¼ŒpersistentVolumnsç­‰åˆ™ä¸å±äºä»»ä½•namespaceã€‚&lt;/h5&gt;
&lt;h3 id=&#34;namespaceç›¸å…³æ“ä½œ&#34;&gt;Namespaceç›¸å…³æ“ä½œ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;kubectlå¯ä»¥é€šè¿‡â€“namespaceæˆ–è€…-né€‰é¡¹æŒ‡å®šnamespaceã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºdefaultã€‚æŸ¥çœ‹æ“ä½œä¸‹,ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®â€“all-namespace=trueæ¥æŸ¥çœ‹æ‰€æœ‰namespaceä¸‹çš„èµ„æºã€‚

# æŸ¥è¯¢ns
$ kubectl get namespaces
NAME          STATUS    AGE
default       Active    11d
kube-system   Active    11d

# æŸ¥è¯¢å“ªäº›èµ„æºä½äºnamespaceä¸­
kubectl api-resources --namespaced=true
# æŸ¥çœ‹å“ªäº›èµ„æºä¸åœ¨å‘½ä»¤ç©ºé—´
kubectl api-resources --namespaced=false

# æŒ‡å®šnsæŸ¥è¯¢å¯¹åº”nsä¸­çš„èµ„æºæƒ…å†µ
kubectl get pods -n kube-system

# åˆ›å»º
# 1.å‘½ä»¤è¡Œç›´æ¥åˆ›å»º
$ kubectl create namespace new-namespace

# 2.é€šè¿‡æ–‡ä»¶åˆ›å»º
$ cat my-namespace.yaml
apiVersion: v1
kind: Namespace
metadata:
  name: new-namespace

$ kubectl create -f ./my-namespace.yaml

# åˆ é™¤ï¼Œå³åˆ é™¤è¯¥nsä¸‹æ‰€æœ‰èµ„æº
# æ³¨æ„ï¼šdefaultå’Œkube-systemå‘½åç©ºé—´ä¸èƒ½åˆ é™¤
$ kubectl delete namespaces new-namespace

# åˆ‡æ¢ns
kubectl config set-context --current --namespace=kube-system
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…³äºnamespaceæ˜¯å¦éš”ç¦»ç½‘ç»œ&#34;&gt;å…³äºNamespaceæ˜¯å¦éš”ç¦»ç½‘ç»œ&lt;/h3&gt;
&lt;h5 id=&#34;ä¸€èˆ¬æƒ…å†µä¸‹é»˜è®¤æ˜¯ä¸ä¼šéš”ç¦»ç½‘ç»œæµé‡çš„é™¤éå¯¹æŸä¸ªnamespaceè®¾ç½®äº†å®‰å…¨ç­–ç•¥&#34;&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯ä¸ä¼šéš”ç¦»ç½‘ç»œæµé‡çš„ï¼Œé™¤éå¯¹æŸä¸ªnamespaceè®¾ç½®äº†å®‰å…¨ç­–ç•¥ã€‚&lt;/h5&gt;
">K8s-NamespaceåŸºæœ¬çŸ¥è¯†</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/shi-yong-minikube-da-jian-ben-di-xue-xi-huan-jing/"" data-c="
          &lt;h3 id=&#34;å®‰è£…kubectl&#34;&gt;å®‰è£…kubectl&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ³¨æ„ï¼šå®‰è£…æ–¹æ³•æ¨èå‚è€ƒå®˜æ–¹ç½‘ç«™ï¼Œå®‰è£…æ–¹å¼éšç€ç‰ˆæœ¬å˜æ›´ä¼šå‘ç”Ÿå˜åŠ¨
# ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶
curl -LO &amp;quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl&amp;quot;
# ä¸‹è½½æ ¡éªŒæ–‡ä»¶
curl -LO &amp;quot;https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256&amp;quot;
# æ£€æŸ¥ä¸‹è½½æ–‡ä»¶å’Œæ ¡éªŒæ–‡ä»¶æ˜¯å¦åŒ¹é…
echo &amp;quot;$(&amp;lt;kubectl.sha256) kubectl&amp;quot; | sha256sum --check
# å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
# æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ
kubectl version --client
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…minikube&#34;&gt;å®‰è£…Minikube&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
# å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶
sudo install minikube-linux-amd64 /usr/local/bin/minikube
# å¯åŠ¨é›†ç¾¤ï¼Œå¯åŠ¨ä¹‹å‰éœ€è¦ç¡®ä¿ç³»ç»Ÿä¸­æœ‰å®¹å™¨è¿è¡Œæ—¶ï¼Œæ¯”å¦‚dockerï¼Œkvmï¼Œå¦åˆ™é›†ç¾¤å¯åŠ¨å¤±è´¥
minikube start

# è‹¥å‡ºç°ï¼šThe &amp;quot;docker&amp;quot; driver should not be used with root privileges.
# å°†å½“å‰å…·æœ‰sudoæƒé™çš„ç”¨æˆ·æ·»åŠ åˆ°dockerç»„å³å¯
sudo usermod -aG docker &amp;lt;username&amp;gt;
# æ¿€æ´»ç»„çš„é…ç½®ï¼Œè¿™æ­¥å¿…é¡»
newgrp docker
# å†æ¬¡å¯åŠ¨
minikube start
# æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯
kubectl cluster-info

&lt;/code&gt;&lt;/pre&gt;
">K8s-ä½¿ç”¨Minikubeæ­å»ºæœ¬åœ°å­¦ä¹ ç¯å¢ƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/playbook-zhong-shi-yong-copy-lai-chuan-shu-wen-jian/"" data-c="
          &lt;h3 id=&#34;åŸºæœ¬é…ç½®ç¤ºä¾‹&#34;&gt;åŸºæœ¬é…ç½®ç¤ºä¾‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;- hosts: all
    vars: 
      wss_url: http://10.77.10.125:8545 
    tasks:
      - name: &amp;quot;æ¨é€é…ç½®æ–‡ä»¶&amp;quot;
        template: src=/home/fm/ops/scripts/default.yaml dest=/etc/bee/default.yaml
      - name: &amp;quot;send all scripts&amp;quot;
        copy:
          src: &#39;{{ item.src }}&#39;
          dest: /tmp/
          owner: root
          group: root
          mode: 755
        with_items:
          - { src: &#39;/home/fm/ops/scripts/start05.sh&#39; }
          - { src: &#39;/home/fm/ops/scripts/stop.sh&#39; }
  
 
# ä½¿ç”¨{{ item.src }}è¯»å–with_itemsä¸­çš„æ•°ç»„å…ƒç´ ï¼Œè®¿é—®éœ€è¦æ‹·è´çš„æ¯ä¸€ä¸ªæ–‡ä»¶å³å¯ã€‚

# æ£€æŸ¥è¯­æ³•
ansible-playbook --syntax-check example.yaml
&lt;/code&gt;&lt;/pre&gt;
">Ansible-Playbookä¸­ä½¿ç”¨copyæ¥ä¼ è¾“æ–‡ä»¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/playbook-zhong-yong-hu-de-qie-huan-wen-ti/"" data-c="
          &lt;h3 id=&#34;becomeé…ç½®ç¤ºä¾‹&#34;&gt;becomeé…ç½®ç¤ºä¾‹ï¼š&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;- hosts: www.360.com
  remote_user: zabbix
  become: yes
  become_method: su
  tasks:
   - selinux:
        state: disabled
   - name: disable firewalld
     shell: systemctl stop firewalld &amp;amp;&amp;amp; systemctl disable firewalld
 
# becomeè¯´æ˜
become:        yes  # æ˜¯å¦å…è®¸èº«ä»½åˆ‡æ¢
become_method: su   # åˆ‡æ¢ç”¨æˆ·èº«ä»½çš„æ–¹å¼ï¼Œæœ‰sudoã€suã€pbrunç­‰æ–¹å¼ï¼Œé»˜è®¤ä¸ºsudo
become_user: root   # åˆ‡æ¢æŒ‡å®šçš„ç”¨æˆ·ï¼Œé»˜è®¤ä¸å†™ï¼Œå°±æ˜¯root
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;sudoé…ç½®è§£é‡Š&#34;&gt;sudoé…ç½®è§£é‡Š&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;hosts                # æŒ‡å®šä¸»æœºåˆ†ç»„ï¼Œå¯ä»¥å–å¹¶é›†ï¼Œäº¤é›†ç­‰
remote_user          # ç”¨äºæŒ‡å®šè¿œç¨‹ä¸»æœºä¸Šçš„æ‰§è¡Œä»»åŠ¡çš„ç”¨æˆ·ï¼Œæœ€ä½³å®è·µæ˜¯è¯¥ç”¨æˆ·å…·æœ‰sudoæƒé™
user                 # å’Œremote_userç›¸åŒ
sudo                 # å¦‚æœè®¾ç½®ä¸ºyesï¼Œæ‰§è¡Œè¯¥ä»»åŠ¡ç»„çš„ç”¨æˆ·åœ¨æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œè·å–rootæƒé™ï¼Œä¹Ÿå¯ä»¥å‘½ä»¤è¡Œä½¿ç”¨-bå‚æ•°
sudo_user            # å¦‚æœè®¾ç½®userä¸ºAï¼Œsudoä¸ºyesï¼Œsudo_userä¸ºBæ—¶ï¼Œåˆ™Aç”¨æˆ·åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ä¼šè·å¾—Bç”¨æˆ·çš„æƒé™ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¸æ¨è
&lt;/code&gt;&lt;/pre&gt;
">Ansible-Playbookä¸­ç”¨æˆ·çš„åˆ‡æ¢é—®é¢˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/playbook-li-yong-tags-zhi-xing-bu-fen-task/"" data-c="
          &lt;h3 id=&#34;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ç¤ºä¾‹é…ç½®&#34;&gt;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œç¤ºä¾‹é…ç½®ï¼š&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;tasks:
  - yum: name={{ item }} state=installed
    with_items:
       - httpd
    tags:
       - packages
  - name: copy httpd.conf
    template: src=templates/httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf
    tags:
       - configuration
  - name: copy index.html
    template: src=templates/index.html.j2 dest=/var/www/html/index.html
    tags:
       - configuration
  
 
# æ‰§è¡Œéƒ¨åˆ†ä»»åŠ¡
ansible-playbook example.yml --tags &amp;quot;packages&amp;quot;

# æŒ‡å®šä¸æ‰§è¡Œpackageséƒ¨åˆ†çš„ä»»åŠ¡
ansible-playbook example.yml --skip-tags &amp;quot;configuration&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç‰¹æ®Šçš„tags&#34;&gt;ç‰¹æ®Šçš„tags&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# always æ ‡ç­¾ï¼Œå³ä½¿æŒ‡å®šæ‰§è¡Œäº†æŸtagçš„ä»»åŠ¡ï¼Œæ ‡è®°ä¸ºalwaysçš„ä»»åŠ¡ä¹Ÿä¼šè¢«æ‰§è¡Œ
tasks:
  - debug: msg=&amp;quot;Always print this debug message&amp;quot;
    tags:
      - always
  - yum: name={{ item }} state=installed
    with_items:
       - httpd
    tags:
       - packages
  - template: src=templates/httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf
    tags:
       - configuration

# è¿™é‡Œæ ‡è®°ä¸ºalwaysçš„ä»»åŠ¡ä¹Ÿä¼šè¢«æ‰§è¡Œ
ansible-playbook tags_always.yml --tags &amp;quot;packages&amp;quot;

# targgedï¼Œuntaggedï¼Œallï¼Œä½¿ç”¨è¿™äº›æ ‡ç­¾æ—¶ï¼Œä¸éœ€è¦åŠ åŒå¼•å·
taggedï¼Œå³æ‰§è¡Œæ‰€æœ‰è¢«æ‰“æ ‡ç­¾çš„ä»»åŠ¡
untaggedï¼Œå³æ‰§è¡Œæ‰€æœ‰æœªè¢«æ‰“æ ‡ç­¾çš„ä»»åŠ¡
allï¼Œæ‰€æœ‰ä»»åŠ¡
&lt;/code&gt;&lt;/pre&gt;
">Ansible-Playbookåˆ©ç”¨tagsæ‰§è¡Œéƒ¨åˆ†task</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/shi-yong-prometheus-jian-kong-zhu-ji-docker-rong-qi-yun-xing-zhuang-tai/"" data-c="
          &lt;h3 id=&#34;éƒ¨ç½²æ–¹å¼å®¹å™¨åŒ–éƒ¨ç½²&#34;&gt;éƒ¨ç½²æ–¹å¼ï¼šå®¹å™¨åŒ–éƒ¨ç½²&lt;/h3&gt;
&lt;h4 id=&#34;éƒ¨ç½²æµç¨‹&#34;&gt;éƒ¨ç½²æµç¨‹ï¼š&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿è¡Œnode-exporterç›‘æ§ä¸»æœºåŸºæœ¬ä¿¡æ¯ï¼Œè®¿é—®9100ç«¯å£è¿›è¡ŒéªŒè¯
docker run -d --name node \
	-p 9100:9100 \
	-v /proc:/host/proc \
	-v /sys:/host/sys \
	-v /:/rootfs \
	--net=host prom/node-exporter \
	--path.procfs /host/proc \
	--path.sysfs /host/sys \
	--collector.filesystem.ignored-mount-points &amp;quot;^/(sys|proc|dev|host|etc)($|/)&amp;quot;

# è¿è¡ŒcAdvisorç›‘æ§å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼Œè®¿é—®8080ç«¯å£è¿›è¡ŒéªŒè¯
docker run -v /:/rootfs:ro \
	-v /var/run:/var/run/:rw \
	-v /sys:/sys:ro \
	-v /var/lib/docker:/var/lib/docker:ro \
	-p 8080:8080 \
	--detach=true \
	--name=cadvisor \
	--net=host google/cadvisor

# åœ¨ç›‘æ§ä¸»èŠ‚ç‚¹ä¸Šéƒ¨ç½²prometheus serverï¼Œå®¢æˆ·èŠ‚ç‚¹æ— éœ€å®‰è£…
docker run -d -p 9090:9090 --name prometheus --net=host prom/prometheus
# å°†å®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶æ‹·è´åˆ°å®¿ä¸»ï¼Œè¿›è¡Œä¿®æ”¹
docker cp prometheus:/etc/prometheus/prometheus.yml ./
# ä¿®æ”¹static_configsï¼ŒæŒ‡å‘æ‰€æœ‰å®¢æˆ·èŠ‚ç‚¹çš„9100å’Œ8080ç«¯å£è·å–æ•°æ®
vim prometheus.yml

# é…ç½®æ›´æ–°å®Œæˆåï¼Œåˆ é™¤åŸprometheus serverå®¹å™¨
docker rm prometheus -f
# é‡æ–°å°†æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œè®¿é—®9090ç«¯å£è¿›è¡ŒéªŒè¯
docker run -d -p 9090:9090 --name prometheus --net=host -v /root/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus

# éƒ¨ç½²grafanaå›¾å½¢åŒ–ç•Œé¢ï¼Œè®¿é—®3000ç«¯å£è¿›è¡ŒéªŒè¯
mkdir grafana-storage
chmod 777 -R grafana-storage/
docker run -d -p 3000:3000 \
	--name grafana \
	-v /root/grafana-storage:/var/lib/grafana \
	-e &amp;quot;GF_SECURITY_ADMIN_PASSWORD=123456&amp;quot; grafana/grafana
	
# grafanaæ¨¡æ¿ï¼Œæ‰“å¼€grafana.com, ç‚¹å‡»dashboradsï¼Œæ ¹æ®æ•°æ®æºå’Œç±»å‹é€‰æ‹©åˆé€‚çš„æ¨¡æ¿

&lt;/code&gt;&lt;/pre&gt;
">Prometheus-ä½¿ç”¨prometheusç›‘æ§ä¸»æœºdockerå®¹å™¨è¿è¡ŒçŠ¶æ€</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/ru-he-chai-chu-linux-ruan-raid-she-bei/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. å¸è½½è®¾å¤‡
# umount /dev/md0

2. åœæ­¢raidè®¾å¤‡
# mdadm -S /dev/md0  // åœæ­¢raidè®¾å¤‡

3. æŸ¥çœ‹å±äºraidç»„çš„è®¾å¤‡åç§°
# blkid 

4. ä»raidç»„ä¸­åˆ é™¤ç¡¬ç›˜
# mdadm --misc --zero-superblock /dev/xxx

ä»¥ä¸‹æ“ä½œå¯é€‰ï¼š
5. åˆ é™¤é…ç½®æ–‡ä»¶ï¼šrm -f /etc/mdadm.conf

6. æ›´æ–°/etc/fstab
&lt;/code&gt;&lt;/pre&gt;
">å¦‚ä½•æ‹†é™¤Linuxè½¯Raidè®¾å¤‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/nmap-gong-ju-chang-yong-shi-yong-chang-jing/"" data-c="
          &lt;h3 id=&#34;ä¸»æœºå‘ç°&#34;&gt;ä¸»æœºå‘ç°&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ä»¥192.168.1.0/24ä¸¾ä¾‹

nmap -PE 192.168.1.0/24  # icmp
namp -PO 192.168.1.0/24  # ip
nmap -PS 192.168.1.0/24  # tcp syn
nmap -PA 192.168.1.0/24  # tcp ack
nmap -PU 192.168.1.0/24  # udp
nmap -PY 192.168.1.0/24  # sctp
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç«¯å£æ‰«æ&#34;&gt;ç«¯å£æ‰«æ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1.SYN Scanning
nmap -sS 192.168.1.0/24  # ä»…å‘é€SYNï¼Œè¿”å›SYN/ACKåº”ç­”è¡¨ç¤ºç«¯å£å¼€å¯ï¼Œè¿”å›RSTè¡¨ç¤ºç«¯å£å…³é—­

2.TCP Scanning
nmap -sT 192.168.1.0/24  # å»ºç«‹å®Œæ•´çš„TCPè¿æ¥ï¼Œè¡¨ç¤ºç«¯å£å¼€å¯ï¼Œå¦åˆ™è¡¨ç¤ºå…³é—­

3.UDP Scanning
nmap -sU 192.168.1.0/24  # UDPï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºç«¯å£å¼€å¯ï¼›è¿”å›&amp;quot;Port Unreachable&amp;quot;ä¿¡æ¯ï¼Œè¡¨ç¤ºå…³é—­

4.FIN Scanning
nmap -sF 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­é‡ç½®FINæ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­

5.NULL Scanning
nmap -sN 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­ä¸åŒ…å«ä»»ä½•æ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­

6.Xmas Scanning
nmap -sX 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­é‡ç½®FINã€RSTã€PUSHæ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­

7.IDLE Scanning
nmap -sI 172.16.1.1 192.168.1.0/24  
# åˆ©ç”¨åƒµå°¸ä¸»æœºè¿›è¡Œæ‰«æï¼Œå‡è®¾åƒµå°¸IPä¸º172.16.1.1ï¼Œå½“åƒµå°¸æœºè¿”å›åºåˆ—IDå¢åŠ æ•°é‡ä¸º2æ—¶ï¼Œè¡¨ç¤ºå¼€å¯ï¼Œä¸º1æ—¶å…³é—­

8.æŒ‡å®šç«¯å£æ‰«æ
nmap -p 80,443 192.168.1.0/24  # å¯ä»¥æŒ‡å®šå¤šä¸ªç«¯å£

9.æ‰«æå¸¸è§çš„100ä¸ªç«¯å£
nmap -F 192.168.1.0/24  # å¿«é€Ÿæ¨¡å¼

10.ä½¿ç”¨åè®®åè¿›è¡Œæ‰«æ
nmap -p http 192.168.1.0/24
nmap -p smtp 192.168.1.0/24

11.æ‰«æå¸¸ç”¨ç«¯å£
nmap --top-ports &amp;lt;ç«¯å£æ•°é‡&amp;gt; 192.168.1.0/24

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«&#34;&gt;æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nmap -O 192.168.1.0/24   # os
nmap -sV 192.168.1.0/24  # service version
nmap -A 192.168.1.0/24   # all
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨è„šæœ¬&#34;&gt;ä½¿ç”¨è„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nmap --script &amp;lt;è„šæœ¬åç§°&amp;gt; 192.168.1.0/24
&lt;/code&gt;&lt;/pre&gt;
">Nmapå·¥å…·å¸¸ç”¨ä½¿ç”¨åœºæ™¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/xfs-wen-jian-xi-tong-xiu-fu-liu-cheng/"" data-c="
          &lt;h3 id=&#34;è¯¦ç»†æµç¨‹å¦‚ä¸‹&#34;&gt;è¯¦ç»†æµç¨‹å¦‚ä¸‹ï¼š&lt;/h3&gt;
&lt;p&gt;1.ä½¿ç”¨ xfs_repair -n æ‰§è¡Œæ–‡ä»¶ç³»ç»Ÿé”™è¯¯æ£€æµ‹ï¼Œå’Œ fsck -n ç±»ä¼¼ï¼›&lt;br&gt;
2.ä½¿ç”¨ xfs_repair å°è¯•è¿›è¡Œä¿®å¤ï¼›&lt;br&gt;
3.å½“é‡è§æ— æ³•æ­£å¸¸æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œéœ€è¦ä½¿ç”¨å¼ºåˆ¶æ¨¡å¼ -L æ¨¡å¼è¿›è¡Œä¿®å¤ï¼Œä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œå¯ä»¥å…ˆå¯¹metadataè¿›è¡Œæ¨¡æ‹Ÿä¿®å¤æµ‹è¯•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;xfs_metadump [partition] /path/to/file.metadump                                  # å¯¹éœ€è¦ä¿®å¤çš„åˆ†åŒºè¿›è¡Œdump&lt;/li&gt;
&lt;li&gt;xfs_mdrestore /path/to/file.metadump /path/to/file.img                         # ç”Ÿæˆimgæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;losetup --show --find /path/to/file.img                                                    # ä½¿ç”¨lostupå·¥å…·å°†æ•°æ®æ”¾åˆ°/dev/loop0&lt;/li&gt;
&lt;li&gt;xfs_repair -L /dev/loop0                                                                        # å°è¯•æ¨¡æ‹Ÿä¿®å¤&lt;/li&gt;
&lt;li&gt;mount /dev/loop0 /mnt&lt;/li&gt;
&lt;li&gt;check the damage&lt;/li&gt;
&lt;li&gt;(note, this is an image of file system layout, but not the actual data)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4.æ‹·è´çœŸå®æ•°æ®ï¼Œå¹¶å¯¹æ‹·è´çš„æ•°æ®è¿›è¡Œä¿®å¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ddrescue -f -n [partition] /path/to/rescued.img rescue.log                      # è¿™éœ€è¦ä¸€ä¸ªæ¯”åŸåˆ†åŒºå¤§å°æ›´å¤§çš„ç£ç›˜&lt;/li&gt;
&lt;li&gt;ddrescue -d -f -r3 [partition] /path/to/rescued.img rescue.log&lt;/li&gt;
&lt;li&gt;losetup --show --find /path/to/rescued.img&lt;/li&gt;
&lt;li&gt;xfs_repair -L /dev/loop0&lt;/li&gt;
&lt;li&gt;mount /dev/loop0 /mnt&lt;/li&gt;
&lt;li&gt;check the damage&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;5.å¦‚æœçœŸå®ç¯å¢ƒç¼ºå°‘è¿™æ ·çš„å¤‡ä»½åˆ†åŒºï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨xfs_repair -Læ¨¡å¼è¿›è¡Œå¼ºåˆ¶ä¿®å¤ã€‚&lt;/p&gt;
">XFSæ–‡ä»¶ç³»ç»Ÿä¿®å¤æµç¨‹</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/ipmitool-gong-ju-de-shi-yong-shuo-ming/"" data-c="
          &lt;h3 id=&#34;å®‰è£…å·¥å…·&#34;&gt;å®‰è£…å·¥å…·&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y ipmitool 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯åŠ¨æœåŠ¡&#34;&gt;å¯åŠ¨æœåŠ¡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;service ipmi start
ipmitool -I open shell     # è¿›å…¥äº¤äº’å¼shell
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸€-å¼€å…³æœºé‡å¯&#34;&gt;ä¸€ã€å¼€å…³æœºï¼Œé‡å¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. æŸ¥çœ‹å¼€å…³æœºçŠ¶æ€ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power status

2. å¼€æœºï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power on

3. å…³æœºï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power off

4. é‡å¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power reset
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒ-ç”¨æˆ·ç®¡ç†&#34;&gt;äºŒã€ç”¨æˆ·ç®¡ç†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¯´æ˜ï¼š[ChannelNo] å­—æ®µæ˜¯å¯é€‰çš„ï¼ŒChannoNoä¸º1æˆ–è€…8ï¼›BMCé»˜è®¤æœ‰2ä¸ªç”¨æˆ·ï¼šuser idä¸º1çš„åŒ¿åç”¨æˆ·ï¼Œuser idä¸º2çš„ADMINç”¨æˆ·ï¼›&amp;lt;&amp;gt;å­—æ®µä¸ºå¿…é€‰å†…å®¹ï¼›&amp;lt;privilege level&amp;gt;ï¼š2ä¸ºuseræƒé™ï¼Œ3ä¸ºOperatoræƒé™ï¼Œ4ä¸ºAdministratoræƒé™ï¼›

1. æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user list [ChannelNo]

2. å¢åŠ ç”¨æˆ·ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user set name &amp;lt;user id&amp;gt; &amp;lt;username&amp;gt;

3. è®¾ç½®å¯†ç ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user set password &amp;lt;user id&amp;gt; &amp;lt;password&amp;gt;

4. è®¾ç½®ç”¨æˆ·æƒé™ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user priv &amp;lt;user id&amp;gt; &amp;lt;privilege level&amp;gt; [ChannelNo]

5. å¯ç”¨/ç¦ç”¨ç”¨æˆ·ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user enable/disable &amp;lt;user id&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸‰-ipç½‘ç»œè®¾ç½®&#34;&gt;ä¸‰ã€IPç½‘ç»œè®¾ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¯´æ˜ï¼š[ChannelNo] å­—æ®µæ˜¯å¯é€‰çš„ï¼ŒChannoNoä¸º1(Share Nicç½‘ç»œ)æˆ–è€…8ï¼ˆBMCç‹¬ç«‹ç®¡ç†ç½‘ç»œï¼‰ï¼›è®¾ç½®ç½‘ç»œå‚æ•°ï¼Œå¿…é¡»é¦–å…ˆè®¾ç½®IPä¸ºé™æ€ï¼Œç„¶åå†è¿›è¡Œå…¶ä»–è®¾ç½®ï¼›

1. æŸ¥çœ‹ç½‘ç»œä¿¡æ¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan print [ChannelNo]

2. ä¿®æ”¹IPä¸ºé™æ€è¿˜æ˜¯DHCPæ¨¡å¼ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; ipsrc &amp;lt;static/dhcp&amp;gt;

3. ä¿®æ”¹IPåœ°å€ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; ipaddr &amp;lt;IPAddress&amp;gt;

4. ä¿®æ”¹å­ç½‘æ©ç ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; netmask &amp;lt;NetMask&amp;gt;

5. ä¿®æ”¹é»˜è®¤ç½‘å…³ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; defgw ipaddr &amp;lt;é»˜è®¤ç½‘å…³&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å››-solåŠŸèƒ½&#34;&gt;å››ã€SOLåŠŸèƒ½&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¯´æ˜ï¼š&amp;lt;9.6/19.2/38.4/57.6/115.2&amp;gt;å…¶ä¸­115.2ä»£è¡¨115200ï¼Œå³*1000æ˜¯è¡¨ç¤ºçš„æ³¢ç‰¹ç‡;

1. è®¾ç½®SOLä¸²å£æ³¢ç‰¹ç‡ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol set volatile-bit-rate &amp;lt;9.6/19.2/38.4/57.6/115.2&amp;gt;

2. æ‰“å¼€SOLåŠŸèƒ½ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol activate

3. å…³é—­SOLåŠŸèƒ½ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol deactivate
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äº”-selæ—¥å¿—æŸ¥çœ‹&#34;&gt;äº”ã€SELæ—¥å¿—æŸ¥çœ‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. æŸ¥çœ‹SELæ—¥å¿—ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sel list
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…­-fruä¿¡æ¯æŸ¥çœ‹&#34;&gt;å…­ã€FRUä¿¡æ¯æŸ¥çœ‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. æŸ¥çœ‹FRUä¿¡æ¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) fru list
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸ƒ-sdrsensorä¿¡æ¯æŸ¥çœ‹&#34;&gt;ä¸ƒã€SDRï¼ŒSensorä¿¡æ¯æŸ¥çœ‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. æŸ¥çœ‹SDR Sensorä¿¡æ¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sdr

2. æŸ¥çœ‹Sensorä¿¡æ¯ï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sensor list
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…«-mcç®¡ç†å•å…ƒbmcçŠ¶æ€å’Œæ§åˆ¶&#34;&gt;å…«ã€mc(ç®¡ç†å•å…ƒBMC)çŠ¶æ€å’Œæ§åˆ¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. é‡å¯åŠ¨BMCï¼š
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) mc reset &amp;lt;warm/cold&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¹-è®¾ç½®bmcçš„iptablesé˜²ç«å¢™&#34;&gt;ä¹ã€è®¾ç½®BMCçš„iptablesé˜²ç«å¢™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. è®¾ç½®æŸä¸€æ®µIPå¯ä»¥è®¿é—®BMC
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x01 0x01 ip1(0xa 0xa 0xa 0xa) ip2(0xb 0xb 0xb 0xb)
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x09

2. è®¾ç½®æŸä¸ªIPå¯ä»¥è®¿é—®BMC
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x00 0x01 ip1(0xa 0xa 0xa 0xa)
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x09

3. å–æ¶ˆè®¾ç½®
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x08

4ï¼è·å–é˜²ç«å¢™è®¾ç½®
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x77 0x01 0x00

5. é˜»æ­¢/å¼€å¯æŸä¸ªç«¯å£
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x02 0x00/0x01 0x00 (portno)0x22 0x00

6. å–æ¶ˆæŸä¸ªç«¯å£çš„è®¾ç½®ï¼ˆ6æ˜¯5çš„å¯¹åº”å–æ¶ˆæ“ä½œï¼‰
ipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x06 0x00/0x01 0x00 (portno)0x22 0x00
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‚è€ƒæ–‡çŒ®&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;
&lt;p&gt;https://www.cnblogs.com/EricDing/p/8995263.html&lt;/p&gt;
">ipmitoolå·¥å…·çš„ä½¿ç”¨è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/nvidia-xian-qia-chang-yong-ming-ling/"" data-c="
          &lt;h3 id=&#34;gpuæ—¥å¿—æ”¶é›†&#34;&gt;GPUæ—¥å¿—æ”¶é›†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nvidia-bug-report.sh   // æ‰§è¡Œåè¾“å‡ºnvidia-bug-report.log.gzæ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•&#34;&gt;é©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç»´æŒè¾ƒæ–°çš„é©±åŠ¨ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;ç¦ç”¨nouveauæ¨¡å—&lt;/li&gt;
&lt;li&gt;æ‰“å¼€GPUé©±åŠ¨å¸¸é©»å†…å­˜æ¨¡å¼å¹¶é…ç½®å¼€æœºè‡ªå¯åŠ¨&lt;/li&gt;
&lt;li&gt;GPUæ•…éšœåï¼Œå¯å°è¯•é‡å¯ä¸»æœºè§£å†³&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç¦ç”¨nouveauæ¨¡å—&#34;&gt;ç¦ç”¨nouveauæ¨¡å—&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# lsmod | grep -i nouveau   // å¦‚æœæœ‰è¾“å‡ºï¼Œè¡¨ç¤ºå¯åŠ¨çŠ¶æ€ï¼Œå¦åˆ™ä¸ºç¦ç”¨çŠ¶æ€

# CentOS 7
# ç¼–è¾‘æˆ–æ–°å»º blacklist-nouveau.conf æ–‡ä»¶
[root@zj ~]# vim /usr/lib/modprobe.d/blacklist-nouveau.conf
blacklist nouveau
options nouveau modeset=0

# æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¹¶é‡å¯ç³»ç»Ÿä½¿å†…æ ¸ç”Ÿæ•ˆ
[root@zj ~]# dracut -f
[root@zj ~]# shutdown -ry 0


# ubuntu 
# vi /etc/modprobe.d/blacklist.conf æœ€åä¸€è¡ŒåŠ å…¥
blacklist nouveau
# update-initramfs -u
# reboot
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;gpué©±åŠ¨å†…å­˜å¸¸é©»æ¨¡å¼&#34;&gt;GPUé©±åŠ¨å†…å­˜å¸¸é©»æ¨¡å¼&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nvidia-smi -pm 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;gpuåŠ è½½æ•°é‡å’Œerræ£€æŸ¥&#34;&gt;GPUåŠ è½½æ•°é‡å’ŒERRæ£€æŸ¥&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ˜¾ç¤ºçš„GPUå¡æ•°é‡éœ€è¦ä¿æŒä¸€è‡´ï¼Œå¯ç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰GPUç¦»çº¿
# lspci | grep -i nvidia 
# nvidia-smi

# æ£€æŸ¥è¾“å‡ºä¸­æ˜¯å¦åŒ…å«ERRé”™è¯¯å­—æ ·ï¼Œå¯ç”¨äºå®ç°å¥åº·æ£€æŸ¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;gpuå¸¸ç”¨æ€§èƒ½æŒ‡æ ‡è·å–&#34;&gt;GPUå¸¸ç”¨æ€§èƒ½æŒ‡æ ‡è·å–&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nvidia-smi \
&amp;gt;  --query-gpu=memory.total,memory.used,memory.free,utilization.memory,utilization.gpu,temperature.gpu,fan.speed \
&amp;gt;  --format=csv,noheader,nounits

# nvidia-smi --help-query-gpu   // æŸ¥çœ‹å¯ç”¨çš„æŸ¥è¯¢å‚æ•°
&lt;/code&gt;&lt;/pre&gt;
">NVIDIAæ˜¾å¡å¸¸ç”¨å‘½ä»¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/li-jie-oauth-20-de-ji-ben-liu-cheng/"" data-c="
          &lt;h3 id=&#34;å¿«é€’å‘˜åœºæ™¯&#34;&gt;å¿«é€’å‘˜åœºæ™¯&lt;/h3&gt;
&lt;p&gt;éœ€æ±‚ï¼šæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œè®©å¿«é€’å‘˜èƒ½å¤Ÿè‡ªç”±å‡ºå…¥å°åŒºï¼Œåˆä¸ç”¨çŸ¥é“å°åŒºå±…æ°‘çš„å¯†ç ï¼Œè€Œä¸”ä»–çš„å”¯ä¸€æƒé™å°±æ˜¯é€è´§ï¼Œå…¶ä»–éœ€è¦å¯†ç çš„åœºåˆï¼Œä»–éƒ½æ²¡æœ‰æƒé™ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;æˆæƒæœºåˆ¶çš„è®¾è®¡&#34;&gt;æˆæƒæœºåˆ¶çš„è®¾è®¡&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œé—¨ç¦ç³»ç»Ÿçš„å¯†ç è¾“å…¥å™¨ä¸‹é¢ï¼Œå¢åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå«åš&amp;quot;è·å–æˆæƒ&amp;quot;ã€‚å¿«é€’å‘˜éœ€è¦é¦–å…ˆæŒ‰è¿™ä¸ªæŒ‰é’®ï¼Œå»ç”³è¯·æˆæƒã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œä»–æŒ‰ä¸‹æŒ‰é’®ä»¥åï¼Œå±‹ä¸»ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ï¼‰çš„æ‰‹æœºå°±ä¼šè·³å‡ºå¯¹è¯æ¡†ï¼šæœ‰äººæ­£åœ¨è¦æ±‚æˆæƒã€‚ç³»ç»Ÿè¿˜ä¼šæ˜¾ç¤ºè¯¥å¿«é€’å‘˜çš„å§“åã€å·¥å·å’Œæ‰€å±çš„å¿«é€’å…¬å¸ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ç¡®è®¤è¯·æ±‚å±å®ï¼Œå°±ç‚¹å‡»æŒ‰é’®ï¼Œå‘Šè¯‰é—¨ç¦ç³»ç»Ÿï¼Œæˆ‘åŒæ„ç»™äºˆä»–è¿›å…¥å°åŒºçš„æˆæƒã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œé—¨ç¦ç³»ç»Ÿå¾—åˆ°æˆ‘çš„ç¡®è®¤ä»¥åï¼Œå‘å¿«é€’å‘˜æ˜¾ç¤ºä¸€ä¸ªè¿›å…¥å°åŒºçš„ä»¤ç‰Œï¼ˆaccess tokenï¼‰ã€‚ä»¤ç‰Œå°±æ˜¯ç±»ä¼¼å¯†ç çš„ä¸€ä¸²æ•°å­—ï¼Œåªåœ¨çŸ­æœŸå†…ï¼ˆæ¯”å¦‚ä¸ƒå¤©ï¼‰æœ‰æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬å››æ­¥ï¼Œå¿«é€’å‘˜å‘é—¨ç¦ç³»ç»Ÿè¾“å…¥ä»¤ç‰Œï¼Œè¿›å…¥å°åŒºã€‚&lt;/p&gt;
&lt;p&gt;æœ‰äººå¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯è¿œç¨‹ä¸ºå¿«é€’å‘˜å¼€é—¨ï¼Œè€Œè¦ä¸ºä»–å•ç‹¬ç”Ÿæˆä¸€ä¸ªä»¤ç‰Œï¼Ÿè¿™æ˜¯å› ä¸ºå¿«é€’å‘˜å¯èƒ½æ¯å¤©éƒ½ä¼šæ¥é€è´§ï¼Œç¬¬äºŒå¤©ä»–è¿˜å¯ä»¥å¤ç”¨è¿™ä¸ªä»¤ç‰Œã€‚å¦å¤–ï¼Œæœ‰çš„å°åŒºæœ‰å¤šé‡é—¨ç¦ï¼Œå¿«é€’å‘˜å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªä»¤ç‰Œé€šè¿‡å®ƒä»¬ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è½¬æ¢ç†è§£&#34;&gt;è½¬æ¢ç†è§£&lt;/h3&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒOAuthå°±æ˜¯ä¸€ç§æˆæƒæœºåˆ¶ï¼Œæ•°æ®çš„æ‰€æœ‰è€…å‘Šè¯‰ç³»ç»Ÿï¼ŒåŒæ„æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è¿›å…¥ç³»ç»Ÿï¼Œè·å–è¿™äº›æ•°æ®ã€‚ç³»ç»Ÿä»è€Œäº§ç”Ÿä¸€ä¸ªçŸ­æœŸçš„è¿›å…¥ä»¤ç‰Œï¼ˆTokenï¼‰ï¼Œç”¨äºæ›¿ä»£å¯†ç ï¼Œä»¥ä¾›ç¬¬ä¸‰æ–¹ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…³äºtoken&#34;&gt;å…³äºToken&lt;/h3&gt;
&lt;p&gt;åªéœ€è¦è®°ä½ä¸‰ç‚¹ï¼š1ã€ä»¤ç‰Œçš„æœ‰æ•ˆæœŸæ˜¯æœ‰é™çš„ï¼Œä¸ºäº†å®‰å…¨ï¼›2ã€ä»¤ç‰Œçš„æƒé™èŒƒå›´ä¸€èˆ¬å¾ˆå°ï¼›3ã€ä»¤ç‰Œå¯ä»¥è¢«æ’¤é”€ï¼›&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒæ–‡çŒ®&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;
&lt;p&gt;http://www.ruanyifeng.com/blog/2019/04/oauth_design.html&lt;/p&gt;
">ç†è§£OAuth 2.0çš„åŸºæœ¬æµç¨‹</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/nginx-pei-zhi-wen-jian-xiang-jie/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;######Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£#####

#å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„
user www www;

#nginxè¿›ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚
worker_processes 8;
 
#å…¨å±€é”™è¯¯æ—¥å¿—å®šä¹‰ç±»å‹ï¼Œ[ debug | info | notice | warn | error | crit ]
error_log /usr/local/nginx/logs/error.log info;

#è¿›ç¨‹pidæ–‡ä»¶
pid /usr/local/nginx/logs/nginx.pid;

#æŒ‡å®šè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æè¿°ç¬¦ï¼šæ•°ç›®
#å·¥ä½œæ¨¡å¼ä¸è¿æ¥æ•°ä¸Šé™
#è¿™ä¸ªæŒ‡ä»¤æ˜¯æŒ‡å½“ä¸€ä¸ªnginxè¿›ç¨‹æ‰“å¼€çš„æœ€å¤šæ–‡ä»¶æè¿°ç¬¦æ•°ç›®ï¼Œç†è®ºå€¼åº”è¯¥æ˜¯æœ€å¤šæ‰“å¼€æ–‡ä»¶æ•°ï¼ˆulimit -nï¼‰ä¸nginxè¿›ç¨‹æ•°ç›¸é™¤ï¼Œä½†æ˜¯nginxåˆ†é…è¯·æ±‚å¹¶ä¸æ˜¯é‚£ä¹ˆå‡åŒ€ï¼Œæ‰€ä»¥æœ€å¥½ä¸ulimit -n çš„å€¼ä¿æŒä¸€è‡´ã€‚
#ç°åœ¨åœ¨linux 2.6å†…æ ¸ä¸‹å¼€å¯æ–‡ä»¶æ‰“å¼€æ•°ä¸º65535ï¼Œworker_rlimit_nofileå°±ç›¸åº”åº”è¯¥å¡«å†™65535ã€‚
#è¿™æ˜¯å› ä¸ºnginxè°ƒåº¦æ—¶åˆ†é…è¯·æ±‚åˆ°è¿›ç¨‹å¹¶ä¸æ˜¯é‚£ä¹ˆçš„å‡è¡¡ï¼Œæ‰€ä»¥å‡å¦‚å¡«å†™10240ï¼Œæ€»å¹¶å‘é‡è¾¾åˆ°3-4ä¸‡æ—¶å°±æœ‰è¿›ç¨‹å¯èƒ½è¶…è¿‡10240äº†ï¼Œè¿™æ—¶ä¼šè¿”å›502é”™è¯¯ã€‚
worker_rlimit_nofile 65535;

events
{
    use epoll;

    #å•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°=è¿æ¥æ•°*è¿›ç¨‹æ•°ï¼‰
    worker_connections 65535;

    #keepaliveè¶…æ—¶æ—¶é—´ã€‚
    keepalive_timeout 60;

    #åˆ†é¡µå¤§å°å¯ä»¥ç”¨å‘½ä»¤getconf PAGESIZE å–å¾—ã€‚
    #getconf PAGESIZE è®¾ç½®ä¸ºè¯¥å€¼çš„æ•´æ•°å€
    client_header_buffer_size 4k;

    #è¿™ä¸ªå°†ä¸ºæ‰“å¼€æ–‡ä»¶æŒ‡å®šç¼“å­˜ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨çš„ï¼ŒmaxæŒ‡å®šç¼“å­˜æ•°é‡ï¼Œå»ºè®®å’Œæ‰“å¼€æ–‡ä»¶æ•°ä¸€è‡´ï¼Œinactiveæ˜¯æŒ‡ç»è¿‡å¤šé•¿æ—¶é—´æ–‡ä»¶æ²¡è¢«è¯·æ±‚ååˆ é™¤ç¼“å­˜ã€‚
    open_file_cache max=65535 inactive=60s;

    #è¯­æ³•:open_file_cache_valid time 
    #é»˜è®¤å€¼ 60 
    #ä½¿ç”¨å­—æ®µ:http, server, location 
    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šäº†ä½•æ—¶éœ€è¦æ£€æŸ¥open_file_cacheä¸­ç¼“å­˜é¡¹ç›®çš„æœ‰æ•ˆä¿¡æ¯.
    open_file_cache_valid 80s;

    #è¯­æ³•:open_file_cache_min_uses number 
    #é»˜è®¤å€¼: 1 
    #ä½¿ç”¨å­—æ®µ:http, server, location  
    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šäº†åœ¨open_file_cacheæŒ‡ä»¤æ— æ•ˆçš„å‚æ•°ä¸­ä¸€å®šçš„æ—¶é—´èŒƒå›´å†…å¯ä»¥ä½¿ç”¨çš„æœ€å°æ–‡ä»¶æ•°,å¦‚æœä½¿ç”¨æ›´å¤§çš„å€¼,æ–‡ä»¶æè¿°ç¬¦åœ¨cacheä¸­æ€»æ˜¯æ‰“å¼€çŠ¶æ€.
    open_file_cache_min_uses 1;
    
    #è¯­æ³•:open_file_cache_errors on | off 
    #é»˜è®¤å€¼: off 
    #ä½¿ç”¨å­—æ®µ:http, server, location 
    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šæ˜¯å¦åœ¨æœç´¢ä¸€ä¸ªæ–‡ä»¶æ˜¯è®°å½•cacheé”™è¯¯.
    open_file_cache_errors on;
}
 
#è®¾å®šhttpæœåŠ¡å™¨ï¼Œåˆ©ç”¨å®ƒçš„åå‘ä»£ç†åŠŸèƒ½æä¾›è´Ÿè½½å‡è¡¡æ”¯æŒ
http
{
    #æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨
    include mime.types;

    #é»˜è®¤æ–‡ä»¶ç±»å‹
    default_type application/octet-stream;

    #é»˜è®¤ç¼–ç 
    #charset utf-8;

    #æœåŠ¡å™¨åå­—çš„hashè¡¨å¤§å°
    #ä¿å­˜æœåŠ¡å™¨åå­—çš„hashè¡¨æ˜¯ç”±æŒ‡ä»¤server_names_hash_max_size å’Œserver_names_hash_bucket_sizeæ‰€æ§åˆ¶çš„ã€‚å‚æ•°hash bucket sizeæ€»æ˜¯ç­‰äºhashè¡¨çš„å¤§å°ï¼Œå¹¶ä¸”æ˜¯ä¸€è·¯å¤„ç†å™¨ç¼“å­˜å¤§å°çš„å€æ•°ã€‚åœ¨å‡å°‘äº†åœ¨å†…å­˜ä¸­çš„å­˜å–æ¬¡æ•°åï¼Œä½¿åœ¨å¤„ç†å™¨ä¸­åŠ é€ŸæŸ¥æ‰¾hashè¡¨é”®å€¼æˆä¸ºå¯èƒ½ã€‚å¦‚æœhash bucket sizeç­‰äºä¸€è·¯å¤„ç†å™¨ç¼“å­˜çš„å¤§å°ï¼Œé‚£ä¹ˆåœ¨æŸ¥æ‰¾é”®çš„æ—¶å€™ï¼Œæœ€åçš„æƒ…å†µä¸‹åœ¨å†…å­˜ä¸­æŸ¥æ‰¾çš„æ¬¡æ•°ä¸º2ã€‚ç¬¬ä¸€æ¬¡æ˜¯ç¡®å®šå­˜å‚¨å•å…ƒçš„åœ°å€ï¼Œç¬¬äºŒæ¬¡æ˜¯åœ¨å­˜å‚¨å•å…ƒä¸­æŸ¥æ‰¾é”® å€¼ã€‚å› æ­¤ï¼Œå¦‚æœNginxç»™å‡ºéœ€è¦å¢å¤§hash max size æˆ– hash bucket sizeçš„æç¤ºï¼Œé‚£ä¹ˆé¦–è¦çš„æ˜¯å¢å¤§å‰ä¸€ä¸ªå‚æ•°çš„å¤§å°.
    server_names_hash_bucket_size 128;

    #å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°ã€‚è¿™ä¸ªå¯ä»¥æ ¹æ®ä½ çš„ç³»ç»Ÿåˆ†é¡µå¤§å°æ¥è®¾ç½®ï¼Œä¸€èˆ¬ä¸€ä¸ªè¯·æ±‚çš„å¤´éƒ¨å¤§å°ä¸ä¼šè¶…è¿‡1kï¼Œä¸è¿‡ç”±äºä¸€èˆ¬ç³»ç»Ÿåˆ†é¡µéƒ½è¦å¤§äº1kï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸ºåˆ†é¡µå¤§å°ã€‚åˆ†é¡µå¤§å°å¯ä»¥ç”¨å‘½ä»¤getconf PAGESIZEå–å¾—ã€‚
    client_header_buffer_size 32k;

    #å®¢æˆ·è¯·æ±‚å¤´ç¼“å†²å¤§å°ã€‚nginxé»˜è®¤ä¼šç”¨client_header_buffer_sizeè¿™ä¸ªbufferæ¥è¯»å–headerå€¼ï¼Œå¦‚æœheaderè¿‡å¤§ï¼Œå®ƒä¼šä½¿ç”¨large_client_header_buffersæ¥è¯»å–ã€‚
    large_client_header_buffers 4 64k;

    #è®¾å®šé€šè¿‡nginxä¸Šä¼ æ–‡ä»¶çš„å¤§å°
    client_max_body_size 8m;

    #å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼ŒsendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ã€‚æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹æˆoffã€‚
    #sendfileæŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨ï¼Œå¿…é¡»è®¾ä¸ºonã€‚å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œIOå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿuptimeã€‚
    sendfile on;

    #å¼€å¯ç›®å½•åˆ—è¡¨è®¿é—®ï¼Œåˆé€‚ä¸‹è½½æœåŠ¡å™¨ï¼Œé»˜è®¤å…³é—­ã€‚
    autoindex on;

    #æ­¤é€‰é¡¹å…è®¸æˆ–ç¦æ­¢ä½¿ç”¨sockeçš„TCP_CORKçš„é€‰é¡¹ï¼Œæ­¤é€‰é¡¹ä»…åœ¨ä½¿ç”¨sendfileçš„æ—¶å€™ä½¿ç”¨
    tcp_nopush on;
    tcp_nodelay on;

    #é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’
    keepalive_timeout 120;

    #FastCGIç›¸å…³å‚æ•°æ˜¯ä¸ºäº†æ”¹å–„ç½‘ç«™çš„æ€§èƒ½ï¼šå‡å°‘èµ„æºå ç”¨ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ä¸‹é¢å‚æ•°çœ‹å­—é¢æ„æ€éƒ½èƒ½ç†è§£ã€‚
    fastcgi_connect_timeout 300;
    fastcgi_send_timeout 300;
    fastcgi_read_timeout 300;
    fastcgi_buffer_size 64k;
    fastcgi_buffers 4 64k;
    fastcgi_busy_buffers_size 128k;
    fastcgi_temp_file_write_size 128k;

    #gzipæ¨¡å—è®¾ç½®
    gzip on;               #å¼€å¯gzipå‹ç¼©è¾“å‡º
    gzip_min_length 1k;    #æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°
    gzip_buffers 4 16k;    #å‹ç¼©ç¼“å†²åŒº
    gzip_http_version 1.0; #å‹ç¼©ç‰ˆæœ¬ï¼ˆé»˜è®¤1.1ï¼Œå‰ç«¯å¦‚æœæ˜¯squid2.5è¯·ä½¿ç”¨1.0ï¼‰
    gzip_comp_level 2;     #å‹ç¼©ç­‰çº§
    gzip_types text/plain application/x-javascript text/css application/xml;    #å‹ç¼©ç±»å‹ï¼Œé»˜è®¤å°±å·²ç»åŒ…å«textmlï¼Œæ‰€ä»¥ä¸‹é¢å°±ä¸ç”¨å†å†™äº†ï¼Œå†™ä¸Šå»ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªwarnã€‚
    gzip_vary on;

    #å¼€å¯é™åˆ¶IPè¿æ¥æ•°çš„æ—¶å€™éœ€è¦ä½¿ç”¨
    #limit_zone crawler $binary_remote_addr 10m;

    #è´Ÿè½½å‡è¡¡é…ç½®
    upstream piao.jd.com {
        #upstreamçš„è´Ÿè½½å‡è¡¡ï¼Œweightæ˜¯æƒé‡ï¼Œå¯ä»¥æ ¹æ®æœºå™¨é…ç½®å®šä¹‰æƒé‡ã€‚weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§ã€‚
        server 192.168.80.121:80 weight=3;
        server 192.168.80.122:80 weight=2;
        server 192.168.80.123:80 weight=3;

        #nginxçš„upstreamç›®å‰æ”¯æŒ4ç§æ–¹å¼çš„åˆ†é…
        #1ã€è½®è¯¢ï¼ˆé»˜è®¤ï¼‰
        #æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚
        #2ã€weight
        #æŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œweightå’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚
        #2ã€ip_hash
        #æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionçš„é—®é¢˜ã€‚
        #ä¾‹å¦‚ï¼š
        #upstream bakend {
        #    ip_hash;
        #    server 192.168.0.14:88;
        #    server 192.168.0.15:80;
        #}
        #3ã€fairï¼ˆç¬¬ä¸‰æ–¹ï¼‰
        #æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚
        #upstream backend {
        #    server server1;
        #    server server2;
        #    fair;
        #}
        #4ã€url_hashï¼ˆç¬¬ä¸‰æ–¹ï¼‰
        #æŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä¸ºç¼“å­˜æ—¶æ¯”è¾ƒæœ‰æ•ˆã€‚
        #ä¾‹ï¼šåœ¨upstreamä¸­åŠ å…¥hashè¯­å¥ï¼Œserverè¯­å¥ä¸­ä¸èƒ½å†™å…¥weightç­‰å…¶ä»–çš„å‚æ•°ï¼Œhash_methodæ˜¯ä½¿ç”¨çš„hashç®—æ³•
        #upstream backend {
        #    server squid1:3128;
        #    server squid2:3128;
        #    hash $request_uri;
        #    hash_method crc32;
        #}

        #tips:
        #upstream bakend{#å®šä¹‰è´Ÿè½½å‡è¡¡è®¾å¤‡çš„IpåŠè®¾å¤‡çŠ¶æ€}{
        #    ip_hash;
        #    server 127.0.0.1:9090 down;
        #    server 127.0.0.1:8080 weight=2;
        #    server 127.0.0.1:6060;
        #    server 127.0.0.1:7070 backup;
        #}
        #åœ¨éœ€è¦ä½¿ç”¨è´Ÿè½½å‡è¡¡çš„serverä¸­å¢åŠ  proxy_pass http://bakend/;

        #æ¯ä¸ªè®¾å¤‡çš„çŠ¶æ€è®¾ç½®ä¸º:
        #1.downè¡¨ç¤ºå•å‰çš„serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½
        #2.weightä¸ºweightè¶Šå¤§ï¼Œè´Ÿè½½çš„æƒé‡å°±è¶Šå¤§ã€‚
        #3.max_failsï¼šå…è®¸è¯·æ±‚å¤±è´¥çš„æ¬¡æ•°é»˜è®¤ä¸º1.å½“è¶…è¿‡æœ€å¤§æ¬¡æ•°æ—¶ï¼Œè¿”å›proxy_next_upstreamæ¨¡å—å®šä¹‰çš„é”™è¯¯
        #4.fail_timeout:max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœçš„æ—¶é—´ã€‚
        #5.backupï¼š å…¶å®ƒæ‰€æœ‰çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨ã€‚æ‰€ä»¥è¿™å°æœºå™¨å‹åŠ›ä¼šæœ€è½»ã€‚

        #nginxæ”¯æŒåŒæ—¶è®¾ç½®å¤šç»„çš„è´Ÿè½½å‡è¡¡ï¼Œç”¨æ¥ç»™ä¸ç”¨çš„serveræ¥ä½¿ç”¨ã€‚
        #client_body_in_file_onlyè®¾ç½®ä¸ºOn å¯ä»¥è®²client postè¿‡æ¥çš„æ•°æ®è®°å½•åˆ°æ–‡ä»¶ä¸­ç”¨æ¥åšdebug
        #client_body_temp_pathè®¾ç½®è®°å½•æ–‡ä»¶çš„ç›®å½• å¯ä»¥è®¾ç½®æœ€å¤š3å±‚ç›®å½•
        #locationå¯¹URLè¿›è¡ŒåŒ¹é….å¯ä»¥è¿›è¡Œé‡å®šå‘æˆ–è€…è¿›è¡Œæ–°çš„ä»£ç† è´Ÿè½½å‡è¡¡
    }
     
     
     
    #è™šæ‹Ÿä¸»æœºçš„é…ç½®
    server
    {
        #ç›‘å¬ç«¯å£
        listen 80;

        #åŸŸåå¯ä»¥æœ‰å¤šä¸ªï¼Œç”¨ç©ºæ ¼éš”å¼€
        server_name www.jd.com jd.com;
        index index.html index.htm index.php;
        root /data/www/jd;

        #å¯¹******è¿›è¡Œè´Ÿè½½å‡è¡¡
        location ~ .*.(php|php5)?$
        {
            fastcgi_pass 127.0.0.1:9000;
            fastcgi_index index.php;
            include fastcgi.conf;
        }
         
        #å›¾ç‰‡ç¼“å­˜æ—¶é—´è®¾ç½®
        location ~ .*.(gif|jpg|jpeg|png|bmp|swf)$
        {
            expires 10d;
        }
         
        #JSå’ŒCSSç¼“å­˜æ—¶é—´è®¾ç½®
        location ~ .*.(js|css)?$
        {
            expires 1h;
        }
         
        #æ—¥å¿—æ ¼å¼è®¾å®š
        #$remote_addrä¸$http_x_forwarded_forç”¨ä»¥è®°å½•å®¢æˆ·ç«¯çš„ipåœ°å€ï¼›
        #$remote_userï¼šç”¨æ¥è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°ï¼›
        #$time_localï¼š ç”¨æ¥è®°å½•è®¿é—®æ—¶é—´ä¸æ—¶åŒºï¼›
        #$requestï¼š ç”¨æ¥è®°å½•è¯·æ±‚çš„urlä¸httpåè®®ï¼›
        #$statusï¼š ç”¨æ¥è®°å½•è¯·æ±‚çŠ¶æ€ï¼›æˆåŠŸæ˜¯200ï¼Œ
        #$body_bytes_sent ï¼šè®°å½•å‘é€ç»™å®¢æˆ·ç«¯æ–‡ä»¶ä¸»ä½“å†…å®¹å¤§å°ï¼›
        #$http_refererï¼šç”¨æ¥è®°å½•ä»é‚£ä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„ï¼›
        #$http_user_agentï¼šè®°å½•å®¢æˆ·æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯ï¼›
        #é€šå¸¸webæœåŠ¡å™¨æ”¾åœ¨åå‘ä»£ç†çš„åé¢ï¼Œè¿™æ ·å°±ä¸èƒ½è·å–åˆ°å®¢æˆ·çš„IPåœ°å€äº†ï¼Œé€šè¿‡$remote_addæ‹¿åˆ°çš„IPåœ°å€æ˜¯åå‘ä»£ç†æœåŠ¡å™¨çš„iPåœ°å€ã€‚åå‘ä»£ç†æœåŠ¡å™¨åœ¨è½¬å‘è¯·æ±‚çš„httpå¤´ä¿¡æ¯ä¸­ï¼Œå¯ä»¥å¢åŠ x_forwarded_forä¿¡æ¯ï¼Œç”¨ä»¥è®°å½•åŸæœ‰å®¢æˆ·ç«¯çš„IPåœ°å€å’ŒåŸæ¥å®¢æˆ·ç«¯çš„è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€ã€‚
        log_format access &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;
        &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;
        &#39;&amp;quot;$http_user_agent&amp;quot; $http_x_forwarded_for&#39;;
         
        #å®šä¹‰æœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—
        access_log  /usr/local/nginx/logs/host.access.log  main;
        access_log  /usr/local/nginx/logs/host.access.404.log  log404;
         
        #å¯¹ &amp;quot;/&amp;quot; å¯ç”¨åå‘ä»£ç†
        location / {
            proxy_pass http://127.0.0.1:88;
            proxy_redirect off;
            proxy_set_header X-Real-IP $remote_addr;
             
            #åç«¯çš„WebæœåŠ¡å™¨å¯ä»¥é€šè¿‡X-Forwarded-Forè·å–ç”¨æˆ·çœŸå®IP
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
             
            #ä»¥ä¸‹æ˜¯ä¸€äº›åå‘ä»£ç†çš„é…ç½®ï¼Œå¯é€‰ã€‚
            proxy_set_header Host $host;

            #å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å•æ–‡ä»¶å­—èŠ‚æ•°
            client_max_body_size 10m;

            #ç¼“å†²åŒºä»£ç†ç¼“å†²ç”¨æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•°ï¼Œ
            #å¦‚æœæŠŠå®ƒè®¾ç½®ä¸ºæ¯”è¾ƒå¤§çš„æ•°å€¼ï¼Œä¾‹å¦‚256kï¼Œé‚£ä¹ˆï¼Œæ— è®ºä½¿ç”¨firefoxè¿˜æ˜¯IEæµè§ˆå™¨ï¼Œæ¥æäº¤ä»»æ„å°äº256kçš„å›¾ç‰‡ï¼Œéƒ½å¾ˆæ­£å¸¸ã€‚å¦‚æœæ³¨é‡Šè¯¥æŒ‡ä»¤ï¼Œä½¿ç”¨é»˜è®¤çš„client_body_buffer_sizeè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿé¡µé¢å¤§å°çš„ä¸¤å€ï¼Œ8kæˆ–è€…16kï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚
            #æ— è®ºä½¿ç”¨firefox4.0è¿˜æ˜¯IE8.0ï¼Œæäº¤ä¸€ä¸ªæ¯”è¾ƒå¤§ï¼Œ200kå·¦å³çš„å›¾ç‰‡ï¼Œéƒ½è¿”å›500 Internal Server Erroré”™è¯¯
            client_body_buffer_size 128k;

            #è¡¨ç¤ºä½¿nginxé˜»æ­¢HTTPåº”ç­”ä»£ç ä¸º400æˆ–è€…æ›´é«˜çš„åº”ç­”ã€‚
            proxy_intercept_errors on;

            #åç«¯æœåŠ¡å™¨è¿æ¥çš„è¶…æ—¶æ—¶é—´_å‘èµ·æ¡æ‰‹ç­‰å€™å“åº”è¶…æ—¶æ—¶é—´
            #nginxè·Ÿåç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´(ä»£ç†è¿æ¥è¶…æ—¶)
            proxy_connect_timeout 90;

            #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´(ä»£ç†å‘é€è¶…æ—¶)
            #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´_å°±æ˜¯åœ¨è§„å®šæ—¶é—´ä¹‹å†…åç«¯æœåŠ¡å™¨å¿…é¡»ä¼ å®Œæ‰€æœ‰çš„æ•°æ®
            proxy_send_timeout 90;

            #è¿æ¥æˆåŠŸåï¼Œåç«¯æœåŠ¡å™¨å“åº”æ—¶é—´(ä»£ç†æ¥æ”¶è¶…æ—¶)
            #è¿æ¥æˆåŠŸå_ç­‰å€™åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´_å…¶å®å·²ç»è¿›å…¥åç«¯çš„æ’é˜Ÿä¹‹ä¸­ç­‰å€™å¤„ç†ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯åç«¯æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„æ—¶é—´ï¼‰
            proxy_read_timeout 90;

            #è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼ˆnginxï¼‰ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å°
            #è®¾ç½®ä»è¢«ä»£ç†æœåŠ¡å™¨è¯»å–çš„ç¬¬ä¸€éƒ¨åˆ†åº”ç­”çš„ç¼“å†²åŒºå¤§å°ï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™éƒ¨åˆ†åº”ç­”ä¸­åŒ…å«ä¸€ä¸ªå°çš„åº”ç­”å¤´ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªå€¼çš„å¤§å°ä¸ºæŒ‡ä»¤proxy_buffersä¸­æŒ‡å®šçš„ä¸€ä¸ªç¼“å†²åŒºçš„å¤§å°ï¼Œä¸è¿‡å¯ä»¥å°†å…¶è®¾ç½®ä¸ºæ›´å°
            proxy_buffer_size 4k;

            #proxy_buffersç¼“å†²åŒºï¼Œç½‘é¡µå¹³å‡åœ¨32kä»¥ä¸‹çš„è®¾ç½®
            #è®¾ç½®ç”¨äºè¯»å–åº”ç­”ï¼ˆæ¥è‡ªè¢«ä»£ç†æœåŠ¡å™¨ï¼‰çš„ç¼“å†²åŒºæ•°ç›®å’Œå¤§å°ï¼Œé»˜è®¤æƒ…å†µä¹Ÿä¸ºåˆ†é¡µå¤§å°ï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒå¯èƒ½æ˜¯4kæˆ–è€…8k
            proxy_buffers 4 32k;

            #é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°ï¼ˆproxy_buffers*2ï¼‰
            proxy_busy_buffers_size 64k;

            #è®¾ç½®åœ¨å†™å…¥proxy_temp_pathæ—¶æ•°æ®çš„å¤§å°ï¼Œé¢„é˜²ä¸€ä¸ªå·¥ä½œè¿›ç¨‹åœ¨ä¼ é€’æ–‡ä»¶æ—¶é˜»å¡å¤ªé•¿
            #è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°ï¼Œå¤§äºè¿™ä¸ªå€¼ï¼Œå°†ä»upstreamæœåŠ¡å™¨ä¼ 
            proxy_temp_file_write_size 64k;
        }
         
        #è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€
        location /NginxStatus {
            stub_status on;
            access_log on;
            auth_basic &amp;quot;NginxStatus&amp;quot;;
            auth_basic_user_file confpasswd;
            #htpasswdæ–‡ä»¶çš„å†…å®¹å¯ä»¥ç”¨apacheæä¾›çš„htpasswdå·¥å…·æ¥äº§ç”Ÿã€‚
        }
         
        #æœ¬åœ°åŠ¨é™åˆ†ç¦»åå‘ä»£ç†é…ç½®
        #æ‰€æœ‰jspçš„é¡µé¢å‡äº¤ç”±tomcatæˆ–resinå¤„ç†
        location ~ .(jsp|jspx|do)?$ {
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass http://127.0.0.1:8080;
        }
         
        #æ‰€æœ‰é™æ€æ–‡ä»¶ç”±nginxç›´æ¥è¯»å–ä¸ç»è¿‡tomcatæˆ–resin
        location ~ .*.(htm|html|gif|jpg|jpeg|png|bmp|swf|ioc|rar|zip|txt|flv|mid|doc|ppt|
        pdf|xls|mp3|wma)$
        {
            expires 15d; 
        }
         
        location ~ .*.(js|css)?$
        {
            expires 1h;
        }
    }
}
######Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£#####
&lt;/code&gt;&lt;/pre&gt;
">Nginxé…ç½®æ–‡ä»¶è¯¦è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/nc-ming-ling-shi-yong/"" data-c="
          &lt;h3 id=&#34;ç«¯å£æ‰«æ&#34;&gt;ç«¯å£æ‰«æ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nc -vz -w 5 127.0.0.1 1-1024   // æ‰«ææœ¬åœ°1-1024ç«¯å£èŒƒå›´
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç›‘å¬ç«¯å£&#34;&gt;ç›‘å¬ç«¯å£&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nc -l 8000     // ç›‘å¬TCPç«¯å£
# nc -ul 9999    // ç›‘å¬UDPç«¯å£
# nc -vuz 127.0.0.1 9999   // æµ‹è¯•æœ¬åœ°UDPç«¯å£
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¼ è¾“æ–‡ä»¶&#34;&gt;ä¼ è¾“æ–‡ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1.ä¸Šä¼ 
# nc -l 9999 &amp;gt; filename
# nc 127.0.0.1 9999 &amp;lt; source

2.ä¸‹è½½
# nc -l 9999 &amp;lt; filename
# nc 127.0.0.1 9999 &amp;gt; target
&lt;/code&gt;&lt;/pre&gt;
">ncå‘½ä»¤ä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/storcli-gong-ju-shi-yong-shuo-ming/"" data-c="
          &lt;h3 id=&#34;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„å¯¹äºæ›´æ”¹raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•&#34;&gt;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ï¼Œä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„ï¼Œå¯¹äºæ›´æ”¹Raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•ã€‚&lt;/h3&gt;
&lt;h3 id=&#34;è·å–å¸®åŠ©ä¿¡æ¯&#34;&gt;è·å–å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 -h
     Storage Command Line Tool  Ver 1.23.02 Mar 28, 2017

     (c)Copyright 2017, AVAGO Corporation, All Rights Reserved.

storcli -v 
storcli -h| -help| ? 
storcli -h| -help| ? legacy
storcli show 
storcli show all
storcli show ctrlcount
storcli show file=&amp;lt;filepath&amp;gt;
storcli /cx add vd r[0|1|5|6|00|10|50|60]
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ˜¾ç¤ºraidå¡ç›¸å…³ä¿¡æ¯&#34;&gt;æ˜¾ç¤ºRaidå¡ç›¸å…³ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 show all
Status Code = 0
Status = Success
Description = None

Number of Controllers = 1
Host Name = A-f8f21e93eca4-nas014
Operating System  = Linux3.10.0-1062.el7.x86_64

System Overview :
===============

-------------------------------------------------------------------------------------
Ctl Model                   Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth  
-------------------------------------------------------------------------------------
  0 AVAGOMegaRAIDSAS9361-8i     8  25   2     1   2     1 Opt On  1&amp;amp;2 Y      3 NdAtn 
-------------------------------------------------------------------------------------

Ctl=Controller Index|DGs=Drive groups|VDs=Virtual drives|Fld=Failed
PDs=Physical drives|DNOpt=DG NotOptimal|VNOpt=VD NotOptimal|Opt=Optimal
Msng=Missing|Dgd=Degraded|NdAtn=Need Attention|Unkwn=Unknown
sPR=Scheduled Patrol Read|DS=DimmerSwitch|EHS=Emergency Hot Spare
Y=Yes|N=No|ASOs=Advanced Software Options|BBU=Battery backup unit
Hlth=Health|Safe=Safe-mode boot

# è¿™é‡Œçš„optimalè¡¨ç¤ºæ˜¯å¦æ˜¯æœ€ä¼˜çŠ¶æ€
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ˜¾ç¤ºæ§åˆ¶å™¨ä¿¡æ¯&#34;&gt;æ˜¾ç¤ºæ§åˆ¶å™¨ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 show   //è¿™é‡Œc0è¡¨ç¤ºç¬¬ä¸€ä¸ªæ§åˆ¶å™¨
Generating detailed summary of the adapter, it may take a while to complete.

Controller = 0
...çœç•¥
Device Number = 0
Function Number = 0
Drive Groups = 2

TOPOLOGY :
========

-----------------------------------------------------------------------------
DG Arr Row EID:Slot DID Type  State BT       Size PDC  PI SED DS3  FSpace TR 
-----------------------------------------------------------------------------
 ... çœç•¥
 1 0   12  10:12    37  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  
 1 0   13  10:13    36  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  
 1 0   14  10:14    46  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  
 1 0   15  -        -   DRIVE Msng  -   14.551 TB -    -  -   -    -      N  
 1 0   16  10:16    38  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  
 1 0   17  10:17    35  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  
 1 0   18  10:18    45  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N    
-----------------------------------------------------------------------------
... çœç•¥

Missing Drives Count = 1

# è¿™é‡Œæç¤ºæˆ‘ä»¬æœ‰ä¸€å—ç›˜ä¸¢å¤±ï¼Œéœ€è¦è¿›è¡Œå¤„ç†
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ˜¾ç¤ºå‰©ä½™ç©ºé—´&#34;&gt;æ˜¾ç¤ºå‰©ä½™ç©ºé—´&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 show freespace
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ˜¾ç¤ºccconsistency-check&#34;&gt;æ˜¾ç¤ºCCï¼ˆConsistency Checkï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 show cc
Controller = 0
Status = Success
Description = None

Controller Properties :
=====================

-----------------------------------------------
Ctrl_Prop                 Value                
-----------------------------------------------
CC Operation Mode         Concurrent           
CC Execution Delay        168                  
CC Next Starttime         02/04/2021, 15:00:00 
CC Current State          Stopped              
CC Number of iterations   15                   
CC Number of VD completed 1                    
CC Excluded VDs           None                 
-----------------------------------------------

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ˜¾ç¤ºccé€Ÿç‡&#34;&gt;æ˜¾ç¤ºCCé€Ÿç‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 show ccrate
Controller = 0
Status = Success
Description = None


Controller Properties :
=====================

----------------
Ctrl_Prop Value 
----------------
CC Rate   30%   
----------------
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æŸ¥çœ‹ä¸è®¾ç½®rebuildé€Ÿç‡&#34;&gt;æŸ¥çœ‹ä¸è®¾ç½®Rebuildé€Ÿç‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 show rebuildrate     //æŸ¥çœ‹é€Ÿç‡
# ./storcli64 /c0 set rebuildrate=30   //è®¾ç½®é€Ÿç‡
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ¸…é™¤raidå¡ç‰©ç†ç£ç›˜cache&#34;&gt;æ¸…é™¤Raidå¡ï¼Œç‰©ç†ç£ç›˜Cache&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0 flushcache
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æ‰€æœ‰enclosureä¿¡æ¯&#34;&gt;è·å–æ‰€æœ‰enclosureä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0/eall show
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–å•ä¸ªenclosureä¿¡æ¯&#34;&gt;è·å–å•ä¸ªenclosureä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0/e10 show &amp;lt;all&amp;gt;    //åŠ ä¸Šallå‚æ•°è¡¨ç¤ºè·å–è¯¦ç»†ä¿¡æ¯
# ./strocli64 /c0/e10 show status   //è·å–é£æ‰‡ç­‰è®¾å¤‡è¯¦ç»†ä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æ‰€æœ‰ç£ç›˜è¯¦ç»†ä¿¡æ¯&#34;&gt;è·å–æ‰€æœ‰ç£ç›˜è¯¦ç»†ä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0/eall/sall show
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å·ç»„ä¿¡æ¯è·å–&#34;&gt;å·ç»„ä¿¡æ¯è·å–&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ./storcli64 /c0/dall show   // è¿™é‡Œçš„å·ç»„ç§°ä¸ºDG
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å‚è€ƒæ–‡çŒ®&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;
&lt;p&gt;https://www.cnblogs.com/luxiaodai/p/9878747.html&lt;/p&gt;
">StorCLIå·¥å…·ä½¿ç”¨è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-de-zu-ti-jiao-yuan-li/"" data-c="
          &lt;h2 id=&#34;äº‹åŠ¡æäº¤æµç¨‹&#34;&gt;äº‹åŠ¡æäº¤æµç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;å¤§è‡´æµç¨‹å¦‚ä¸‹&#34;&gt;å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š&lt;/h3&gt;
&lt;p&gt;æœ‰binlogçš„æƒ…å†µä¸‹ï¼ŒcommitåŠ¨ä½œå¼€å§‹æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªRedo XIDå†™å…¥redoï¼Œç„¶åå†™dataåˆ°binlogï¼Œbinlogå†™æˆåŠŸåï¼Œä¼šå°†binlogçš„filenameå’Œæ—¥å¿—å†™çš„positionå†å†™å›redoï¼ˆpositionä¹Ÿä¼šå†™å…¥posæ–‡ä»¶ï¼‰ï¼Œæ­¤æ—¶äº‹åŠ¡å®Œæˆï¼ˆcommittedï¼‰ã€‚å¦‚æœåªæœ‰XIDï¼Œæ²¡æœ‰filenameå’Œpositionï¼Œåˆ™è¡¨ç¤ºäº‹åŠ¡ä¸ºprepareçŠ¶æ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æµç¨‹&#34;&gt;æµç¨‹ï¼š&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# commit; --&amp;gt; write XID to redo. --&amp;gt; write data to Binlog. --&amp;gt; write filename,postsion of binlog to redo. --&amp;gt; commited.
# è®°å½•Binlogæ˜¯åœ¨InnoDBå¼•æ“Prepareï¼ˆå³Redo Logå†™å…¥ç£ç›˜ï¼‰ä¹‹åï¼Œè¿™ç‚¹è‡³å…³é‡è¦ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://esp0x.github.io/post-images/1610962074302.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä¸åŒé˜¶æ®µcrashçš„æƒ…å†µ&#34;&gt;ä¸åŒé˜¶æ®µcrashçš„æƒ…å†µï¼š&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;crashå‘ç”Ÿé˜¶æ®µ&lt;/th&gt;
&lt;th&gt;äº‹åŠ¡çŠ¶æ€&lt;/th&gt;
&lt;th&gt;äº‹åŠ¡ç»“æœ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å½“äº‹åŠ¡åœ¨prepareé˜¶æ®µcrash&lt;/td&gt;
&lt;td&gt;è¯¥äº‹åŠ¡æœªå†™å…¥binlogï¼Œå¼•æ“å±‚ä¹Ÿæœªå†™å…¥redoåˆ°ç£ç›˜&lt;/td&gt;
&lt;td&gt;è¯¥äº‹åŠ¡rollback&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å½“äº‹åŠ¡åœ¨binlogå†™é˜¶æ®µcrash&lt;/td&gt;
&lt;td&gt;æ­¤æ—¶å¼•æ“å±‚redoå†™ç›˜å®Œæˆï¼Œä½†binlogæ—¥å¿—è¿˜æœªè½ç›˜&lt;/td&gt;
&lt;td&gt;è¯¥äº‹åŠ¡rollback&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å½“äº‹åŠ¡åœ¨binlogæ—¥å¿—å†™å…¥ç£ç›˜åcrashï¼Œä½†å¼•æ“å±‚æœªæ¥å¾—åŠcommit&lt;/td&gt;
&lt;td&gt;æ­¤æ—¶å¼•æ“å±‚redoå·²ç»å†™ç›˜ï¼Œserverå±‚binlogå·²ç»å†™ç›˜ï¼Œä½†redoä¸­äº‹åŠ¡çŠ¶æ€æœªæ­£ç¡®ç»“æŸ&lt;/td&gt;
&lt;td&gt;è¯»å‡ºbinlogä¸­çš„XIDï¼Œå¹¶é€šçŸ¥å¼•æ“å±‚æäº¤è¿™äº›XIDçš„äº‹åŠ¡ã€‚å¼•æ“å±‚æäº¤è¿™äº›äº‹åŠ¡åï¼Œä¼šå›æ»šå…¶ä»–äº‹åŠ¡ï¼Œä½¿å¼•æ“å±‚redoå’Œbinlogæ—¥å¿—åœ¨äº‹åŠ¡ä¸Šå§‹ç»ˆä¿æŒä¸€è‡´ã€‚äº‹åŠ¡é€šè¿‡recoveryè‡ªåŠ¨å®Œæˆæäº¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;walæœºåˆ¶&#34;&gt;WALæœºåˆ¶&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;WALï¼ˆWrite Ahead Logï¼‰ï¼šå¯¹æ•°æ®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å‰ï¼Œå¿…é¡»å°†ä¿®æ”¹å…ˆè®°å½•åˆ°æ—¥å¿—ã€‚&lt;/li&gt;
&lt;li&gt;Redo logå°±æ˜¯ä¸€ç§WALåº”ç”¨ï¼Œç”¨äºä¿è¯æ•°æ®åº“çš„æŒä¹…æ€§ï¼Œæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ç”¨åŒæ­¥åˆ·æ–°ç£ç›˜ï¼Œåªéœ€è¦åˆ·æ–°redo logå°±è¡Œäº†ã€‚ç›¸æ¯”åˆ·ç›˜çš„éšæœºIOï¼Œå†™redo logçš„é¡ºåºIOèƒ½å¤Ÿæå‡äº‹åŠ¡æäº¤é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æäº¤ï¼š
&lt;ol&gt;
&lt;li&gt;æœªå¼€å¯binlogï¼šredo logçš„åˆ·ç›˜æ“ä½œæ˜¯ä¸»è¦ç“¶é¢ˆï¼Œmysqlä½¿ç”¨ç»„æäº¤ï¼Œå°†å¤šä¸ªredo logåˆ·ç›˜æ“ä½œåˆå¹¶æˆä¸€ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;å¼€å¯binlogï¼šä¸ºäº†ä¿è¯redo logå’Œbinlogæ•°æ®ä¸€è‡´æ€§ï¼Œmysqlä½¿ç”¨äº†äºŒé˜¶æ®µæäº¤ï¼Œæ­¤æ—¶binlogæˆä¸ºç“¶é¢ˆï¼Œmysqlå¢åŠ äº†binlogçš„ç»„æäº¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼ˆFlushã€Syncã€Commitï¼‰ï¼Œæœ€å¤§åŒ–åˆ·ç›˜æ”¶ç›Šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¿‡ç¨‹è¯¦è§£&#34;&gt;è¿‡ç¨‹è¯¦è§£&lt;/h3&gt;
&lt;p&gt;åœ¨Mysqlä¸­æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—éƒ½æœ‰ä¸€æŠŠé”ä¿æŠ¤ï¼Œç¬¬ä¸€ä¸ªè¿›å…¥é˜Ÿåˆ—çš„äº‹åŠ¡æˆä¸ºleaderï¼Œleaderé¢†å¯¼æ‰€åœ¨é˜Ÿåˆ—çš„æ‰€æœ‰äº‹åŠ¡ï¼Œå…¨æƒè´Ÿè´£æ•´é˜Ÿçš„æ“ä½œï¼Œå®Œæˆåé€šçŸ¥é˜Ÿå†…å…¶ä»–äº‹åŠ¡æ“ä½œç»“æŸã€‚&lt;/p&gt;
&lt;h4 id=&#34;flushé˜¶æ®µ&#34;&gt;Flushé˜¶æ®µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆè·å–é˜Ÿåˆ—ä¸­çš„äº‹åŠ¡ç»„ï¼›&lt;/li&gt;
&lt;li&gt;å°†redoä¸­prepareé˜¶æ®µçš„æ•°æ®åˆ·ç›˜ï¼›&lt;/li&gt;
&lt;li&gt;å°†binlogæ•°æ®å†™å…¥æ–‡ä»¶ï¼Œæ­¤å¤„æ˜¯æ–‡ä»¶ç¼“å†²ï¼Œä¸ä¿è¯æ•°æ®åº“crashæ—¶ï¼Œbinlogçš„å®Œæ•´æ€§ï¼›&lt;/li&gt;
&lt;li&gt;Flushé˜¶æ®µçš„ä½œç”¨æ˜¯æä¾›äº†redo çš„ç»„æäº¤ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™ä¸€æ­¥crashï¼Œç”±äºä¸ä¿è¯binlogä¸­å­˜åœ¨äº‹åŠ¡è®°å½•ï¼Œæ‰€ä»¥æ•°æ®åº“æ¢å¤åä¼šå›æ»šï¼Œæ­¤æ—¶äºŒé˜¶æ®µæäº¤çŠ¶æ€è¿˜æ˜¯prepareï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;syncé˜¶æ®µ&#34;&gt;Syncé˜¶æ®µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å¢åŠ ä¸€ç»„äº‹åŠ¡ä¸­çš„äº‹åŠ¡æ•°é‡ï¼Œæå‡åˆ·ç›˜æ•ˆç‡ï¼Œä½¿ç”¨ä¸¤ä¸ªå‚æ•°è¿›è¡Œæ§åˆ¶ï¼š
&lt;ol&gt;
&lt;li&gt;binlog_group_commit_sync_delay=N  ç­‰å¾…N å¾®ç§’åï¼Œå¼€å§‹äº‹åŠ¡åˆ·ç›˜&lt;/li&gt;
&lt;li&gt;binlog_group_commit_sync_no_delay=N  å¯¹åˆ—ä¸­äº‹åŠ¡è¾¾åˆ°Nä¸ªï¼Œç«‹åˆ»åˆ·ç›˜ï¼Œå¿½ç•¥ä¸Šé¢é‚£ä¸ªæ—¶é—´å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Syncé˜¶æ®µçš„ä½œç”¨æ˜¯æ”¯æŒbinlogçš„ç»„æäº¤ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ­¤æ—¶crashï¼Œç”±äºbinlogä¸­æœ‰äº‹åŠ¡è®°å½•ï¼Œæ•°æ®åº“æ¢å¤åä¼šç»§ç»­æäº¤è¯¥äº‹åŠ¡ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;commité˜¶æ®µ&#34;&gt;Commité˜¶æ®µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆè·å–é˜Ÿåˆ—ä¸­çš„äº‹åŠ¡ç»„ï¼›&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡å°†redoä¸­å·²ç»prepareçš„äº‹åŠ¡åœ¨å¼•æ“å±‚è¿›è¡Œæäº¤ï¼›&lt;/li&gt;
&lt;li&gt;Commité˜¶æ®µä¸ç”¨åˆ·ç›˜ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼ŒFlushé˜¶æ®µä¸­çš„Redo logåˆ·ç›˜å·²ç»è¶³å¤Ÿä¿è¯æ•°æ®åº“å´©æºƒæ—¶çš„æ•°æ®å®‰å…¨äº†ï¼›&lt;/li&gt;
&lt;li&gt;Commité˜¶æ®µé˜Ÿåˆ—çš„ä½œç”¨æ˜¯æ‰¿æ¥Syncé˜¶æ®µçš„äº‹åŠ¡ï¼Œå®Œæˆæœ€åçš„å¼•æ“æäº¤ï¼Œä½¿å¾—Syncå¯ä»¥å°½æ—©çš„å¤„ç†ä¸‹ä¸€ç»„äº‹åŠ¡ï¼Œæœ€å¤§åŒ–ç»„æäº¤çš„æ•ˆç‡ï¼›&lt;/li&gt;
&lt;/ul&gt;
">Mysqlçš„ç»„æäº¤åŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/gtid-ji-chu-yuan-li/"" data-c="
          &lt;h2 id=&#34;ä¸€-gtidæ¦‚è¿°&#34;&gt;ä¸€ã€GTIDæ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;GTIDæ˜¯MYSQL5.6æ–°å¢çš„ç‰¹æ€§ï¼ŒGTIDï¼ˆGlobal Transaction Identifierï¼‰å…¨ç§°ä¸ºå…¨å±€äº‹åŠ¡æ ‡ç¤ºç¬¦,ç”¨ä»¥æ•°æ®åº“å®ä¾‹äº‹åŠ¡å”¯ä¸€æ ‡è¯†ï¼Œå…¶ç»„æˆä¸»è¦æ˜¯source_idå’Œtransaction_id å³GTID = source_id:transaction_idã€‚å…¶ä¸­source_idæ˜¯æ•°æ®åº“å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®åº“å®ä¾‹å”¯ä¸€æ ‡è¯†ï¼Œä¿å­˜åœ¨auto.cnfä¸­ï¼Œè€Œtransaction_idåˆ™æ˜¯äº‹åŠ¡æ‰§è¡Œçš„åºåˆ—å·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒ-gtidä¼˜ç¼ºç‚¹&#34;&gt;äºŒã€GTIDä¼˜ç¼ºç‚¹&lt;/h2&gt;
&lt;h3 id=&#34;ä¼˜ç‚¹&#34;&gt;ä¼˜ç‚¹ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¤åˆ¶å®‰å…¨æ€§æ›´é«˜ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ¯ä¸ªå®ä¾‹ä¸Šåªæ‰§è¡Œä¸€æ¬¡ï¼›&lt;/li&gt;
&lt;li&gt;æ•…éšœåˆ‡æ¢ç®€å•ï¼Œå¯é€šè¿‡è®¾ç½®MASTER_AUTO_POSITION=1ï¼Œè€Œémaster_log_fileå’Œmaster_log_posæ¥å»ºç«‹ä¸»ä»å…³ç³»ï¼›&lt;/li&gt;
&lt;li&gt;å¯æ ¹æ®GTIDç¡®å®šäº‹åŠ¡æœ€æ—©æäº¤çš„å®ä¾‹ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¼ºç‚¹&#34;&gt;ç¼ºç‚¹ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç»„å¤åˆ¶ä¸­ï¼Œå¿…é¡»è¦æ±‚ç»Ÿä¸€å¼€å¯GTIDæˆ–è€…å…³é—­GTIDï¼›&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå¤åˆ¶create table table_name select ... from table_name_xx ;&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒcreate temporary tableå’Œdrop temporary tableï¼›&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒsql_slave_skip_counterï¼Œå¯é€šè¿‡set global gtid_next=&#39;&#39; è·³è¿‡ï¼›&lt;/li&gt;
&lt;li&gt;ä»åº“å’Œä¸»åº“éƒ½å¿…é¡»è®¾ç½®log_slave_updates&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸‰-gtidå·¥ä½œåŸç†&#34;&gt;ä¸‰ã€GTIDå·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;1ã€masteræ›´æ–°æ•°æ®æ—¶ï¼Œä¼šåœ¨äº‹åŠ¡å‰äº§ç”ŸGTIDï¼Œä¸€åŒè®°å½•åˆ°binlogæ—¥å¿—ä¸­ã€‚&lt;br&gt;
2ã€slaveç«¯çš„i/o çº¿ç¨‹å°†å˜æ›´çš„binlogï¼Œå†™å…¥åˆ°æœ¬åœ°çš„relay logä¸­ã€‚&lt;br&gt;
3ã€sqlçº¿ç¨‹ä»relay logä¸­è·å–GTIDï¼Œç„¶åå¯¹æ¯”slaveç«¯çš„binlogæ˜¯å¦æœ‰è®°å½•ã€‚&lt;br&gt;
4ã€å¦‚æœæœ‰è®°å½•ï¼Œè¯´æ˜è¯¥GTIDçš„äº‹åŠ¡å·²ç»æ‰§è¡Œï¼Œslaveä¼šå¿½ç•¥ã€‚&lt;br&gt;
5ã€å¦‚æœæ²¡æœ‰è®°å½•ï¼Œslaveå°±ä¼šä»relay logä¸­æ‰§è¡Œè¯¥GTIDçš„äº‹åŠ¡ï¼Œå¹¶è®°å½•åˆ°binlogã€‚&lt;br&gt;
6ã€åœ¨è§£æè¿‡ç¨‹ä¸­ä¼šåˆ¤æ–­æ˜¯å¦æœ‰ä¸»é”®ï¼Œå¦‚æœæ²¡æœ‰å°±ç”¨äºŒçº§ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰å°±ç”¨å…¨éƒ¨æ‰«æã€‚&lt;/p&gt;
&lt;h2 id=&#34;å››-gtidå¼€å¯å’Œå…³é—­&#34;&gt;å››ã€GTIDå¼€å¯å’Œå…³é—­&lt;/h2&gt;
&lt;p&gt;gtid_mode=ON(å¿…é€‰)&lt;br&gt;
log_bin=ON(å¿…é€‰)&lt;br&gt;
log-slave-updates=ON(å¿…é€‰)&lt;br&gt;
enforce-gtid-consistency(å¿…é€‰)&lt;br&gt;
log-bin = /home/mysql/mysql-binï¼ˆå¿…é€‰ï¼‰&lt;br&gt;
binlog_format = MIXEDï¼ˆå¿…é€‰mixedæˆ–è€…rowï¼‰&lt;br&gt;
##&lt;br&gt;
change master to master_host = &#39;ipaddr&#39;,master_port = 3306,master_user = &#39;username&#39;,master_password=&#39;password&#39;,master_auto_position = 1;&lt;/p&gt;
&lt;h2 id=&#34;äº”-gtidé€‚ç”¨åœºæ™¯&#34;&gt;äº”ã€GTIDé€‚ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;1ã€æ­å»ºé«˜å¯ç”¨æ¶æ„ï¼Œæ–¹ä¾¿ä¸»ä»åˆ‡æ¢åï¼Œæ–°çš„ä»åº“é‡æ–°æŒ‡å®šä¸»åº“ï¼ˆä¾‹å¦‚ä¸€ä¸»äºŒä»çš„ç»“æ„ï¼ŒAä¸ºmater,Bä¸ºSlaveï¼ŒCä¸ºSlaveï¼ŒAå®•æœºåˆ‡æ¢åˆ°Båï¼ŒCé‡æ–°æŒ‡å®šä¸»åº“ä¸ºBï¼‰&lt;br&gt;
2ã€ä¸ç»å¸¸ä½¿ç”¨create table table_name select * from table_name/create temporary table/update t1,t2 where ...è¿™ç§è¯­å¥çš„åœºåˆ&lt;/p&gt;
">GTIDåŸºç¡€åŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-shi-wu-ge-chi-ji-bie-ji-shi-xian/"" data-c="
          &lt;h2 id=&#34;å››ä¸ªåŸºæœ¬è¦ç´ acid&#34;&gt;å››ä¸ªåŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼ˆAtomicityï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼ˆIsolationï¼‰&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼ˆDurabilityï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜&#34;&gt;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è„è¯»ï¼šäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡Båœ¨äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;å¹»è¯»ï¼šå¹»è¯»å¹¶ä¸æ˜¯è¯´ä¸¤æ¬¡è¯»å–çš„ç»“æœé›†ä¸åŒï¼Œå¹»è¯»ä¾§é‡çš„æ–¹é¢æ˜¯æŸä¸€æ¬¡çš„selectæ“ä½œå¾—åˆ°çš„ç»“æœæ‰€è¡¨å¾çš„æ•°æ®çŠ¶æ€æ— æ³•æ”¯æ’‘åç»­çš„ä¸šåŠ¡æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼ŒselectæŸæ¡è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨ï¼Œå‡†å¤‡æ’å…¥æ­¤è®°å½•ï¼Œä½†æ‰§è¡Œinsertæ—¶å‘ç°æ­¤è®°å½•å·²å­˜åœ¨ï¼Œæ— æ³•æ’å…¥ï¼Œæ­¤æ—¶å°±å‘ç”Ÿäº†å¹»è¯»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;äº‹åŠ¡éš”ç¦»çº§åˆ«&#34;&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/th&gt;
&lt;th&gt;è„è¯»&lt;/th&gt;
&lt;th&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;
&lt;th&gt;å¹»è¯»&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸å¯é‡å¤è¯»ï¼ˆread-committedï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;æ˜¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;td&gt;å¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;æŸ¥çœ‹æ•°æ®åº“éš”ç¦»çº§åˆ«&#34;&gt;æŸ¥çœ‹æ•°æ®åº“éš”ç¦»çº§åˆ«&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; select @@global.tx_isolation, @@tx_isolation;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;acidå®ç°åŸç†&#34;&gt;ACIDå®ç°åŸç†&lt;/h2&gt;
&lt;h3 id=&#34;åŸå­æ€§&#34;&gt;åŸå­æ€§&lt;/h3&gt;
&lt;p&gt;å®ç°åŸå­æ€§çš„å…³é”®ï¼Œæ˜¯å½“äº‹åŠ¡å›æ»šæ—¶èƒ½å¤Ÿæ’¤é”€æ‰€æœ‰å·²ç»æˆåŠŸæ‰§è¡Œçš„sqlè¯­å¥ã€‚InnoDBå®ç°å›æ»šï¼Œä¾èµ–çš„æ˜¯undo logï¼šå½“äº‹åŠ¡å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹æ—¶ï¼ŒInnoDBä¼šç”Ÿæˆå¯¹åº”çš„undo logï¼Œå¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥æˆ–è°ƒç”¨rollbackï¼Œå¯¼è‡´äº‹åŠ¡éœ€è¦å›æ»šï¼Œä¾¿å¯ä»¥åˆ©ç”¨undo logä¸­çš„ä¿¡æ¯å°†æ•°æ®è¿›è¡Œå›æ»šã€‚undo logå…¶å®å°±æ˜¯è®°å½•æ•°æ®ä¿®æ”¹æ—¶çš„ç›¸åæ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŒä¹…æ€§&#34;&gt;æŒä¹…æ€§&lt;/h3&gt;
&lt;p&gt;å®ç°æŒä¹…æ€§ä¸»è¦ä¾èµ–redo logï¼Œredo logé‡‡ç”¨WALï¼Œæ‰€æœ‰ä¿®æ”¹å…ˆå†™å…¥æ—¥å¿—ï¼Œå†æ›´æ–°åˆ°Buffer Poolï¼Œä¿è¯äº†æ•°æ®åº“ä¸ä¼šå› æ„å¤–å®•æœºè€Œä¸¢å¤±ã€‚å†™redo logæ˜¯è¦æ¯”åˆ·ç¼“å­˜åˆ°ç£ç›˜è¦å¿«çš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ·è„æ˜¯éšæœºIOã€è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼›è€Œredo logæ˜¯è¿½åŠ æ“ä½œï¼Œå±äºé¡ºåºIOï¼Œæ‰€ä»¥é€Ÿåº¦å¿«ï¼›&lt;/li&gt;
&lt;li&gt;åˆ·è„æ˜¯ä»¥Pageä¸ºå•ä½çš„ï¼ŒMysqlé»˜è®¤é¡µå¤§å°æ˜¯16KBï¼Œä¸€ä¸ªPageä¸Šä¸€ä¸ªå°çš„ä¿®æ”¹éƒ½éœ€è¦æ•´é¡µå†™å…¥ï¼›è€Œredo logä¸­åªåŒ…å«çœŸæ­£éœ€è¦å†™å…¥çš„éƒ¨åˆ†ï¼Œæ— æ•ˆIOå‡å°‘ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…³äºbinlogå’Œredo logçš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½œç”¨ä¸åŒï¼šredo logæ˜¯ç”¨äºcrash recoveryçš„ï¼Œä¿è¯MySQLå®•æœºä¹Ÿä¸ä¼šå½±å“æŒä¹…æ€§ï¼›binlogæ˜¯ç”¨äºpoint-in-time recoveryçš„ï¼Œä¿è¯æœåŠ¡å™¨å¯ä»¥åŸºäºæ—¶é—´ç‚¹æ¢å¤æ•°æ®ï¼Œæ­¤å¤–binlogè¿˜ç”¨äºä¸»ä»å¤åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;å±‚æ¬¡ä¸åŒï¼šredo logæ˜¯InnoDBå­˜å‚¨å¼•æ“å®ç°çš„ï¼Œè€Œbinlogæ˜¯MySQLçš„æœåŠ¡å™¨å±‚å®ç°çš„ï¼ŒåŒæ—¶æ”¯æŒInnoDBå’Œå…¶ä»–å­˜å‚¨å¼•æ“ã€‚&lt;/li&gt;
&lt;li&gt;å†…å®¹ä¸åŒï¼šredo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œå†…å®¹åŸºäºç£ç›˜çš„Pageï¼›binlogçš„å†…å®¹æ˜¯äºŒè¿›åˆ¶çš„ï¼Œæ ¹æ®binlog_formatå‚æ•°çš„ä¸åŒï¼Œå¯èƒ½åŸºäºsqlè¯­å¥ã€åŸºäºæ•°æ®æœ¬èº«æˆ–è€…äºŒè€…çš„æ··åˆã€‚&lt;/li&gt;
&lt;li&gt;å†™å…¥æ—¶æœºä¸åŒï¼šbinlogåœ¨äº‹åŠ¡æäº¤æ—¶å†™å…¥ï¼›redo logçš„å†™å…¥æ—¶æœºç›¸å¯¹å¤šå…ƒï¼Œå¯ä»¥é€šè¿‡åŒ1è®¾ç½®è¿›è¡Œæ§åˆ¶ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;éš”ç¦»æ€§&#34;&gt;éš”ç¦»æ€§&lt;/h3&gt;
&lt;p&gt;éš”ç¦»æ€§è¿½æ±‚çš„æ˜¯å¹¶å‘æ¡ä»¶ä¸‹äº‹åŠ¡ä¹‹é—´äº’ä¸å¹²æ‰°ï¼›ä¸»è¦è€ƒè™‘ä¸¤ç§åœºæ™¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªäº‹åŠ¡çš„å†™æ“ä½œä¹‹é—´çš„å½±å“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;InnoDBé€šè¿‡é”æœºåˆ¶æ¥ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œå†™æ“ä½œï¼Œç®€å•ç†è§£ä¸ºï¼Œäº‹åŠ¡åœ¨ä¿®æ”¹æ•°æ®ä¹‹å‰ï¼Œéœ€è¦å…ˆè·å¾—ç›¸åº”çš„é”ï¼›è·å¾—é”ä¹‹åï¼Œäº‹åŠ¡ä¾¿å¯ä»¥ä¿®æ”¹æ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡éœ€è¦ç­‰å¾…è¯¥é”é‡Šæ”¾åæ‰èƒ½å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;è¡¨é”ä¼šé”ä½æ•´ä¸ªè¡¨ï¼Œå¹¶å‘æ€§èƒ½è¾ƒå·®ï¼›&lt;/li&gt;
&lt;li&gt;è¡Œé”åªé”å®šéœ€è¦æ“ä½œçš„æ•°æ®ï¼Œå¹¶å‘æ€§èƒ½å¥½ï¼Œä½†æ•°æ®è¾ƒå¤šæ—¶æ€§èƒ½ä¹Ÿä¼šä¸‹é™ï¼›ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨è¡Œé”å³å¯ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªäº‹åŠ¡çš„è¯»æ“ä½œä¹‹é—´çš„å½±å“ï¼š&lt;/p&gt;
&lt;p&gt;Mysqlä¸­é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯RRï¼ŒInnoDBå®ç°çš„RRå¯ä»¥é¿å…å¹»è¯»çš„é—®é¢˜ï¼Œå³ä½¿ç”¨MVCCæŠ€æœ¯ï¼ŒMulti-Version Concurrency Controlã€‚&lt;/p&gt;
&lt;p&gt;MVCCæœ€å¤§çš„ä¼˜ç‚¹æ˜¯è¯»ä¸åŠ é”ï¼Œå› æ­¤è¯»å†™ä¸å†²çªï¼Œå¹¶å‘æ€§å¥½ã€‚InnoDBå®ç°MVCCï¼Œå¤šä¸ªç‰ˆæœ¬çš„æ•°æ®å¯ä»¥å…±å­˜ï¼Œä¸»è¦ä¾èµ–ä»¥ä¸‹æŠ€æœ¯å’Œæ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ•°æ®åº“éœ€è¦åšå¥½ç‰ˆæœ¬æ§åˆ¶ï¼Œé˜²æ­¢ä¸è¯¥è¢«äº‹åŠ¡çœ‹åˆ°çš„æ•°æ®(ä¾‹å¦‚è¿˜æ²¡æäº¤çš„äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®)è¢«çœ‹åˆ°ã€‚åœ¨InnoDBä¸­ï¼Œä¸»è¦æ˜¯é€šè¿‡ä½¿ç”¨readviewçš„æŠ€æœ¯æ¥å®ç°åˆ¤æ–­ã€‚æŸ¥è¯¢å‡ºæ¥çš„æ¯ä¸€è¡Œè®°å½•ï¼Œéƒ½ä¼šç”¨readviewæ¥åˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™è¡Œæ˜¯å¦å¯ä»¥è¢«å½“å‰äº‹åŠ¡çœ‹åˆ°ï¼Œå¦‚æœå¯ä»¥ï¼Œåˆ™è¾“å‡ºï¼Œå¦åˆ™å°±åˆ©ç”¨undologæ¥æ„å»ºå†å²ç‰ˆæœ¬ï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼ŒçŸ¥é“è®°å½•æ„å»ºåˆ°æœ€è€çš„ç‰ˆæœ¬æˆ–è€…å¯è§æ€§æ¡ä»¶æ»¡è¶³ã€‚

åœ¨trx_sysä¸­ï¼Œä¸€ç›´ç»´æŠ¤è¿™ä¸€ä¸ªå…¨å±€çš„æ´»è·ƒçš„è¯»å†™äº‹åŠ¡id(trx_sys-&amp;gt;descriptors)ï¼ŒidæŒ‰ç…§ä»å°åˆ°å¤§æ’åºï¼Œè¡¨ç¤ºåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œæ•°æ®åº“ä¸­æ‰€æœ‰çš„æ´»è·ƒ(å·²ç»å¼€å§‹ä½†è¿˜æ²¡æäº¤)çš„è¯»å†™(å¿…é¡»æ˜¯è¯»å†™äº‹åŠ¡ï¼Œåªè¯»äº‹åŠ¡ä¸åŒ…å«åœ¨å†…)äº‹åŠ¡ã€‚å½“éœ€è¦ä¸€ä¸ªä¸€è‡´æ€§è¯»çš„æ—¶å€™(å³åˆ›å»ºæ–°çš„readviewæ—¶)ï¼Œä¼šæŠŠå…¨å±€è¯»å†™äº‹åŠ¡idæ‹·è´ä¸€ä»½åˆ°readviewæœ¬åœ°(read_view_t-&amp;gt;descriptors)ï¼Œå½“åšå½“å‰äº‹åŠ¡çš„å¿«ç…§ã€‚read_view_t-&amp;gt;up_limit_idæ˜¯read_view_t-&amp;gt;descriptorsè¿™æ•°ç»„ä¸­æœ€å°çš„å€¼ï¼Œread_view_t-&amp;gt;low_limit_idæ˜¯åˆ›å»ºreadviewæ—¶çš„max_trx_idï¼Œå³ä¸€å®šå¤§äºread_view_t-&amp;gt;descriptorsä¸­çš„æœ€å¤§å€¼ã€‚å½“æŸ¥è¯¢å‡ºä¸€æ¡è®°å½•å(è®°å½•ä¸Šæœ‰ä¸€ä¸ªtrx_idï¼Œè¡¨ç¤ºè¿™æ¡è®°å½•æœ€åè¢«ä¿®æ”¹æ—¶çš„äº‹åŠ¡id)ï¼Œå¯è§æ€§åˆ¤æ–­çš„é€»è¾‘å¦‚ä¸‹(lock_clust_rec_cons_read_sees)ï¼š

å¦‚æœè®°å½•ä¸Šçš„trx_idå°äºread_view_t-&amp;gt;up_limit_idï¼Œåˆ™è¯´æ˜è¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹å‰ï¼Œå› æ­¤è¿™æ¡è®°å½•å¯ä»¥è¢«çœ‹è§ã€‚

å¦‚æœè®°å½•ä¸Šçš„trx_idå¤§äºç­‰äºread_view_t-&amp;gt;low_limit_idï¼Œåˆ™è¯´æ˜è¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹åï¼Œå› æ­¤è¿™æ¡è®°å½•è‚¯å®šä¸å¯ä»¥è¢«çœ‹å®¶ã€‚

å¦‚æœè®°å½•ä¸Šçš„trx_idåœ¨up_limit_idå’Œlow_limit_idä¹‹é—´ï¼Œä¸”trx_idåœ¨read_view_t-&amp;gt;descriptorsä¹‹ä¸­ï¼Œåˆ™è¡¨ç¤ºè¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹æ˜¯åœ¨readviewåˆ›å»ºä¹‹æ—¶ï¼Œè¢«å¦å¤–ä¸€ä¸ªæ´»è·ƒäº‹åŠ¡æ‰€ä¿®æ”¹ï¼Œæ‰€ä»¥è¿™æ¡è®°å½•ä¹Ÿä¸å¯ä»¥è¢«çœ‹è§ã€‚å¦‚æœtrx_idä¸åœ¨read_view_t-&amp;gt;descriptorsä¹‹ä¸­ï¼Œåˆ™è¡¨ç¤ºè¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹å‰ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°ã€‚

åŸºäºä¸Šè¿°åˆ¤æ–­ï¼Œå¦‚æœè®°å½•ä¸å¯è§ï¼Œåˆ™å°è¯•ä½¿ç”¨undoå»æ„å»ºè€çš„ç‰ˆæœ¬(row_vers_build_for_consistent_read)ï¼Œç›´åˆ°æ‰¾åˆ°å¯ä»¥è¢«çœ‹è§çš„è®°å½•æˆ–è€…è§£æå®Œæ‰€æœ‰çš„undoã€‚

é’ˆå¯¹RRéš”ç¦»çº§åˆ«ï¼Œåœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºreadviewåï¼Œè¿™ä¸ªreadviewå°±ä¼šä¸€ç›´æŒç»­åˆ°äº‹åŠ¡ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ•°æ®çš„å¯è§æ€§ä¸ä¼šå˜ï¼Œæ‰€ä»¥åœ¨äº‹åŠ¡å†…éƒ¨ä¸ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µã€‚é’ˆå¯¹RCéš”ç¦»çº§åˆ«ï¼Œäº‹åŠ¡ä¸­çš„æ¯ä¸ªæŸ¥è¯¢è¯­å¥éƒ½å•ç‹¬æ„å»ºä¸€ä¸ªreadviewï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªæŸ¥è¯¢ä¹‹é—´æœ‰äº‹åŠ¡æäº¤äº†ï¼Œä¸¤ä¸ªæŸ¥è¯¢è¯»å‡ºæ¥çš„ç»“æœå°±ä¸ä¸€æ ·ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨InnoDBä¸­ï¼ŒRRéš”ç¦»çº§åˆ«çš„æ•ˆç‡æ˜¯æ¯”RCéš”ç¦»çº§åˆ«çš„é«˜ã€‚æ­¤å¤–ï¼Œé’ˆå¯¹RUéš”ç¦»çº§åˆ«ï¼Œç”±äºä¸ä¼šå»æ£€æŸ¥å¯è§æ€§ï¼Œæ‰€ä»¥åœ¨ä¸€æ¡SQLä¸­ä¹Ÿä¼šè¯»åˆ°ä¸ä¸€è‡´çš„æ•°æ®ã€‚é’ˆå¯¹ä¸²è¡ŒåŒ–éš”ç¦»çº§åˆ«ï¼ŒInnoDBæ˜¯é€šè¿‡é”æœºåˆ¶æ¥å®ç°çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å¤šç‰ˆæœ¬æ§åˆ¶çš„æœºåˆ¶ï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆå·®ã€‚

ç”±äºreadviewçš„åˆ›å»ºæ¶‰åŠåˆ°æ‹·è´å…¨å±€æ´»è·ƒè¯»å†™äº‹åŠ¡idï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Štrx_sys-&amp;gt;mutexè¿™æŠŠå¤§é”ï¼Œä¸ºäº†å‡å°‘å…¶å¯¹æ€§èƒ½çš„å½±å“ï¼Œå…³äºreadviewæœ‰å¾ˆå¤šä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‰åä¸¤ä¸ªæŸ¥è¯¢ä¹‹é—´ï¼Œæ²¡æœ‰äº§ç”Ÿæ–°çš„è¯»å†™äº‹åŠ¡ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªæŸ¥è¯¢åˆ›å»ºçš„readviewæ˜¯å¯ä»¥è¢«åä¸€ä¸ªæŸ¥è¯¢å¤ç”¨çš„ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ“ä½œæŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; select * from information_schema.innodb_locks; #é”çš„æ¦‚å†µ
mysql&amp;gt; show engine innodb status;                     #InnoDBæ•´ä½“çŠ¶æ€ï¼Œå…¶ä¸­åŒ…æ‹¬é”çš„æƒ…å†µ
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸€è‡´æ€§&#34;&gt;ä¸€è‡´æ€§&lt;/h3&gt;
&lt;p&gt;ä¸€è‡´æ€§æ˜¯äº‹åŠ¡è¿½æ±‚çš„ç»ˆæç›®æ ‡ï¼ŒåŸå­æ€§ã€æŒä¹…æ€§å’Œéš”ç¦»æ€§ï¼Œéƒ½æ˜¯ä¸ºäº†å®ç°ä¸€è‡´æ€§è€Œå­˜åœ¨çš„ï¼›å®ç°ä¸€è‡´æ€§ä¹Ÿéœ€è¦åº”ç”¨å±‚é¢è¿›è¡Œä¿éšœï¼›&lt;/p&gt;
&lt;h3 id=&#34;è¿ç»´ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°&#34;&gt;è¿ç»´ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1ã€é¦–å…ˆä»‹ç»ä¸€ä¸‹information_schemaä¸­çš„ä¸‰å¼ è¡¨: innodb_trx, innodb_lockså’Œinnodb_lock_waitsã€‚ç”±äºè¿™äº›è¡¨å‡ ä¹éœ€è¦æŸ¥è¯¢æ‰€æœ‰äº‹åŠ¡å­ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œä¸ºäº†å‡å°‘æŸ¥è¯¢å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ï¼ŒInnoDBé¢„ç•™äº†ä¸€å—å†…å­˜ï¼Œå†…å­˜é‡Œé¢å­˜äº†ç›¸å…³æ•°æ®çš„å‰¯æœ¬ï¼Œå¦‚æœä¸¤æ¬¡æŸ¥è¯¢çš„æ—¶é—´å°äº0.1ç§’(CACHE_MIN_IDLE_TIME_US)ï¼Œåˆ™è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªå‰¯æœ¬ã€‚å¦‚æœè¶…è¿‡0.1ç§’ï¼Œåˆ™è¿™å—å†…å­˜ä¼šåšä¸€æ¬¡æ›´æ–°ï¼Œæ¯æ¬¡æ›´æ–°ä¼šæŠŠä¸‰å¼ è¡¨ç”¨åˆ°çš„æ‰€æœ‰æ•°æ®ç»Ÿä¸€æ›´æ–°ä¸€éï¼Œå› ä¸ºè¿™ä¸‰å¼ è¡¨ç»å¸¸éœ€è¦åšè¡¨è¿æ¥æ“ä½œï¼Œæ‰€ä»¥ä¸€èµ·æ›´æ–°èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹innodb_trxè¡¨ä¸­çš„å­—æ®µï¼Œå¦å¤–ä¸¤å¼ è¡¨æ¶‰åŠåˆ°äº‹ç‰©é”çš„ç›¸å…³ä¿¡æ¯ï¼Œç”±äºç¯‡å¹…é™åˆ¶ï¼Œåç»­æœ‰æœºä¼šåœ¨ä»‹ç»ã€‚

trx_id: å°±æ˜¯trx_tä¸­çš„äº‹åŠ¡idï¼Œå¦‚æœæ˜¯åªè¯»äº‹åŠ¡ï¼Œè¿™ä¸ªidè·Ÿtrx_tçš„æŒ‡é’ˆåœ°å€æœ‰å…³ï¼Œæ‰€ä»¥å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—(trx_get_id_for_print)ã€‚
trx_weight: è¿™ä¸ªæ˜¯äº‹åŠ¡çš„æƒé‡ï¼Œè®¡ç®—æ–¹æ³•å°±æ˜¯undologæ•°é‡åŠ ä¸Šäº‹åŠ¡å·²ç»åŠ ä¸Šé”çš„æ•°é‡ã€‚åœ¨äº‹åŠ¡å›æ»šçš„æ—¶å€™ï¼Œä¼˜å…ˆé€‰æ‹©å›æ»šæƒé‡å°çš„äº‹åŠ¡ï¼Œæœ‰éäº‹åŠ¡å¼•æ“å‚ä¸çš„äº‹åŠ¡è¢«è®¤ä¸ºæƒé‡æ˜¯æœ€å¤§çš„ã€‚
trx_rows_modifiedï¼šè¿™ä¸ªå°±æ˜¯å½“å‰äº‹åŠ¡å·²ç»äº§ç”Ÿçš„undologæ•°é‡ï¼Œæ¯æ›´æ–°ä¸€æ¡è®°å½•ä¸€æ¬¡ï¼Œå°±ä¼šäº§ç”Ÿä¸€æ¡undoã€‚
trx_concurrency_tickets: æ¯æ¬¡è¿™ä¸ªäº‹åŠ¡éœ€è¦è¿›å…¥InnoDBå±‚æ—¶ï¼Œè¿™ä¸ªå€¼éƒ½ä¼šå‡ä¸€ï¼Œå¦‚æœå‡åˆ°0ï¼Œåˆ™äº‹åŠ¡éœ€è¦ç­‰å¾…(å‹åŠ›å¤§çš„æƒ…å†µä¸‹)ã€‚
trx_is_read_only: å¦‚æœæ˜¯ä»¥start transaction read onlyå¯åŠ¨äº‹åŠ¡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æ®µæ˜¯1ï¼Œå¦åˆ™ä¸º0ã€‚
trx_autocommit_non_locking: å¦‚æœä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªæ™®é€šçš„selectè¯­å¥(åé¢æ²¡æœ‰è·Ÿfor update, share lockç­‰)ï¼Œä¸”å½“æ—¶çš„autocommitä¸º1ï¼Œåˆ™è¿™ä¸ªå­—æ®µä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚
trx_state: è¡¨ç¤ºäº‹åŠ¡å½“å‰çš„çŠ¶æ€ï¼Œåªèƒ½æœ‰RUNNING, LOCK WAIT, ROLLING BACK, COMMITTINGè¿™å‡ ç§çŠ¶æ€, æ˜¯æ¯”è¾ƒç²—ç²’åº¦çš„çŠ¶æ€ã€‚
trx_operation_state: è¡¨ç¤ºäº‹åŠ¡å½“å‰çš„è¯¦ç»†çŠ¶æ€ï¼Œç›¸æ¯”äºtrx_stateæ›´åŠ è¯¦ç»†ï¼Œä¾‹å¦‚æœ‰rollback to a savepoint, getting list of referencing foreign keys, rollback of internal trx on stats tables, dropping indexesç­‰ã€‚

2ã€ä¸äº‹åŠ¡ç›¸å…³çš„undoå‚æ•°

innodb_undo_directory: undoæ–‡ä»¶çš„ç›®å½•ï¼Œå»ºè®®æ”¾åœ¨ç‹¬ç«‹çš„ä¸€å—ç›˜ä¸Šï¼Œå°¤å…¶åœ¨ç»å¸¸æœ‰å¤§äº‹åŠ¡çš„æƒ…å†µä¸‹ã€‚
innodb_undo_logs: è¿™ä¸ªæ˜¯å®šä¹‰äº†undo segmentçš„ä¸ªæ•°ã€‚åœ¨ç»™è¯»å†™äº‹åŠ¡åˆ†é…undo segmentçš„æ—¶å€™ï¼Œæ‹¿è¿™ä¸ªå€¼å»åšè½®è®­åˆ†é…ã€‚
Innodb_available_undo_logs: è¿™ä¸ªæ˜¯ä¸€ä¸ªstatuså˜é‡ï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™å°±ç¡®å®šäº†ï¼Œè¡¨ç¤ºçš„æ˜¯ç³»ç»Ÿä¸Šåˆ†é…çš„undo segmentã€‚ä¸¾ä¸ªä¾‹å­è¯´æ˜å…¶ä¸innodb_undo_logsçš„å…³ç³»ï¼šå‡è®¾ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™innodb_undo_logsä¸º128ï¼Œåˆ™åœ¨æ–‡ä»¶ä¸Šä¸€å®šæœ‰128ä¸ªundo segmentï¼ŒInnodb_available_undo_logsä¹Ÿä¸º128ï¼Œä½†æ˜¯å¯åŠ¨èµ·æ¥åï¼Œinnodb_undo_logsåŠ¨æ€è¢«è°ƒæ•´ä¸º100ï¼Œåˆ™åç»­çš„è¯»å†™äº‹åŠ¡åªä¼šä½¿ç”¨åˆ°å‰100ä¸ªå›æ»šæ®µï¼Œæœ€åçš„20å¤šä¸ªä¸ä¼šä½¿ç”¨ã€‚
innodb_undo_tablespaces: å­˜æ”¾undo segmentçš„ç‰©ç†æ–‡ä»¶ä¸ªæ•°ï¼Œæ–‡ä»¶åä¸ºundoNï¼Œundo segmentä¼šæ¯”è¾ƒå‡åŒ€çš„åˆ†å¸ƒåœ¨undo tablespaceä¸­ã€‚

3ã€ä¸Purgeç›¸å…³çš„å‚æ•°

innodb_purge_threads: Purge Workerå’ŒPurge Coordinatoræ€»å…±çš„ä¸ªæ•°ã€‚åœ¨å®é™…çš„å®ç°ä¸­ï¼Œä½¿ç”¨å¤šå°‘ä¸ªçº¿ç¨‹å»åšPurgeæ˜¯InnoDBæ ¹æ®å®æ—¶è´Ÿè½½è¿›è¡ŒåŠ¨æ€è°ƒèŠ‚çš„ã€‚
innodb_purge_batch_size: ä¸€æ¬¡æ€§å¤„ç†çš„undologçš„æ•°é‡ï¼Œå¤„ç†å®Œè¿™ä¸ªæ•°é‡åï¼ŒPurgeçº¿ç¨‹ä¼šè®¡ç®—æ˜¯å¦éœ€è¦sleepã€‚
innodb_max_purge_lag: å¦‚æœå…¨å±€å†å²é“¾è¡¨è¶…è¿‡è¿™ä¸ªå€¼ï¼Œå°±ä¼šå¢åŠ Purge Workerçº¿ç¨‹çš„æ•°é‡ï¼Œä¹Ÿä¼šä½¿ç”¨sleepçš„æ–¹å¼delayç”¨æˆ·çš„DMLã€‚
innodb_max_purge_lag_delay: è¿™ä¸ªè¡¨ç¤ºé€šè¿‡sleepæ–¹å¼delayç”¨æˆ·DMLæœ€å¤§çš„æ—¶é—´ã€‚

4ã€ä¸å›æ»šç›¸å…³çš„å‚æ•°

innodb_lock_wait_timeout: ç­‰å¾…è¡Œé”çš„æœ€å¤§æ—¶é—´ï¼Œå¦‚æœè¶…æ—¶ï¼Œåˆ™ä¼šæ»šå½“å‰è¯­å¥æˆ–è€…æ•´ä¸ªäº‹åŠ¡ã€‚å‘ç”Ÿå›æ»šåè¿”å›ç±»ä¼¼é”™è¯¯ï¼šLock wait timeout exceeded; try restarting transactionã€‚
innodb_rollback_on_timeout: å¦‚æœè¿™ä¸ªå‚æ•°ä¸ºtrueï¼Œåˆ™å½“å‘ç”Ÿå› ä¸ºç­‰å¾…è¡Œé”è€Œäº§ç”Ÿçš„è¶…æ—¶æ—¶ï¼Œå›æ»šæ‰æ•´ä¸ªäº‹åŠ¡ï¼Œå¦åˆ™åªå›æ»šå½“å‰çš„è¯­å¥ã€‚è¿™ä¸ªå°±æ˜¯éšå¼å›æ»šæœºåˆ¶ã€‚ä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹ä¹‹å‰çš„ç‰ˆæœ¬ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼šè¯­å¥è¦ä¹ˆå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨ä¸æ‰§è¡Œï¼Œæ˜¯äº‹åŠ¡æœ€æ ¸å¿ƒçš„ç‰¹æ€§ï¼Œäº‹åŠ¡æœ¬èº«å°±æ˜¯ä»¥åŸå­æ€§æ¥å®šä¹‰çš„ï¼›å®ç°ä¸»è¦åŸºäºundo log&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼šä¿è¯äº‹åŠ¡æäº¤åä¸ä¼šå› ä¸ºå®•æœºç­‰åŸå› å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›å®ç°ä¸»è¦åŸºäºredo log&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼šä¿è¯äº‹åŠ¡æ‰§è¡Œå°½å¯èƒ½ä¸å—å…¶ä»–äº‹åŠ¡å½±å“ï¼›InnoDBé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯RRï¼ŒRRçš„å®ç°ä¸»è¦åŸºäºé”æœºåˆ¶ï¼ˆåŒ…å«next-key lockï¼‰ã€MVCCï¼ˆåŒ…æ‹¬æ•°æ®çš„éšè—åˆ—ã€åŸºäºundo logçš„ç‰ˆæœ¬é“¾ã€ReadViewï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼šäº‹åŠ¡è¿½æ±‚çš„æœ€ç»ˆç›®æ ‡ï¼Œä¸€è‡´æ€§çš„å®ç°æ—¢éœ€è¦æ•°æ®åº“å±‚é¢çš„ä¿éšœï¼Œä¹Ÿéœ€è¦åº”ç”¨å±‚é¢çš„ä¿éšœ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‚è€ƒæ–‡çŒ®&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;
&lt;h4 id=&#34;httpmysqltaobaoorgmonthly20171201&#34;&gt;http://mysql.taobao.org/monthly/2017/12/01/&lt;/h4&gt;
&lt;h4 id=&#34;httpswwwcnblogscomkismetvp10331633html&#34;&gt;https://www.cnblogs.com/kismetv/p/10331633.html&lt;/h4&gt;
&lt;h4 id=&#34;httpszhuanlanzhihucomp40208895&#34;&gt;https://zhuanlan.zhihu.com/p/40208895&lt;/h4&gt;
&lt;h4 id=&#34;httpswwwcnblogscomhuanongyingp7021555html&#34;&gt;https://www.cnblogs.com/huanongying/p/7021555.html&lt;/h4&gt;
">Mysqläº‹åŠ¡éš”ç¦»çº§åˆ«åŠå®ç°</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-zhu-cong-fu-zhi-huan-jing-da-jian/"" data-c="
          &lt;h2 id=&#34;å‡†å¤‡æœºå™¨&#34;&gt;å‡†å¤‡æœºå™¨&lt;/h2&gt;
&lt;p&gt;ä¸¤å°centos7ç³»ç»ŸæœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;p&gt;ä¸»mysqlï¼š192.168.50.1&lt;/p&gt;
&lt;p&gt;ä»mysqlï¼š192.168.50.2&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…mysql&#34;&gt;å®‰è£…mysql&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½yumæº&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…yumæº&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;rpm -Uvh mysql80-community-release-el7-3.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…mysql&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y mysql-community-server
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨mysqlï¼Œå¹¶è·å–rootåˆå§‹å¯†ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¡®ä¿selinuxä¸ºdisabled
# ç¡®ä¿å…³é—­äº†firewalldæœåŠ¡

systemctl start mysqld

[root@localhost ~]# grep password /var/log/mysqld.log 
2020-10-19T02:47:35.912896Z 1 [Note] A temporary password is generated for root@localhost: -1k-1KjU*LG)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç™»å…¥mysqlï¼Œå¹¶é‡ç½®rootå¯†ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -p 
mysql&amp;gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;qUXmZP11JwJ_11&#39;; # rootæœ¬åœ°è®¿é—®ï¼Œä¸”é‡ç½®
mysql&amp;gt; exit
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸»mysqlæ•°æ®åº“é…ç½®&#34;&gt;ä¸»Mysqlæ•°æ®åº“é…ç½®&lt;/h2&gt;
&lt;p&gt;ç¼–è¾‘my.cnfé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf

[mysqld]
port=9006          #æŒ‡å®šæ–°çš„ç«¯å£
server-id=110      #è®¾ç½®ä¸»æœåŠ¡å™¨çš„ID(ä¸èƒ½å’Œåˆ«çš„æœåŠ¡å™¨é‡å¤ï¼Œå»ºè®®ä½¿ç”¨ipçš„æœ€åä¸€æ®µ)
log-bin=mysql-bin  #binlogæ—¥å¿—æ–‡ä»¶å
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºç”¨äºä¸»ä»åŒæ­¥çš„è´¦æˆ·&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ mysql -u root -p  #ç™»å½•MySQL
mysql&amp;gt; CREATE USER &#39;repl&#39;@&#39;192.168.50.2&#39; IDENTIFIED WITH mysql_native_password BY &#39;Top_master_1&#39;; # ä¸»åº“åˆ›å»ºç”¨äºä»åº“åŒæ­¥çš„è´¦å·
mysql&amp;gt; grant replication slave on *.* to &#39;repl&#39;@&#39;192.168.50.2&#39;;  #èµ‹äºˆä¸»ä»åŒæ­¥æƒé™ï¼ŒæŒ‡å®šå…·ä½“çš„æ•°æ®åº“åœ¨/etc/my.cnfä¸­å®Œæˆ
mysql&amp;gt; flush privileges;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‡å¯MySQLï¼Œä½¿my.cnf é…ç½®ç”Ÿæ•ˆï¼›æŸ¥çœ‹ä¸»åº“çŠ¶æ€&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ systemctl restart mysqld #é‡å¯MySQL
mysql -u root -p
mysql&amp;gt; show master status; #æŸ¥çœ‹ä¸»åº“çš„çŠ¶æ€  File,Position è¿™ä¸¤ä¸ªå€¼éœ€è¦æ”¾åˆ°slaveé…ç½®ä¸­
+--------------------+----------+--------------+------------------+-------------------+
| File               | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |
+--------------------+----------+--------------+------------------+-------------------+
| mysql-bin.00001    |      156 |     xxxx     |                  |                   |
+--------------------+----------+--------------+------------------+-------------------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä»mysqlæ•°æ®åº“é…ç½®&#34;&gt;ä»Mysqlæ•°æ®åº“é…ç½®&lt;/h2&gt;
&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf

[mysqld]
port=9006
server-id=111
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é…ç½®å®Œæˆåï¼Œé‡å¯ä»åº“çš„MySQL&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ systemctl restart mysqld  #é‡å¯MySQL
$ mysql -u root -p          #ç™»å½•mysql
mysql&amp;gt; stop slave;          #å…³é—­ä»åº“
mysql&amp;gt; change master to master_host=&#39;192.168.50.1&#39;,master_port=9006,master_user=&#39;repl&#39;,master_password=&#39;Top_master_1&#39;,master_log_file=&#39;mysql-bin.00001&#39;,master_log_pos=156; #é…ç½®ä¸»åº“ä¿¡æ¯
mysql&amp;gt; start slave;            #å¼€å¯ä»åº“ 
mysql&amp;gt; show slave status \G;   #Slave_IO_Running,Slave_SQL_Running éƒ½ä¸ºYesçš„æ—¶å€™è¡¨ç¤ºé…ç½®æˆåŠŸ
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸»åº“åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨&#34;&gt;ä¸»åº“åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create database topmanager DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;
ç™»å…¥ä»åº“ï¼Œå¯ä»¥çœ‹åˆ°ä»åº“ä¸­å‡ºç°åŒæ ·çš„æ•°æ®åº“å’Œæ•°æ®è¡¨ï¼Œè¡¨æ˜å·²åŒæ­¥&lt;/code&gt;&lt;/pre&gt;
">Mysqlä¸»ä»å¤åˆ¶ç¯å¢ƒæ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-shuang-1-she-zhi-shu-ju-an-quan-de-guan-jian-can-shu/"" data-c="
          &lt;h2 id=&#34;ä¸€-å‚æ•°åŠè®¾ç½®è¯´æ˜&#34;&gt;ä¸€ã€å‚æ•°åŠè®¾ç½®è¯´æ˜&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# innodb_flush_log_at_trx_commit
1.è®¾ç½®ä¸º0ï¼šlog bufferå°†æ¯ç§’ä¸€æ¬¡åœ°å†™å…¥log fileä¸­ï¼Œå¹¶ä¸”log fileçš„flushæ“ä½œåŒæ—¶è¿›è¡Œï¼›è¯¥æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ä¼šä¸»åŠ¨è§¦å‘å†™å…¥ç£ç›˜çš„æ“ä½œï¼›
2.è®¾ç½®ä¸º1ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œå¹¶ä¸”flush(åˆ·åˆ°ç£ç›˜)ä¸­å»;
3.è®¾ç½®ä¸º2ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œä½†æ˜¯flush(åˆ·åˆ°ç£ç›˜)æ“ä½œå¹¶ä¸ä¼šåŒæ—¶è¿›è¡Œã€‚è¯¥æ¨¡å¼ä¸‹,MySQLä¼šæ¯ç§’æ‰§è¡Œä¸€æ¬¡ flush(åˆ·åˆ°ç£ç›˜)æ“ä½œã€‚

# sync_binlog
sync_binlog çš„é»˜è®¤å€¼æ˜¯0ï¼Œåƒæ“ä½œç³»ç»Ÿåˆ·å…¶ä»–æ–‡ä»¶çš„æœºåˆ¶ä¸€æ ·ï¼ŒMySQLä¸ä¼šåŒæ­¥åˆ°ç£ç›˜ä¸­å»è€Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿæ¥åˆ·æ–°binary logã€‚
å½“sync_binlog =N (N&amp;gt;0) ï¼ŒMySQL åœ¨æ¯å†™ Næ¬¡ äºŒè¿›åˆ¶æ—¥å¿—binary logæ—¶ï¼Œä¼šä½¿ç”¨fdatasync()å‡½æ•°å°†å®ƒçš„å†™äºŒè¿›åˆ¶æ—¥å¿—binary logåŒæ­¥åˆ°ç£ç›˜ä¸­å»ã€‚

æ³¨æ„ï¼šå¦‚æœå¯ç”¨äº†autocommitï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªè¯­å¥statementå°±ä¼šæœ‰ä¸€æ¬¡å†™æ“ä½œï¼›å¦åˆ™æ¯ä¸ªäº‹åŠ¡å¯¹åº”ä¸€ä¸ªå†™æ“ä½œã€‚

# æ€§èƒ½ä¸å®‰å…¨æ€§å¯¹æ¯” 
1.åŒ1è®¾ç½®æ—¶ï¼Œå†™å…¥æ€§èƒ½æœ€å·®ï¼Œå®‰å…¨æ€§æœ€é«˜ï¼›
2.sync_binlog=N (N&amp;gt;1 ) innodb_flush_log_at_trx_commit=2 æ—¶ï¼Œæ€§èƒ½æœ€å¥½ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼›
3.innodb_flush_log_at_trx_commitè®¾ç½®ä¸º0ï¼Œmysqldè¿›ç¨‹å´©æºƒä¼šå¯¼è‡´ä¸Šä¸€ç§’é’Ÿæ‰€æœ‰äº‹åŠ¡æ•°æ®çš„ä¸¢å¤±ï¼›
4.innodb_flush_log_at_trx_commitè®¾ç½®ä¸º2ï¼Œå½“ç³»ç»Ÿå´©æºƒæˆ–è€…æ–­ç”µæ—¶ï¼Œä¸Šä¸€ç§’çš„æ‰€æœ‰æ•°æ®æ‰æœ‰å¯èƒ½ä¸¢å¤±ï¼›
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;äºŒ-å¯¹ioå½±å“è¾ƒå¤§çš„å‡ ä¸ªå‚æ•°&#34;&gt;äºŒã€å¯¹IOå½±å“è¾ƒå¤§çš„å‡ ä¸ªå‚æ•°&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1.innodb_buffer_pool_size # è¯¥å‚æ•°æ§åˆ¶innodbç¼“å­˜å¤§å°ï¼Œç”¨äºç¼“å­˜åº”ç”¨è®¿é—®çš„æ•°æ®ï¼Œæ¨èé…ç½®ä¸ºç³»ç»Ÿå¯ç”¨å†…å­˜çš„80%ã€‚
2.binlog_cache_size       # è¯¥å‚æ•°æ§åˆ¶äºŒè¿›åˆ¶æ—¥å¿—ç¼“å†²å¤§å°ï¼Œå½“äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤æ—¶ï¼Œäº‹åŠ¡æ—¥å¿—å­˜æ”¾äºcacheï¼Œå½“é‡åˆ°å¤§äº‹åŠ¡cacheä¸å¤Ÿç”¨çš„æ—¶ï¼Œmysqlä¼šæŠŠuncommittedçš„éƒ¨åˆ†å†™å…¥ä¸´æ—¶æ–‡ä»¶,ç­‰åˆ°committedçš„æ—¶å€™æ‰ä¼šå†™å…¥æ­£å¼çš„æŒä¹…åŒ–æ—¥å¿—æ–‡ä»¶ã€‚
3.innodb_max_dirty_pages_pct     # è¯¥å‚æ•°å¯ä»¥ç›´æ¥æ§åˆ¶Dirty Pageåœ¨BPä¸­æ‰€å çš„æ¯”ç‡ï¼Œå½“dirty pageè¾¾åˆ°äº†è¯¥å‚æ•°çš„é˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘MySQLç³»ç»Ÿåˆ·æ–°æ•°æ®åˆ°ç£ç›˜ã€‚
4.innodb_flush_log_at_trx_commit # è¯¥å‚æ•°ç¡®å®šæ—¥å¿—æ–‡ä»¶ä½•æ—¶writeã€flushã€‚
5.sync_binlog         # sync_binlogçš„é»˜è®¤å€¼æ˜¯0ï¼Œåƒæ“ä½œç³»ç»Ÿåˆ·å…¶ä»–æ–‡ä»¶çš„æœºåˆ¶ä¸€æ ·ï¼ŒMySQLä¸ä¼šåŒæ­¥åˆ°ç£ç›˜ä¸­å»è€Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿæ¥åˆ·æ–°binary logã€‚
6.innodb_flush_method # è¯¥å‚æ•°æ§åˆ¶æ—¥å¿—æˆ–æ•°æ®æ–‡ä»¶å¦‚ä½•writeã€flushã€‚å¯é€‰çš„å€¼ä¸ºfsyncï¼Œo_dsyncï¼Œo_directï¼Œlittlesyncï¼Œnosyncã€‚
&lt;/code&gt;&lt;/pre&gt;
">MysqlåŒ1è®¾ç½®-æ•°æ®å®‰å…¨çš„å…³é”®å‚æ•°</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-fen-ku-fen-biao-ce-lue/"" data-c="
          &lt;p&gt;æ•°æ®åˆ‡åˆ†å°±æ˜¯å°†æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œä½¿å¾—å•ä¸€æ•°æ®åº“ä¸­çš„æ•°æ®é‡å˜å°ï¼Œé€šè¿‡æ‰©å……ä¸»æœºçš„æ•°é‡ç¼“è§£å•ä¸€æ•°æ®åº“çš„æ€§èƒ½é—®é¢˜ï¼Œä»è€Œè¾¾åˆ°æå‡æ•°æ®åº“æ€§èƒ½çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚ç›´åˆ‡åˆ†&#34;&gt;å‚ç›´åˆ‡åˆ†&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://esp0x.github.io/post-images/1610676801903.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‚ç›´åˆ‡åˆ†å¸¸è§æœ‰å‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ä¸¤ç§ï¼š&lt;/p&gt;
&lt;p&gt;å‚ç›´åˆ†åº“å°±æ˜¯æ ¹æ®ä¸šåŠ¡è€¦åˆæ€§ï¼Œå°†å…³è”åº¦ä½çš„ä¸åŒè¡¨å­˜å‚¨åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ã€‚ç±»ä¼¼å¾®æœåŠ¡æ¶æ„ï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡å•ç‹¬ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“çš„å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;å‚ç›´åˆ†è¡¨æ˜¯åŸºäºæ•°æ®åº“ä¸­çš„åˆ—è¿›è¡Œï¼Œ é’ˆå¯¹æŸä¸ªè¡¨å­—æ®µè¿‡å¤šï¼Œå¯ä»¥æ–°å»ºä¸€å¼ æ‰©å±•è¡¨ï¼Œå°†ä¸å¸¸ç”¨çš„å­—æ®µæˆ–é•¿åº¦è¾ƒå¤§çš„å­—æ®µæ‹†åˆ†åˆ°æ‰©å±•è¡¨ä¸­ã€‚è¿™æ ·å¯ä»¥é¿å…è·¨é¡µé—®é¢˜ï¼ŒMySQLåº•å±‚æ˜¯é€šè¿‡æ•°æ®é¡µå­˜å‚¨çš„ï¼Œä¸€æ¡è®°å½•è¿‡å¤§ä¼šå¯¼è‡´è·¨é¡µï¼Œé€ æˆé¢å¤–çš„æ€§èƒ½æŸå¤±ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‚ç›´åˆ‡åˆ†çš„ä¼˜ç‚¹&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è§£å†³ä¸šåŠ¡ç³»ç»Ÿå±‚é¢çš„è€¦åˆï¼Œä½¿å¾—ä¸šåŠ¡é€»è¾‘æ›´æ¸…æ™°ï¼›&lt;/li&gt;
&lt;li&gt;ä¸å¾®æœåŠ¡çš„æ²»ç†ç±»ä¼¼ï¼Œä¹Ÿèƒ½å¯¹ä¸åŒä¸šåŠ¡çš„æ•°æ®è¿›è¡Œåˆ†çº§ç®¡ç†ã€ç»´æŠ¤ã€ç›‘æ§ã€æ‰©å±•ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå‚ç›´åˆ‡åˆ†ä¸€å®šç¨‹åº¦ä¸Šèƒ½å¤Ÿæå‡è®¿é—®æ€§èƒ½ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å‚ç›´åˆ‡åˆ†çš„ç¼ºç‚¹&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨åˆ†è¡¨æ— æ³•joinï¼Œåªèƒ½é€šè¿‡æ¥å£æ–¹å¼ï¼Œå¼€å‘éš¾åº¦å¢åŠ ï¼›&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†å¤æ‚ï¼›&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰è§£å†³å•è¡¨æ•°æ®è¿‡å¤§çš„é—®é¢˜ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ°´å¹³åˆ‡åˆ†&#34;&gt;æ°´å¹³åˆ‡åˆ†&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://esp0x.github.io/post-images/1610676821810.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“ä¸€ä¸ªåº”ç”¨éš¾ä»¥å†ç»†ç²’åŒ–çš„å‚ç›´åˆ‡åˆ†ï¼Œæˆ–åˆ‡åˆ†åå•è¡¨æ•°æ®é‡è¿‡å¤§ï¼Œå­˜åœ¨è¯»å†™æ€§èƒ½é—®é¢˜æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘æ°´å¹³åˆ‡åˆ†äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ°´å¹³åˆ‡åˆ†åŒ…æ‹¬åº“å†…åˆ†è¡¨å’Œåˆ†åº“åˆ†è¡¨ï¼Œåº“å†…åˆ†è¡¨åªè§£å†³äº†å•ä¸€è¡¨æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜ï¼Œæ²¡æœ‰å°†è¡¨åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šï¼Œå¯¹äºæ•°æ®åº“è®¿é—®æ€§èƒ½æå‡æœ‰é™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ°´å¹³åˆ‡åˆ†çš„ä¼˜ç‚¹&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸å­˜åœ¨å•è¡¨æ•°æ®é‡è¿‡å¤§é—®é¢˜ï¼Œæå‡äº†è¡¨çš„è®¿é—®æ€§èƒ½ï¼›&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç«¯æ”¹é€ è¾ƒå°ï¼Œä¸éœ€è¦è¿›è¡Œä¸šåŠ¡æ‹†åˆ†ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è·¨åˆ†ç‰‡äº‹åŠ¡çš„ä¸€è‡´æ€§éš¾ä»¥ä¿è¯ï¼›&lt;/li&gt;
&lt;li&gt;è·¨åº“çš„joinå…³è”æŸ¥è¯¢æ€§èƒ½è¾ƒå·®ï¼›&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“å¤šæ¬¡æ‰©å±•éš¾åº¦å’Œç»´æŠ¤é‡å¢åŠ ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å‡ ç§å…¸å‹çš„æ•°æ®åˆ†ç‰‡è§„åˆ™&#34;&gt;å‡ ç§å…¸å‹çš„æ•°æ®åˆ†ç‰‡è§„åˆ™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®æ•°å€¼èŒƒå›´&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šæŒ‰ç…§æ—¶é—´ç»´åº¦ï¼Œå°†ä¸åŒæœˆï¼Œç”šè‡³ä¸åŒæ—¥çš„æ•°æ®å­˜å‚¨åˆ°ä¸åŒçš„è¡¨ï¼›åˆæˆ–è€…ï¼ŒæŒ‰ç…§userIdè¿›è¡Œåˆ’åˆ†ï¼Œ1-9999çš„è®°å½•åˆ†åˆ°ç¬¬ä¸€ä¸ªåº“ï¼Œ10000-20000çš„åˆ†åˆ°ç¬¬äºŒä¸ªåº“ï¼Œä»¥æ­¤ç±»æ¨ï¼›&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å•è¡¨å¤§å°å¯æ§ï¼›&lt;/li&gt;
&lt;li&gt;å¤©ç„¶ä¾¿äºæ°´å¹³æ‰©å±•ï¼ŒåæœŸå¦‚æœæƒ³å¯¹æ•´ä¸ªåˆ†ç‰‡é›†ç¾¤æ‰©å®¹æ—¶ï¼Œåªéœ€è¦æ·»åŠ èŠ‚ç‚¹ï¼Œæ— éœ€å¯¹å…¶ä»–åˆ†ç‰‡è¿›è¡Œæ•°æ®è¿ç§»ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åˆ†ç‰‡å­—æ®µè¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œé€Ÿåº¦æ›´å¿«ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;çƒ­ç‚¹æ•°æ®æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚è¿ç»­åˆ†ç‰‡å¯èƒ½å­˜åœ¨æ•°æ®çƒ­ç‚¹ï¼Œä¾‹å¦‚æŒ‰æ—¶é—´å­—æ®µåˆ†ç‰‡ï¼Œæœ‰äº›åˆ†ç‰‡å­˜å‚¨æœ€è¿‘æ—¶é—´çš„æ•°æ®ï¼Œå¯èƒ½ä¼šè¢«é¢‘ç¹åœ°è¯»å†™ï¼Œæœ‰äº›åˆ†ç‰‡å­˜å‚¨å†å²æ•°æ®ï¼Œåˆ™å¾ˆå°‘è¢«æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ¹æ®æ•°å€¼å–æ¨¡&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬é‡‡ç”¨hashå–æ¨¡modçš„åˆ‡åˆ†æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®åˆ†ç‰‡ç›¸å¯¹æ¯”è¾ƒå‡åŒ€ï¼Œä¸å®¹æ˜“å‡ºç°çƒ­ç‚¹å’Œå¹¶å‘è®¿é—®çš„ç“¶é¢ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åæœŸæ‰©å±•æ—¶ï¼Œéœ€è¦è¿ç§»æ—§çš„æ•°æ®ï¼›ï¼ˆé€šè¿‡ä¸€è‡´æ€§hashç®—æ³•å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼‰&lt;/li&gt;
&lt;li&gt;å®¹æ˜“é¢ä¸´è·¨åˆ†ç‰‡æŸ¥è¯¢çš„å¤æ‚é—®é¢˜ï¼Œæ¯”å¦‚é¢‘ç¹æŸ¥è¯¢ä¸­ä¸åŒ…å«åˆ†ç‰‡å­—æ®µï¼Œå°†ä¼šå¯¼è‡´æ— æ³•å®šä½æ•°æ®åº“ï¼Œä»è€Œå‘æ‰€æœ‰æ•°æ®åº“å‘èµ·è¯·æ±‚ï¼Œå†åœ¨å†…å­˜ä¸­åˆå¹¶æ•°æ®ï¼Œæ€§èƒ½æŸå¤±ä¸¥é‡ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†åº“åˆ†è¡¨éœ€è¦è§£å†³çš„é—®é¢˜&#34;&gt;åˆ†åº“åˆ†è¡¨éœ€è¦è§£å†³çš„é—®é¢˜&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;äº‹åŠ¡é—®é¢˜&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œäº¤ç”±æ•°æ®åº“ç®¡ç†ï¼Œç®€å•æœ‰æ•ˆï¼›ç¼ºç‚¹æ˜¯éšç€èŠ‚ç‚¹å¢åŠ ï¼Œæ€§èƒ½ä»£ä»·è¶Šæ¥è¶Šé«˜ã€‚ï¼ˆéœ€è¦åè°ƒçš„èŠ‚ç‚¹å˜å¤šï¼‰&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆäºŒï¼šç”±åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“å…±åŒæ§åˆ¶ï¼Œæ€§èƒ½ä¸Šæœ‰ä¼˜åŠ¿ï¼›ç¼ºç‚¹æ˜¯å¼€å‘éš¾åº¦è¾ƒå¤§ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·¨èŠ‚ç‚¹Joiné—®é¢˜&lt;/p&gt;
&lt;p&gt;åˆ†ä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœé›†ä¸­æ‰¾å‡ºå…³è”æ•°æ®çš„IDï¼Œæ ¹æ®è¿™äº›IDå‘èµ·ç¬¬äºŒæ¬¡è¯·æ±‚å¾—åˆ°å…³è”æ•°æ®ï¼›åœ¨åº”ç”¨è®¾è®¡æ—¶åº”å°½é‡é¿å…è¿›è¡Œå…³è”æŸ¥è¯¢ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·¨èŠ‚ç‚¹çš„countã€order byã€group byä»¥åŠèšåˆå‡½æ•°é—®é¢˜&lt;/p&gt;
&lt;p&gt;åˆ†åˆ«åœ¨å„ä¸ªèŠ‚ç‚¹è¿›è¡Œæ•°æ®åˆå¹¶ï¼Œæœ€ååœ¨ç»Ÿä¸€è¿›è¡Œåˆå¹¶ï¼Œç¼ºç‚¹æ˜¯å½“æ•°æ®é›†è¾ƒå¤§æ—¶ï¼Œå ç”¨çš„å†…å­˜èµ„æºå¾ˆå¤šï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®è¿ç§»ã€å®¹é‡è§„åˆ’ã€æ‰©å®¹ç­‰é—®é¢˜&lt;/p&gt;
&lt;p&gt;å½“ä¸šåŠ¡é«˜é€Ÿå‘å±•ï¼Œé¢ä¸´æ€§èƒ½å’Œå­˜å‚¨çš„ç“¶é¢ˆæ—¶ï¼Œæ‰ä¼šè€ƒè™‘åˆ†ç‰‡è®¾è®¡ï¼Œæ­¤æ—¶å°±ä¸å¯é¿å…çš„éœ€è¦è€ƒè™‘å†å²æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚ä¸€èˆ¬åšæ³•æ˜¯å…ˆè¯»å‡ºå†å²æ•°æ®ï¼Œç„¶åæŒ‰æŒ‡å®šçš„åˆ†ç‰‡è§„åˆ™å†å°†æ•°æ®å†™å…¥åˆ°å„ä¸ªåˆ†ç‰‡èŠ‚ç‚¹ä¸­ã€‚æ­¤å¤–è¿˜éœ€è¦æ ¹æ®å½“å‰çš„æ•°æ®é‡å’ŒQPSï¼Œä»¥åŠä¸šåŠ¡å‘å±•çš„é€Ÿåº¦ï¼Œè¿›è¡Œå®¹é‡è§„åˆ’ï¼Œæ¨ç®—å‡ºå¤§æ¦‚éœ€è¦å¤šå°‘åˆ†ç‰‡ï¼ˆä¸€èˆ¬å»ºè®®å•ä¸ªåˆ†ç‰‡ä¸Šçš„å•è¡¨æ•°æ®é‡ä¸è¶…è¿‡1000Wï¼‰å¦‚æœé‡‡ç”¨æ•°å€¼èŒƒå›´åˆ†ç‰‡ï¼Œåªéœ€è¦æ·»åŠ èŠ‚ç‚¹å°±å¯ä»¥è¿›è¡Œæ‰©å®¹äº†ï¼Œä¸éœ€è¦å¯¹åˆ†ç‰‡æ•°æ®è¿ç§»ã€‚å¦‚æœé‡‡ç”¨çš„æ˜¯æ•°å€¼å–æ¨¡åˆ†ç‰‡ï¼Œåˆ™è€ƒè™‘åæœŸçš„æ‰©å®¹é—®é¢˜å°±ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¨å±€ä¸»é”®é¿é‡é—®é¢˜&lt;/p&gt;
&lt;p&gt;ç”±äºè¡¨åŒæ—¶å­˜åœ¨äºå¤šä¸ªæ•°æ®åº“ä¸­ï¼Œä¸»é”®å€¼è®¾ç½®ä¸ºè‡ªå¢åºåˆ—å°†ä¸èƒ½ä½¿ç”¨ï¼Œéœ€è¦å•ç‹¬è®¾è®¡å…¨å±€ä¸»é”®ï¼Œä¸€èˆ¬å¯ä»¥ç”¨UUIDçš„æ–¹æ¡ˆè§£å†³ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·¨åˆ†ç‰‡çš„æ’åºåˆ†é¡µ&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è®²ï¼Œåˆ†é¡µæ—¶éœ€è¦æŒ‰ç…§æŒ‡å®šå­—æ®µè¿›è¡Œæ’åºã€‚å½“æ’åºå­—æ®µå°±æ˜¯åˆ†ç‰‡å­—æ®µçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡åˆ†ç‰‡è§„åˆ™å¯ä»¥æ¯”è¾ƒå®¹æ˜“å®šä½åˆ°æŒ‡å®šçš„åˆ†ç‰‡ï¼Œè€Œå½“æ’åºå­—æ®µéåˆ†ç‰‡å­—æ®µçš„æ—¶å€™ï¼Œæƒ…å†µå°±ä¼šå˜å¾—æ¯”è¾ƒå¤æ‚äº†ã€‚ä¸ºäº†æœ€ç»ˆç»“æœçš„å‡†ç¡®æ€§ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„åˆ†ç‰‡èŠ‚ç‚¹ä¸­å°†æ•°æ®è¿›è¡Œæ’åºå¹¶è¿”å›ï¼Œå¹¶å°†ä¸åŒåˆ†ç‰‡è¿”å›çš„ç»“æœé›†è¿›è¡Œæ±‡æ€»å’Œå†æ¬¡æ’åºï¼Œæœ€åå†è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯åœ¨å‰å°åº”ç”¨æä¾›åˆ†é¡µï¼Œåˆ™é™å®šç”¨æˆ·åªèƒ½çœ‹å‰é¢né¡µï¼Œè¿™ä¸ªé™åˆ¶åœ¨ä¸šåŠ¡ä¸Šä¹Ÿæ˜¯åˆç†çš„ï¼Œä¸€èˆ¬çœ‹åé¢çš„åˆ†é¡µæ„ä¹‰ä¸å¤§ï¼ˆå¦‚æœä¸€å®šè¦çœ‹ï¼Œå¯ä»¥è¦æ±‚ç”¨æˆ·ç¼©å°èŒƒå›´é‡æ–°æŸ¥è¯¢ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯åå°æ‰¹å¤„ç†ä»»åŠ¡è¦æ±‚åˆ†æ‰¹è·å–æ•°æ®ï¼Œåˆ™å¯ä»¥åŠ å¤§page sizeï¼Œæ¯”å¦‚æ¯æ¬¡è·å–5000æ¡è®°å½•ï¼Œæœ‰æ•ˆå‡å°‘åˆ†é¡µæ•°ï¼ˆå½“ç„¶ç¦»çº¿è®¿é—®ä¸€èˆ¬èµ°å¤‡åº“ï¼Œé¿å…å†²å‡»ä¸»åº“ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†åº“è®¾è®¡æ—¶ï¼Œä¸€èˆ¬è¿˜æœ‰é…å¥—å¤§æ•°æ®å¹³å°æ±‡æ€»æ‰€æœ‰åˆ†åº“çš„è®°å½•ï¼Œæœ‰äº›åˆ†é¡µæŸ¥è¯¢å¯ä»¥è€ƒè™‘èµ°å¤§æ•°æ®å¹³å°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
">Mysqlåˆ†åº“åˆ†è¡¨ç­–ç•¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/mysql-zhu-cong-fu-zhi-yuan-li/"" data-c="
          &lt;h3 id=&#34;åŸç†å›¾å¦‚ä¸‹&#34;&gt;åŸç†å›¾å¦‚ä¸‹ï¼š&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://esp0x.github.io/post-images/1610671157156.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£&#34;&gt;ä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£ï¼š&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;masteråº“å‘ç”Ÿæ•°æ®æ”¹å˜æ—¶ï¼Œä¼šå°†æ”¹å˜å†™å…¥binglogæ—¥å¿—ï¼›&lt;/li&gt;
&lt;li&gt;slaveåº“ä¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…å¯¹masterçš„binlogè¿›è¡Œæ£€æµ‹ä»¥ç¡®å®šæ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªIO threadè¯·æ±‚masteräºŒè¿›åˆ¶äº‹ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;åŒæ—¶ï¼Œmasterä¸ºæ¯ä¸€ä¸ªè¿‡æ¥è¯·æ±‚çš„IO threadå¼€å¯ä¸€ä¸ªdumpçº¿ç¨‹ï¼Œç”¨äºå°†äºŒè¿›åˆ¶äº‹ä»¶å‘é€ç»™IO threadï¼Œslaveçš„IO threadå°†æ­¤äºŒè¿›åˆ¶äº‹ä»¶å†™å…¥æœ¬åœ°relay logï¼ˆä¸­ç»§æ—¥å¿—ï¼‰ä¸­ï¼Œå¹¶å¼€å¯SQL threadä»ä¸­ç»§æ—¥å¿—ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—ï¼Œåœ¨æœ¬åœ°è¿›è¡Œé‡æ”¾ï¼ˆreplayï¼‰ï¼Œä»è€Œä½¿å¾—æœ¬åœ°æ•°æ®ä¸masterä¿æŒä¸€è‡´ï¼›æœ€åIO threadå’ŒSQL threadè¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç­‰å¾…ä¸‹æ¬¡å”¤é†’ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸»ä»å¤åˆ¶å½¢å¼&#34;&gt;ä¸»ä»å¤åˆ¶å½¢å¼ï¼š&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»ä»&lt;/li&gt;
&lt;li&gt;ä¸»ä¸»&lt;/li&gt;
&lt;li&gt;ä¸€ä¸»å¤šä»&lt;/li&gt;
&lt;li&gt;å¤šä¸»ä¸€ä»&lt;/li&gt;
&lt;li&gt;è”çº§å¤åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸»ä»åŒæ­¥å»¶æ—¶åˆ†æ&#34;&gt;ä¸»ä»åŒæ­¥å»¶æ—¶åˆ†æï¼š&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;masterå¯¹æ‰€æœ‰DDLå’ŒDMLäº§ç”Ÿçš„æ—¥å¿—éƒ½å†™å…¥binlogï¼Œç”±äºæ˜¯é¡ºåºå†™ï¼Œæ‰€ä»¥æ•ˆç‡å¾ˆé«˜ï¼›åä¹‹ï¼Œslaveçš„SQL threadè¿›è¡Œrelay logçš„é‡æ”¾æ—¶ï¼ŒDMLå’ŒDDLçš„IOæ˜¯éšæœºçš„ï¼Œä¸æ˜¯é¡ºåºï¼Œæ‰€ä»¥æˆæœ¬è¾ƒé«˜ï¼Œè¿™é‡Œä¼šå¢åŠ ä¸€éƒ¨åˆ†å»¶æ—¶ï¼›&lt;/li&gt;
&lt;li&gt;ç”±äºSQL threadæ˜¯å•çº¿ç¨‹çš„ï¼Œå½“masterçš„å¹¶å‘è¾ƒé«˜æ—¶ï¼Œè¿‡å¤šçš„DMLå¯èƒ½ä¼šå¯¼è‡´slaveçš„SQL threadæ¥ä¸åŠå¤„ç†ï¼Œè¿™é‡Œä¼šå¢åŠ ä¸€éƒ¨åˆ†å»¶æ—¶ï¼›&lt;/li&gt;
&lt;li&gt;slaveä¸­æœ‰éƒ¨åˆ†SQLäº§ç”Ÿäº†é”ç­‰å¾…ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯slaveæœ‰ä¸€äº›è¯»è¯·æ±‚ä¸é‡æ”¾è¯·æ±‚äº§ç”Ÿäº†é”å†²çªå¯¼è‡´çš„ï¼Œä¹Ÿä¼šå¢åŠ å»¶æ—¶ï¼›&lt;/li&gt;
&lt;li&gt;slaveåœ¨å……å½“è¯»åº“è§’è‰²çš„æ—¶å€™ï¼Œå¦‚æœæŸ¥è¯¢è®¿é—®å‹åŠ›è¿‡å¤§ï¼Œä¼šæ¶ˆè€—éƒ¨åˆ†ç³»ç»Ÿèµ„æºï¼Œå½±å“åŒæ­¥æ•ˆç‡ï¼›&lt;/li&gt;
&lt;li&gt;å¤§äº‹åŠ¡æ‰§è¡Œï¼Œå³å½“masteræœ‰å¤§äº‹åŠ¡æ‰§è¡Œæ—¶ï¼Œæ¯”å¦‚æ‰§è¡Œäº†10åˆ†é’Ÿï¼Œbinlogå†™å…¥å¿…é¡»è¦ç­‰å¾…äº‹åŠ¡å¤„ç†å®Œæ¯•ï¼Œé‚£ä¹ˆslaveå¼€å§‹è¿›è¡ŒåŒæ­¥çš„æ—¶å€™å°±å·²ç»å»¶æ—¶10åˆ†é’Ÿäº†ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å»¶æ—¶è§£å†³åŠæ³•&#34;&gt;å»¶æ—¶è§£å†³åŠæ³•ï¼š&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸šåŠ¡å±‚å®ç°è¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»ï¼Œä¸»å†™ä»è¯»ï¼Œåˆ†æ•£å‹åŠ›ï¼›&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å±‚å’Œæ•°æ®åº“å±‚ä¹‹é—´åŠ å…¥ç¼“å­˜ç­–ç•¥ï¼Œé™ä½ç›´æ¥å¯¹æ•°æ®åº“çš„è¯»å‹åŠ›ï¼›é¢‘ç¹å†™çš„åœºæ™¯ä¸é€‚åˆåŠ ç¼“å­˜ï¼Œä¼šå¯¼è‡´ç¼“å­˜å‘½ä¸­é™ä½ï¼›&lt;/li&gt;
&lt;li&gt;å‡çº§ç¡¬ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;MTSé—®é¢˜ï¼Œå³å¤šçº¿ç¨‹çš„slaveï¼Œä»5.6ç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼Œé’ˆå¯¹ä¸åŒç²’åº¦ï¼ˆåº“ã€è¡¨ã€è¡Œï¼‰è®¾ç½®å¹¶è¡ŒåŒæ­¥ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;57ç‰ˆæœ¬åçš„å¹¶è¡Œå¤åˆ¶ç­–ç•¥&#34;&gt;5.7ç‰ˆæœ¬åçš„å¹¶è¡Œå¤åˆ¶ç­–ç•¥&lt;/h2&gt;
&lt;h4 id=&#34;redo-logçš„ä¸¤é˜¶æ®µæäº¤&#34;&gt;Redo logçš„ä¸¤é˜¶æ®µæäº¤&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆå†™redoï¼Œå†å†™binlogï¼šå‡è®¾åœ¨redoå†™å®Œï¼Œbinlogè¿˜æ²¡æœ‰å†™å®Œçš„æ—¶å€™ï¼ŒMysqlè¿›ç¨‹å¼‚å¸¸é‡å¯ï¼Œè¿™æ—¶ä»ç„¶èƒ½å¤Ÿé€šè¿‡redo logæ¢å¤æ•°æ®ï¼Œä½†ç”±äºbinlogæ²¡æœ‰è¿™æ¡è®°å½•ï¼Œæ‰€ä»¥ä¹‹åå¤‡ä»½æ—¥å¿—çš„æ—¶å€™ï¼Œbinlogæ˜¯ç¼ºå¤±è¿™æ¡è®°å½•çš„ï¼Œä»¥åéœ€è¦ç”¨binlogæ¢å¤æ•°æ®æ—¶ï¼Œå°±ä¼šç¼ºå°‘ä¸€æ¡æ•°æ®çš„æ›´æ–°ï¼›&lt;/li&gt;
&lt;li&gt;å…ˆå†™binlogï¼Œå†å†™redo logï¼šå¦‚æœbinlogå†™å®Œåcrashï¼Œç”±äºredo logè¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆï¼Œä½†æ˜¯binlogæœ‰è®°å½•ï¼Œä»¥åç”¨è¿™ä¸ªbinlogæ¢å¤æ•°æ®æ—¶ï¼Œå°±ä¼šå¤šå‡ºä¸€æ¡æ›´æ–°è®°å½•ï¼›&lt;/li&gt;
&lt;li&gt;äºŒé˜¶æ®µæäº¤ï¼šä½¿ç”¨äºŒé˜¶æ®µæäº¤æ—¶ï¼Œä¼šç»¼åˆredoå’Œbinlogçš„çŠ¶æ€è¿›è¡Œå¤„ç†ï¼Œå¦‚æœå†™å…¥binlogä¹‹å‰crashï¼Œé‚£ä¹ˆç”±äºredoå¤„äºprepareé˜¶æ®µï¼Œåªéœ€è¦å¯¹å½“å‰äº‹åŠ¡è¿›è¡Œå›æ»šå³å¯ï¼›å¦‚æœå†™å…¥binlogä¹‹åcrashï¼Œé‚£ä¹ˆç”±äºredoå¤„äºprepareé˜¶æ®µï¼Œåªéœ€è¦å¯¹å½“å‰äº‹åŠ¡è¿›è¡Œæäº¤å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¹¶è¡Œå¤åˆ¶çš„æ€æƒ³&#34;&gt;å¹¶è¡Œå¤åˆ¶çš„æ€æƒ³&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ—¶å¤„äºprepareçŠ¶æ€çš„äº‹åŠ¡ï¼Œåœ¨å¤‡åº“æ‰§è¡Œæ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼›&lt;/li&gt;
&lt;li&gt;å¤„äºprepareçŠ¶æ€çš„äº‹åŠ¡ï¼Œä¸å¤„äºcommitçŠ¶æ€çš„äº‹åŠ¡ä¹‹é—´ï¼Œåœ¨å¤‡åº“æ‰§è¡Œä¹Ÿæ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼›&lt;/li&gt;
&lt;li&gt;binlog_group_commit_sync_delayå‚æ•°ï¼Œè¡¨ç¤ºå»¶è¿Ÿå¤šå°‘å¾®å¦™åæ‰è°ƒç”¨fsyncï¼›&lt;/li&gt;
&lt;li&gt;binlog_group_commit_sync_no_delay_countå‚æ•°ï¼Œè¡¨ç¤ºç´¯ç§¯å¤šå°‘æ¬¡ä»¥åæ‰è°ƒç”¨fsyncï¼›&lt;/li&gt;
&lt;/ol&gt;
">Mysqlä¸»ä»å¤åˆ¶åŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" href="https://esp0x.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;ç³»ç»Ÿç®¡ç†å‘˜ &amp;amp; ç‹¬ç«‹å®‰å…¨ç ”ç©¶å‘˜ &amp;amp; åŠåŠå­çš„ç¨‹åºå‘˜ /&amp;lt;.&amp;gt;:) ğŸ˜ˆ&lt;/p&gt;
&lt;/blockquote&gt;
">å…³äº</a>
      </div>
      
    </div>
  </div>
</div>
<script>
  // var escape = "[{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å®‰è£…\&#34;&gt;å®‰è£…&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;git clone https://github.com/Dionach/CMSmap\ncd CMSmap\npip3 install .\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;åŠŸèƒ½ç®€ä»‹\&#34;&gt;åŠŸèƒ½ç®€ä»‹&lt;/h3&gt;\n&lt;h4 id=\&#34;1-æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„cmsç±»å‹æ”¯æŒwordpress-joomla-drupalç­‰æ’ä»¶\&#34;&gt;1. æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„CMSç±»å‹ï¼Œæ”¯æŒwordpressã€joomlaã€drupalç­‰æ’ä»¶&lt;/h4&gt;\n&lt;h4 id=\&#34;2-æ”¯æŒå¤šçº¿ç¨‹æ‰«æ\&#34;&gt;2. æ”¯æŒå¤šçº¿ç¨‹æ‰«æ&lt;/h4&gt;\n&lt;h4 id=\&#34;3-é›†æˆäº†æš´åŠ›ç ´è§£æ¨¡å—\&#34;&gt;3. é›†æˆäº†æš´åŠ›ç ´è§£æ¨¡å—&lt;/h4&gt;\n&lt;h4 id=\&#34;4-åˆ©ç”¨exploit-dbæ•°æ®åº“è¿›è¡Œæ¼æ´æ’ä»¶çš„æ£€æµ‹\&#34;&gt;4. åˆ©ç”¨exploit-dbæ•°æ®åº“è¿›è¡Œæ¼æ´æ’ä»¶çš„æ£€æµ‹&lt;/h4&gt;\n&lt;h3 id=\&#34;å¸®åŠ©ä¿¡æ¯\&#34;&gt;å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;usage: cmsmap [-f W/J/D] [-F] [-t] [-a] [-H] [-i] [-o] [-E] [-d] [-u] [-p]\n              [-x] [-k] [-w] [-v] [-h] [-D] [-U W/J/D]\n              [target]\n\nCMSmap tool v1.0 - Simple CMS Scanner\nAuthor: Mike Manzotti\n\nScan:\n  target                target URL (e.g. &#39;https://example.com:8080/&#39;)\n  -f W/J/D, --force W/J/D\n                        force scan (W)ordpress, (J)oomla or (D)rupal\n  -F, --fullscan        full scan using large plugin lists. False positives and slow!\n  -t , --threads        number of threads (Default 5)\n  -a , --agent          set custom user-agent\n  -H , --header         add custom header (e.g. &#39;Authorization: Basic ABCD...&#39;)\n  -i , --input          scan multiple targets listed in a given file\n  -o , --output         save output in a file\n  -E, --noedb           enumerate plugins without searching exploits\n  -c, --nocleanurls     disable clean urls for Drupal only\n  -s, --nosslcheck      don&#39;t validate the server&#39;s certificate\n  -d, --dictattack      run low intense dictionary attack during scanning (5 attempts per user)\n\nBrute-Force:\n  -u , --usr            username or username file\n  -p , --psw            password or password file\n  -x, --noxmlrpc        brute forcing WordPress without XML-RPC\n\nPost Exploitation:\n  -k , --crack          password hashes file (Require hashcat installed. For WordPress and Joomla only)\n  -w , --wordlist       wordlist file\n\nOthers:\n  -v, --verbose         verbose mode (Default false)\n  -h, --help            show this help message and exit\n  -D, --default         rum CMSmap with default options\n  -U, --update          use (C)MSmap, (P)lugins or (PC) for both\n\nExamples:\n  cmsmap.py https://example.com\n  cmsmap.py https://example.com -f W -F --noedb -d\n  cmsmap.py https://example.com -i targets.txt -o output.txt\n  cmsmap.py https://example.com -u admin -p passwords.txt\n  cmsmap.py -k hashes.txt -w passwords.txt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨åœºæ™¯\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;// é»˜è®¤å‚æ•°æ‰§è¡Œï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œä¼šä¸‹è½½å¾ˆå¤šæ’ä»¶\n# ./cmsmap.py http://www.wordpress.com\n\n// ä½¿ç”¨adminç”¨æˆ·è¿›è¡Œæš´åŠ›ç ´è§£ï¼Œåé¢-vå’Œ-oä¸æ˜¯å¿…é¡»çš„\n# ./cmsmap.py http://www.wordpress.com -u admin -p &amp;lt;å­—å…¸è·¯å¾„&amp;gt; -v -o &amp;lt;ç»“æœä¿æŒçš„è·¯å¾„&amp;gt;\n\n// åŒæ—¶æ‰«æå¤šä¸ªç›®æ ‡\n# ./cmsmap.py http://www.wordpress.com -i &amp;lt;ç›®æ ‡æ–‡ä»¶è·¯å¾„&amp;gt; -u admin -p &amp;lt;å­—å…¸è·¯å¾„&amp;gt; -v -o &amp;lt;ç»“æœä¿æŒçš„è·¯å¾„&amp;gt;\n\n// æ³¨æ„ï¼šå­å¼¹å’Œç›®æ ‡æ–‡ä»¶éƒ½æ˜¯ä¸€è¡Œä¸€ä¸ª\n// å…¶ä»–ä½¿ç”¨æ–¹æ³•å¾…åç»­æ›´æ–°......\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;cmsmap-shi-yong-jian-dan-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;CMSmapä½¿ç”¨ç®€å•è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;å®‰å…¨å·¥å…·&#34;,&#34;slug&#34;:&#34;tdcjZJ8GF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/tdcjZJ8GF/&#34;},{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-07-19 13:31:40&#34;,&#34;dateFormat&#34;:&#34;2021-07-19&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/cmsmap-shi-yong-jian-dan-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:156000,&#34;words&#34;:491,&#34;minutes&#34;:3},&#34;description&#34;:&#34;å®‰è£…\ngit clone https://github.com/Dionach/CMSmap\ncd CMSmap\npip3 install .\n\nåŠŸèƒ½ç®€ä»‹\n1. æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„CMSç±»å‹ï¼Œæ”¯æŒwordpressã€joomlaã€drupalç­‰...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85\&#34;&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B\&#34;&gt;åŠŸèƒ½ç®€ä»‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E6%A3%80%E6%B5%8B%E7%9B%AE%E6%A0%87%E7%BD%91%E7%AB%99%E7%9A%84cms%E7%B1%BB%E5%9E%8B%E6%94%AF%E6%8C%81wordpress-joomla-drupal%E7%AD%89%E6%8F%92%E4%BB%B6\&#34;&gt;1. æ£€æµ‹ç›®æ ‡ç½‘ç«™çš„CMSç±»å‹ï¼Œæ”¯æŒwordpressã€joomlaã€drupalç­‰æ’ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2-%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%89%AB%E6%8F%8F\&#34;&gt;2. æ”¯æŒå¤šçº¿ç¨‹æ‰«æ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3-%E9%9B%86%E6%88%90%E4%BA%86%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E6%A8%A1%E5%9D%97\&#34;&gt;3. é›†æˆäº†æš´åŠ›ç ´è§£æ¨¡å—&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4-%E5%88%A9%E7%94%A8exploit-db%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%E6%BC%8F%E6%B4%9E%E6%8F%92%E4%BB%B6%E7%9A%84%E6%A3%80%E6%B5%8B\&#34;&gt;4. åˆ©ç”¨exploit-dbæ•°æ®åº“è¿›è¡Œæ¼æ´æ’ä»¶çš„æ£€æµ‹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF\&#34;&gt;å¸®åŠ©ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;æ¨¡å—è·¯å¾„åˆ—è¡¨\&#34;&gt;æ¨¡å—è·¯å¾„åˆ—è¡¨&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;auxiliary/scanner/ftp/ftp_login\nauxiliary/scanner/ssh/ssh_login\nauxiliary/scanner/telnet/telnet_login\nauxiliary/scanner/smb/smb_login\nauxiliary/scanner/mssql/mssql_login\nauxiliary/scanner/mysql/mysql_login\nauxiliary/scanner/oracle/oracle_login\nauxiliary/scanner/postgres/postgres_login\nauxiliary/scanner/vnc/vnc_login\nauxiliary/scanner/pcanywhere/pcanywhere_login\nauxiliary/scanner/snmp/snmp_login\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨æ–¹æ³•\&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# msfconsole\n\n&amp;gt; use &amp;lt;æ¨¡å—è·¯å¾„&amp;gt;\n&amp;gt; show options\n&amp;gt; set &amp;lt;option&amp;gt; &amp;lt;value&amp;gt;\n&amp;gt; run\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;msf-zhong-shi-yong-mei-ju-mo-kuai-jin-xing-ge-chong-fu-wu-deng-lu-de-po-jie&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;MSFä¸­ä½¿ç”¨æšä¸¾æ¨¡å—è¿›è¡Œå„ç§æœåŠ¡ç™»é™†çš„ç ´è§£&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;å®‰å…¨å·¥å…·&#34;,&#34;slug&#34;:&#34;tdcjZJ8GF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/tdcjZJ8GF/&#34;},{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-07-16 10:15:07&#34;,&#34;dateFormat&#34;:&#34;2021-07-16&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/msf-zhong-shi-yong-mei-ju-mo-kuai-jin-xing-ge-chong-fu-wu-deng-lu-de-po-jie/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:26000,&#34;words&#34;:76,&#34;minutes&#34;:1},&#34;description&#34;:&#34;æ¨¡å—è·¯å¾„åˆ—è¡¨\nauxiliary/scanner/ftp/ftp_login\nauxiliary/scanner/ssh/ssh_login\nauxiliary/scanner/telnet/telnet_login\nauxiliary/s...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%A8%A1%E5%9D%97%E8%B7%AF%E5%BE%84%E5%88%97%E8%A1%A8\&#34;&gt;æ¨¡å—è·¯å¾„åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;æ”¯æŒçš„ç ´è§£åè®®\&#34;&gt;æ”¯æŒçš„ç ´è§£åè®®&lt;/h3&gt;\n&lt;h4 id=\&#34;afpcisco-aaaciscoèº«ä»½éªŒè¯ciscoå¯ç”¨cvsfirebirdftphttp-form-gethttp-form-posthttp-gethttp-headhttp-proxyhttps-form-gethttps-form-posthttps-gethttps-headhttp-proxyicqimapircldapms-sqlmysqlncpnntporacle-listeneroracle-sidoraclepc-anywhere-pcnfspop3postgresrdprexecrloginrshsap-r3sipsmbsmtpsmtpæšä¸¾snmpsocks5sshv1å’Œv2subversionteamspeakts2telnetvmware-auth-vncå’Œxmpp\&#34;&gt;AFPï¼ŒCisco AAAï¼ŒCiscoèº«ä»½éªŒè¯ï¼ŒCiscoå¯ç”¨ï¼ŒCVSï¼ŒFirebirdï¼ŒFTPï¼ŒHTTP-FORM-GETï¼ŒHTTP-FORM-POSTï¼ŒHTTP-GETï¼ŒHTTP-HEADï¼ŒHTTP-PROXYï¼ŒHTTPS-FORM- GETï¼ŒHTTPS-FORM-POSTï¼ŒHTTPS-GETï¼ŒHTTPS-HEADï¼ŒHTTP-Proxyï¼ŒICQï¼ŒIMAPï¼ŒIRCï¼ŒLDAPï¼ŒMS-SQLï¼ŒMYSQLï¼ŒNCPï¼ŒNNTPï¼ŒOracle Listenerï¼ŒOracle SIDï¼ŒOracleï¼ŒPC-Anywhereï¼Œ PCNFSï¼ŒPOP3ï¼ŒPOSTGRESï¼ŒRDPï¼ŒRexecï¼ŒRloginï¼ŒRshï¼ŒSAP / R3ï¼ŒSIPï¼ŒSMBï¼ŒSMTPï¼ŒSMTPæšä¸¾ï¼ŒSNMPï¼ŒSOCKS5ï¼ŒSSHï¼ˆv1å’Œv2ï¼‰ï¼ŒSubversionï¼ŒTeamspeakï¼ˆTS2ï¼‰ï¼ŒTelnetï¼ŒVMware-Auth ï¼ŒVNCå’ŒXMPPã€‚&lt;/h4&gt;\n&lt;h3 id=\&#34;å‚æ•°åˆ—è¡¨\&#34;&gt;å‚æ•°åˆ—è¡¨&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;-Rï¼šç»§ç»­ä»ä¸Šä¸€æ¬¡è¿›åº¦æ¥ç€ç ´è§£\n-Sï¼šå¤§å†™ï¼Œé‡‡ç”¨SSLé“¾æ¥\n-s  &amp;lt;PORT&amp;gt;ï¼šå°å†™ï¼Œå¯é€šè¿‡è¿™ä¸ªå‚æ•°æŒ‡å®šéé»˜è®¤ç«¯å£\n-l  &amp;lt;LOGIN&amp;gt;ï¼šæŒ‡å®šç ´è§£çš„ç”¨æˆ·ï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç ´è§£\n-L  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç”¨æˆ·åå­—å…¸\n-p  &amp;lt;PASS&amp;gt;ï¼šå°å†™ï¼ŒæŒ‡å®šå¯†ç ç ´è§£ï¼Œå°‘ç”¨ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨å¯†ç å­—å…¸\n-P  &amp;lt;FILE&amp;gt;ï¼šå¤§å†™ï¼ŒæŒ‡å®šå¯†ç å­—å…¸\n-e  &amp;lt;ns&amp;gt;ï¼šå¯é€‰é€‰é¡¹ï¼Œnï¼šç©ºå¯†ç è¯•æ¢ï¼Œsï¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·å’Œå¯†ç è¯•æ¢\n-C  &amp;lt;FILE&amp;gt;ï¼šä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•å:å¯†ç â€æ¥ä»£æ›¿ -L/-P å‚æ•°\n-M  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç›®æ ‡åˆ—è¡¨æ–‡ä»¶ä¸€è¡Œä¸€æ¡\n-o  &amp;lt;FILE&amp;gt;ï¼šæŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶\n-f ï¼šåœ¨ä½¿ç”¨-Må‚æ•°ä»¥åï¼Œæ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£\n-t &amp;lt;TASKS&amp;gt;ï¼šåŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º16\n-w &amp;lt;TIME&amp;gt;ï¼šè®¾ç½®æœ€å¤§è¶…æ—¶çš„æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤æ˜¯30s\n-v / -Vï¼šæ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹\nserverï¼šç›®æ ‡ip\nserviceï¼šæŒ‡å®šæœåŠ¡åï¼Œæ”¯æŒçš„æœåŠ¡å’Œåè®®ï¼štelnet ftp pop3[-ntlm] imap[-ntlm] smb smbnt http[s]-{head|get} http-{get|post}-form http-proxy cisco cisco-enable vnc ldap2 ldap3 mssql mysql oracle-listener postgres nntp socks5 rexec rlogin pcnfs snmp rsh cvs svn icq sapr3 ssh2 smtp-auth[-ntlm] pcanywhere teamspeak sip vmauthd firebird ncp afpç­‰ç­‰\nOPTï¼šå¯é€‰é¡¹\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨åœºæ™¯\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;\n&lt;h3 id=\&#34;ç ´è§£ssh\&#34;&gt;ç ´è§£SSH&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra -L users.txt -P password.txt -t 1 -vV -e ns 192.168.1.104 ssh\n# hydra -L users.txt -P password.txt -t 1 -vV -e ns -o save.log 192.168.1.104 ssh\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£ftp\&#34;&gt;ç ´è§£FTP&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -t çº¿ç¨‹(é»˜è®¤16) -vV\n# hydra ip ftp -l ç”¨æˆ·å -P å¯†ç å­—å…¸ -e ns -vV\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£http\&#34;&gt;ç ´è§£HTTP&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;// get æ–¹å¼æäº¤ï¼Œç ´è§£webç™»é™†\n# hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹ -vV -e ns ip http-get /admin/\n# hydra -l ç”¨æˆ·å -p å¯†ç å­—å…¸ -t çº¿ç¨‹ -vV -e ns -f ip http-get /admin/index.php\n\n// post æ–¹å¼æäº¤(è¿™é‡Œæœ‰ä¸¤ç§ï¼Œæ ¹æ®å®é™…æƒ…å†µæ¥æ„æˆå‘½ä»¤)\n// éœ€è¦æå‰é‡‡é›†è®¤è¯é€šä¿¡æ—¶çš„æ•°æ®åŒ…ï¼Œä»¥ä¾¿ç¡®å®šå‚æ•°åç§°\n# hydra -l admin -P pass.lst -o ok.lst -t 1 -f 127.0.0.1 http-post-form &amp;quot;index.php:name=^USER^&amp;amp;pwd=^PASS^:&amp;lt;title&amp;gt;invalido&amp;lt;/title&amp;gt;&amp;quot;\n# hydra -L user.txt \\\n\t\t\t-P passwd.txt \\\n\t\t\t-o http_get.txt \\\n\t\t\t-vV 10.96.10.208 \\\n\t\t\thttp-get-form  &amp;quot;/vulnerabilities/brute/:username=^USER^&amp;amp;password=^PASS^&amp;amp;Login=Login:F=Username and/or password incorrect:H=Cookie: PHPSESSID=nvvrgk2f84qhnh43cm28pt42n6; security=low&amp;quot; \\\n\t\t\t-t 3\nUSER^å’Œ^\nPASS^ä»£è¡¨æ˜¯æ”»å‡»è½½è·ï¼Œ\nF=åé¢æ˜¯ä»£è¡¨å¯†ç é”™è¯¯æ—¶çš„å…³é”®å­—ç¬¦ä¸² ï¼Œ\nHåé¢æ˜¯cookieä¿¡æ¯\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£https\&#34;&gt;ç ´è§£HTTPS&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra -m /index.php -l muts -P pass.txt 10.36.16.18 https\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£http-proxy\&#34;&gt;ç ´è§£http-proxy&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra -l admin -P pass.txt http-proxy://10.36.16.18\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£smb\&#34;&gt;ç ´è§£SMB&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra -l administrator -P pass.txt 10.36.16.18 smb\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç ´è§£3389è¿œç¨‹ç™»é™†\&#34;&gt;ç ´è§£3389è¿œç¨‹ç™»é™†&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# hydra ip rdp -l administrator -P pass.txt -V\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;hydra-bao-li-po-jie-gong-ju-jian-dan-shi-yong-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Hydraæš´åŠ›ç ´è§£å·¥å…·ç®€å•ä½¿ç”¨è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;å®‰å…¨å·¥å…·&#34;,&#34;slug&#34;:&#34;tdcjZJ8GF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/tdcjZJ8GF/&#34;},{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-07-16 08:39:37&#34;,&#34;dateFormat&#34;:&#34;2021-07-16&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/hydra-bao-li-po-jie-gong-ju-jian-dan-shi-yong-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:226000,&#34;words&#34;:781,&#34;minutes&#34;:4},&#34;description&#34;:&#34;æ”¯æŒçš„ç ´è§£åè®®\nAFPï¼ŒCisco AAAï¼ŒCiscoèº«ä»½éªŒè¯ï¼ŒCiscoå¯ç”¨ï¼ŒCVSï¼ŒFirebirdï¼ŒFTPï¼ŒHTTP-FORM-GETï¼ŒHTTP-FORM-POSTï¼ŒHTTP-GETï¼ŒHTTP-HEADï¼ŒHTTP-PROXYï¼ŒHTTP...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%94%AF%E6%8C%81%E7%9A%84%E7%A0%B4%E8%A7%A3%E5%8D%8F%E8%AE%AE\&#34;&gt;æ”¯æŒçš„ç ´è§£åè®®&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#afpcisco-aaacisco%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81cisco%E5%90%AF%E7%94%A8cvsfirebirdftphttp-form-gethttp-form-posthttp-gethttp-headhttp-proxyhttps-form-gethttps-form-posthttps-gethttps-headhttp-proxyicqimapircldapms-sqlmysqlncpnntporacle-listeneroracle-sidoraclepc-anywhere-pcnfspop3postgresrdprexecrloginrshsap-r3sipsmbsmtpsmtp%E6%9E%9A%E4%B8%BEsnmpsocks5sshv1%E5%92%8Cv2subversionteamspeakts2telnetvmware-auth-vnc%E5%92%8Cxmpp\&#34;&gt;AFPï¼ŒCisco AAAï¼ŒCiscoèº«ä»½éªŒè¯ï¼ŒCiscoå¯ç”¨ï¼ŒCVSï¼ŒFirebirdï¼ŒFTPï¼ŒHTTP-FORM-GETï¼ŒHTTP-FORM-POSTï¼ŒHTTP-GETï¼ŒHTTP-HEADï¼ŒHTTP-PROXYï¼ŒHTTPS-FORM- GETï¼ŒHTTPS-FORM-POSTï¼ŒHTTPS-GETï¼ŒHTTPS-HEADï¼ŒHTTP-Proxyï¼ŒICQï¼ŒIMAPï¼ŒIRCï¼ŒLDAPï¼ŒMS-SQLï¼ŒMYSQLï¼ŒNCPï¼ŒNNTPï¼ŒOracle Listenerï¼ŒOracle SIDï¼ŒOracleï¼ŒPC-Anywhereï¼Œ PCNFSï¼ŒPOP3ï¼ŒPOSTGRESï¼ŒRDPï¼ŒRexecï¼ŒRloginï¼ŒRshï¼ŒSAP / R3ï¼ŒSIPï¼ŒSMBï¼ŒSMTPï¼ŒSMTPæšä¸¾ï¼ŒSNMPï¼ŒSOCKS5ï¼ŒSSHï¼ˆv1å’Œv2ï¼‰ï¼ŒSubversionï¼ŒTeamspeakï¼ˆTS2ï¼‰ï¼ŒTelnetï¼ŒVMware-Auth ï¼ŒVNCå’ŒXMPPã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8\&#34;&gt;å‚æ•°åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3ssh\&#34;&gt;ç ´è§£SSH&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3ftp\&#34;&gt;ç ´è§£FTP&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3http\&#34;&gt;ç ´è§£HTTP&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3https\&#34;&gt;ç ´è§£HTTPS&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3http-proxy\&#34;&gt;ç ´è§£http-proxy&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A3smb\&#34;&gt;ç ´è§£SMB&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A0%B4%E8%A7%A33389%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86\&#34;&gt;ç ´è§£3389è¿œç¨‹ç™»é™†&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å®‰è£…æ–¹å¼\&#34;&gt;å®‰è£…æ–¹å¼&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;// æºç ä½¿ç”¨\n# git clone https://github.com/aboul3la/Sublist3r.git\n# cd Sublist3r\n# pip install -r requirements.txt\n\n// Kali Linuxå®‰è£…\n# apt update\n# apt install sublist3r\n# sublist3r --help\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å·¥å…·å¸®åŠ©ä¿¡æ¯\&#34;&gt;å·¥å…·å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;usage: sublist3r.py [-h] -d DOMAIN [-b [BRUTEFORCE]] [-p PORTS] [-v [VERBOSE]] [-t THREADS] [-e ENGINES] [-o OUTPUT] [-n]\n\nOPTIONS:\n  -h, --help            show this help message and exit\n  -d DOMAIN, --domain DOMAIN\n                        Domain name to enumerate it&#39;s subdomains\n  -b [BRUTEFORCE], --bruteforce [BRUTEFORCE]\n                        Enable the subbrute bruteforce module\n  -p PORTS, --ports PORTS\n                        Scan the found subdomains against specified tcp ports\n  -v [VERBOSE], --verbose [VERBOSE]\n                        Enable Verbosity and display results in realtime\n  -t THREADS, --threads THREADS\n                        Number of threads to use for subbrute bruteforce\n  -e ENGINES, --engines ENGINES\n                        Specify a comma-separated list of search engines\n  -o OUTPUT, --output OUTPUT\n                        Save the results to text file\n  -n, --no-color        Output without color\n\nExample: python3 /usr/lib/python3/dist-packages/sublist3r.py -d google.com\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨åœºæ™¯\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;// æ‰«æå­åŸŸå\n# sublist3r -d qq.com\n\n// æ‰«æå­åŸŸåï¼Œå¹¶æ˜¾ç¤ºå¼€æ”¾äº†80å’Œ443ç«¯å£çš„å­åŸŸå\n# sublist3r -d qq.com -p 80, 443\n\n// è¾“å‡ºåˆ°æ–‡ä»¶\n# sublist3r -d qq.com -o filename.txt\n\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;sublist3r-zi-yu-ming-sao-miao-gong-ju-shi-yong-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Sublist3rå­åŸŸåæ‰«æå·¥å…·ä½¿ç”¨è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;å®‰å…¨å·¥å…·&#34;,&#34;slug&#34;:&#34;tdcjZJ8GF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/tdcjZJ8GF/&#34;},{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-07-15 10:54:45&#34;,&#34;dateFormat&#34;:&#34;2021-07-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/sublist3r-zi-yu-ming-sao-miao-gong-ju-shi-yong-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:71000,&#34;words&#34;:214,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å®‰è£…æ–¹å¼\n// æºç ä½¿ç”¨\n# git clone https://github.com/aboul3la/Sublist3r.git\n# cd Sublist3r\n# pip install -r requirements.txt\n\n// ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F\&#34;&gt;å®‰è£…æ–¹å¼&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF\&#34;&gt;å·¥å…·å¸®åŠ©ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å®‰è£…æ–¹æ³•\&#34;&gt;å®‰è£…æ–¹æ³•&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# git clone https://github.com/lijiejie/subDomainsBrute.git\n\n// python3 ç”¨æˆ·\n# pip3 install aiodns\n// python2 ç”¨æˆ·\n# pip install dnspython gevent\n\n// å­—å…¸è·¯å¾„\n# cd subDomainsBrute/dict\n# ls\ndns_servers.txt  next_sub_full.txt  next_sub.txt  subnames_all_5_letters.txt  subnames_full.txt  subnames.txt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å·¥å…·å¸®åŠ©è¯´æ˜\&#34;&gt;å·¥å…·å¸®åŠ©è¯´æ˜&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;Usage: subDomainsBrute.py [options] target.com\n\nOptions:\n  --version             show program&#39;s version number and exit\n  -h, --help            show this help message and exit\n  -f FILE               File contains new line delimited subs, default is\n                        subnames.txt.\n  --full                Full scan, NAMES FILE subnames_full.txt will be used\n                        to brute\n  -i, --ignore-intranet\n                        Ignore domains pointed to private IPs\n  -w, --wildcard        Force scan after wildcard test fail\n  -t THREADS, --threads=THREADS\n                        Num of scan threads, 200 by default\n  -p PROCESS, --process=PROCESS\n                        Num of scan Process, 6 by default\n  -o OUTPUT, --output=OUTPUT\n                        Output file name. default is {target}.txt\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨åœºæ™¯\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;// ç®€å•æ‰«æ\n# python3 subDomainsBrute.py qq.com\n\n// å…¨é‡æ‰«æ,fullå‚æ•°ä¼šä½¿ç”¨å­—å…¸è·¯å¾„ä¸‹çš„subnames_full.txt\n# python3 subDoaminBrute.py --full qq.com\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;subdomainbrutepy-gong-ju-de-jian-dan-shi-yong-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;SubDomainBrute.pyå·¥å…·çš„ç®€å•ä½¿ç”¨è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;index&#34;:-1,&#34;name&#34;:&#34;å®‰å…¨å·¥å…·&#34;,&#34;slug&#34;:&#34;tdcjZJ8GF&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/tdcjZJ8GF/&#34;},{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-07-15 10:02:42&#34;,&#34;dateFormat&#34;:&#34;2021-07-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/subdomainbrutepy-gong-ju-de-jian-dan-shi-yong-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:61000,&#34;words&#34;:184,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å®‰è£…æ–¹æ³•\n# git clone https://github.com/lijiejie/subDomainsBrute.git\n\n// python3 ç”¨æˆ·\n# pip3 install aiodns\n// python2 ç”¨æˆ·\n# pi...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95\&#34;&gt;å®‰è£…æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B7%A5%E5%85%B7%E5%B8%AE%E5%8A%A9%E8%AF%B4%E6%98%8E\&#34;&gt;å·¥å…·å¸®åŠ©è¯´æ˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;1-å®‰è£…\&#34;&gt;1. å®‰è£…&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# yum -y install chrony\n# systemctl enable chronyd\n# systemctl start chronyd\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;2é…ç½®\&#34;&gt;2.é…ç½®&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# vi /etc/chrony.conf\n\n# ä½¿ç”¨ pool.ntp.org é¡¹ç›®ä¸­çš„å…¬å…±æœåŠ¡å™¨ã€‚ä»¥serverå¼€ï¼Œç†è®ºä¸Šæƒ³æ·»åŠ å¤šå°‘æ—¶é—´æœåŠ¡å™¨éƒ½å¯ä»¥ã€‚\n# Use public servers from the pool.ntp.org project.\n# Please consider joining the pool (http://www.pool.ntp.org/join.html).\nserver 0.centos.pool.ntp.org iburst\nserver 1.centos.pool.ntp.org iburst\nserver 2.centos.pool.ntp.org iburst\nserver 3.centos.pool.ntp.org iburst\n\n# æ ¹æ®å®é™…æ—¶é—´è®¡ç®—å‡ºæœåŠ¡å™¨å¢å‡æ—¶é—´çš„æ¯”ç‡ï¼Œç„¶åè®°å½•åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨ç³»ç»Ÿé‡å¯åä¸ºç³»ç»Ÿåšå‡ºæœ€ä½³æ—¶é—´è¡¥å¿è°ƒæ•´ã€‚\n# Record the rate at which the system clock gains/losses time.\ndriftfile /var/lib/chrony/drift\n\n# å¦‚æœç³»ç»Ÿæ—¶é’Ÿçš„åç§»é‡å¤§äº1ç§’ï¼Œåˆ™å…è®¸ç³»ç»Ÿæ—¶é’Ÿåœ¨å‰ä¸‰æ¬¡æ›´æ–°ä¸­æ­¥è¿›ã€‚\n# Allow the system clock to be stepped in the first three updates if its offset is larger than 1 second.\nmakestep 1.0 3\n\n# å¯ç”¨å®æ—¶æ—¶é’Ÿï¼ˆRTCï¼‰çš„å†…æ ¸åŒæ­¥ã€‚\n# Enable kernel synchronization of the real-time clock (RTC).\nrtcsync\n\n# é€šè¿‡ä½¿ç”¨ hwtimestamp æŒ‡ä»¤å¯ç”¨ç¡¬ä»¶æ—¶é—´æˆ³\n# Enable hardware timestamping on all interfaces that support it.\n#hwtimestamp *\n\n# Increase the minimum number of selectable sources required to adjust the system clock.\n#minsources 2\n\n# æŒ‡å®š NTP å®¢æˆ·ç«¯åœ°å€ï¼Œä»¥å…è®¸æˆ–æ‹’ç»è¿æ¥åˆ°æ‰®æ¼”æ—¶é’ŸæœåŠ¡å™¨çš„æœºå™¨\n# Allow NTP client access from local network.\n#allow 192.168.0.0/16\n\n# Serve time even if not synchronized to a time source.\n#local stratum 10\n\n# æŒ‡å®šåŒ…å« NTP èº«ä»½éªŒè¯å¯†é’¥çš„æ–‡ä»¶ã€‚\n# Specify file containing keys for NTP authentication.\n#keyfile /etc/chrony.keys\n\n# æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„ç›®å½•ã€‚\n# Specify directory for log files.\nlogdir /var/log/chrony\n\n# é€‰æ‹©æ—¥å¿—æ–‡ä»¶è¦è®°å½•çš„ä¿¡æ¯ã€‚\n# Select which information is logged.\n#log measurements statistics tracking\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;3æ‰‹å·¥åŒæ­¥\&#34;&gt;3.æ‰‹å·¥åŒæ­¥&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# æŸ¥çœ‹ ntp_servers\nchronyc sources -v\n\n# æŸ¥çœ‹ ntp_servers çŠ¶æ€\nchronyc sourcestats -v\n\n# æŸ¥çœ‹ ntp_servers æ˜¯å¦åœ¨çº¿\nchronyc activity -v\n\n# æŸ¥çœ‹ ntp è¯¦ç»†ä¿¡æ¯\nchronyc tracking -v\n\n# æ‰‹å·¥è¿›è¡ŒåŒæ­¥\nchronyc -a makestep\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;4ä¿®æ”¹æ—¶åŒº\&#34;&gt;4.ä¿®æ”¹æ—¶åŒº&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# æŸ¥çœ‹æ—¥æœŸæ—¶é—´ã€æ—¶åŒºåŠ NTP çŠ¶æ€\ntimedatectl\n\n# æŸ¥çœ‹æ—¶åŒºåˆ—è¡¨\ntimedatectl list-timezones\ntimedatectl list-timezones |  grep  -E &amp;quot;Asia/S.*&amp;quot;\n\n# ä¿®æ”¹æ—¶åŒº\ntimedatectl set-timezone Asia/Shanghai\n\n# ä¿®æ”¹æ—¥æœŸæ—¶é—´ï¼ˆå¯ä»¥åªä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼‰\ntimedatectl set-time &amp;quot;2019-09-19 15:50:20&amp;quot;\n\n# å¼€å¯ NTP\ntimedatectl set-ntp true/flase\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;centos-78-shi-yong-chrony-jin-xing-shi-jian-tong-bu-pei-zhi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Centos 7/8 ä½¿ç”¨chronyè¿›è¡Œæ—¶é—´åŒæ­¥é…ç½®&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Linux&#34;,&#34;slug&#34;:&#34;U7XkBZwyl&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/U7XkBZwyl/&#34;}],&#34;date&#34;:&#34;2021-07-14 09:25:52&#34;,&#34;dateFormat&#34;:&#34;2021-07-14&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/centos-78-shi-yong-chrony-jin-xing-shi-jian-tong-bu-pei-zhi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:150000,&#34;words&#34;:525,&#34;minutes&#34;:3},&#34;description&#34;:&#34;1. å®‰è£…\n# yum -y install chrony\n# systemctl enable chronyd\n# systemctl start chronyd\n\n2.é…ç½®\n# vi /etc/chrony.conf\n\n# ä½¿ç”¨ poo...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#1-%E5%AE%89%E8%A3%85\&#34;&gt;1. å®‰è£…&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#2%E9%85%8D%E7%BD%AE\&#34;&gt;2.é…ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#3%E6%89%8B%E5%B7%A5%E5%90%8C%E6%AD%A5\&#34;&gt;3.æ‰‹å·¥åŒæ­¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#4%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA\&#34;&gt;4.ä¿®æ”¹æ—¶åŒº&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;echo &amp;quot;StrictHostKeyChecking no&amp;quot; &amp;gt;~/.ssh/config\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;ru-he-bi-mian-zai-di-yi-ci-ssh-deng-lu-shi-shu-ru-yes-ti-shi-fu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¦‚ä½•é¿å…åœ¨ç¬¬ä¸€æ¬¡SSHç™»é™†æ—¶è¾“å…¥yesæç¤ºç¬¦&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Linux&#34;,&#34;slug&#34;:&#34;U7XkBZwyl&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/U7XkBZwyl/&#34;}],&#34;date&#34;:&#34;2021-06-23 11:46:19&#34;,&#34;dateFormat&#34;:&#34;2021-06-23&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/ru-he-bi-mian-zai-di-yi-ci-ssh-deng-lu-shi-shu-ru-yes-ti-shi-fu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:3000,&#34;words&#34;:8,&#34;minutes&#34;:1},&#34;description&#34;:&#34;echo &amp;quot;StrictHostKeyChecking no&amp;quot; &amp;gt;~/.ssh/config\n\n&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;æ¦‚å¿µ\&#34;&gt;æ¦‚å¿µ&lt;/h3&gt;\n&lt;h5 id=\&#34;åœ¨kubernetesé›†ç¾¤ä¸­podæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ä¹Ÿæ˜¯k8sç®¡ç†çš„æœ€å°å•ä½çº§å®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆ-è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨-ç½‘ç»œå’Œå‘½åç©ºé—´ä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒ-åœ¨podä¸­æ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦å¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­-å¯¹äºå…·ä½“åº”ç”¨è€Œè¨€podæ˜¯å®ƒä»¬çš„é€»è¾‘ä¸»æœºpodåŒ…å«ä¸šåŠ¡ç›¸å…³çš„å¤šä¸ªåº”ç”¨å®¹å™¨\&#34;&gt;åœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯K8Sç®¡ç†çš„æœ€å°å•ä½çº§ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆã€‚è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œå’Œå‘½åç©ºé—´ï¼Œä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒã€‚åœ¨Podä¸­ï¼Œæ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦ï¼Œå¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­ã€‚å¯¹äºå…·ä½“åº”ç”¨è€Œè¨€ï¼ŒPodæ˜¯å®ƒä»¬çš„é€»è¾‘ä¸»æœºï¼ŒPodåŒ…å«ä¸šåŠ¡ç›¸å…³çš„å¤šä¸ªåº”ç”¨å®¹å™¨ã€‚&lt;/h5&gt;\n&lt;h3 id=\&#34;ä¸¤ä¸ªæ³¨æ„ç‚¹\&#34;&gt;ä¸¤ä¸ªæ³¨æ„ç‚¹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-python\&#34;&gt;1.ç½‘ç»œ:\n  æ¯ä¸€ä¸ªPodéƒ½ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„Ipåœ°å€ï¼Œåœ¨Podä¸­çš„æ¯ä¸€ä¸ªå®¹å™¨å…±äº«ç½‘ç»œå‘½åç©ºé—´ï¼ŒåŒ…æ‹¬Ipåœ°å€å’Œç½‘ç»œç«¯å£ã€‚åœ¨åŒä¸€ä¸ªPodä¸­çš„å®¹å™¨å¯ä»¥åŒlocahostè¿›è¡Œäº’ç›¸é€šä¿¡ã€‚å½“Podä¸­çš„å®¹å™¨éœ€è¦ä¸Podå¤–çš„å®ä½“è¿›è¡Œé€šä¿¡æ—¶ï¼Œåˆ™éœ€è¦é€šè¿‡ç«¯å£ç­‰å…±äº«çš„ç½‘ç»œèµ„æºã€‚\n\n2.å­˜å‚¨:\n  Podèƒ½å¤Ÿè¢«æŒ‡å®šå…±äº«å­˜å‚¨å·çš„é›†åˆï¼Œåœ¨Podä¸­æ‰€æœ‰çš„å®¹å™¨èƒ½å¤Ÿè®¿é—®å…±äº«å­˜å‚¨å·ï¼Œå…è®¸è¿™äº›å®¹å™¨å…±äº«æ•°æ®ã€‚å­˜å‚¨å·ä¹Ÿå…è®¸åœ¨ä¸€ä¸ªPodæŒä¹…åŒ–æ•°æ®ï¼Œä»¥é˜²æ­¢å…¶ä¸­çš„å®¹å™¨éœ€è¦è¢«é‡å¯ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;podçš„ç”Ÿå‘½å‘¨æœŸ\&#34;&gt;Podçš„ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shel\&#34;&gt;ä¸€å…±æœ‰4ç§çŠ¶æ€ï¼š\n\n1. Pendingï¼šAPIserverå·²ç»åˆ›å»ºè¯¥serverï¼Œä½†podä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é•œåƒè¿˜æœªåˆ›å»ºï¼Œå¯èƒ½åœ¨ä¸‹è½½ä¸­ï¼›\n2. Runningï¼šPodä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å·²åˆ›å»ºï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œæ­£åœ¨å¯åŠ¨æˆ–é‡å¯çŠ¶æ€ï¼›\n3. Failedï¼šPodå†…æ‰€æœ‰å®¹å™¨éƒ½å·²é€€å‡ºï¼Œå…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨é€€å‡ºå¤±è´¥ï¼›\n4. Unknownï¼šç”±äºæŸç§åŸå› æ— æ³•è·å–Podçš„çŠ¶æ€æ¯”å¦‚ç½‘ç»œé—®é¢˜ï¼›\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;podçš„é‡å¯ç­–ç•¥\&#34;&gt;Podçš„é‡å¯ç­–ç•¥&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-py\&#34;&gt;é‡å¯ç­–ç•¥å¯¹åŒä¸€ä¸ªPodä¸­çš„æ‰€æœ‰å®¹å™¨èµ·ä½œç”¨ï¼Œå®¹å™¨çš„é‡å¯ç”±Nodeä¸Šçš„kubeletæ‰§è¡Œï¼Œæ”¯æŒä¸‰ç§ç­–ç•¥ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é€šè¿‡restartPolicyå­—æ®µè®¾ç½®ï¼š\n1. Alwaysï¼šåªè¦é€€å‡ºå°±ä¼šé‡å¯\n2. OnFailureï¼šåªæœ‰åœ¨å¤±è´¥é€€å‡ºæ—¶ï¼Œæ‰ä¼šé‡å¯\n3. Neverï¼šåªè¦é€€å‡ºï¼Œå°±ä¸å†é‡å¯\n\næ³¨æ„ï¼Œè¿™é‡Œçš„é‡å¯æ˜¯æŒ‡åœ¨Podçš„å®¿ä¸»Nodeä¸Šè¿›è¡Œæœ¬åœ°é‡å¯ï¼Œè€Œä¸æ˜¯è°ƒåº¦åˆ°å…¶å®ƒNodeä¸Šã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å¥åº·æ£€æŸ¥\&#34;&gt;å¥åº·æ£€æŸ¥&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ä¸¤ç§æ¢é’ˆç±»å‹ï¼š\nä¸€ã€LivenessProbeæ¢é’ˆï¼š  åˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼ˆrunningï¼‰\n1.ExecActionï¼Œåœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ŒçŠ¶æ€è¿”å›ç ä¸º0ï¼Œè¡¨ç¤ºå¥åº·ï¼Œç¤ºä¾‹ï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n name: liveness\nspec:\n  containers:\n  - name: liveness\n    image: liveness\n    args: \n    - /bin/sh\n    - -c\n    - echo ok &amp;gt; /tmp/healthy: sleep 10; rm - rf /tmp/healthy; sleep 600\n    livenessProbe:\n      exec:\n        command:\n        - cat\n        - /tmp/health\n    initialDelaySeconds: 15\n    timeoutSeconds: 1\n    \n2.TcpActionï¼Œé€šè¿‡IPå’ŒPORTï¼Œå¦‚æœèƒ½å¤Ÿå’Œå®¹å™¨å»ºç«‹è¿æ¥åˆ™è¡¨ç¤ºå®¹å™¨å¥åº·ï¼Œç¤ºä¾‹ï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n name: pod-with-healthcheck\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    ports:\n    - containerPort: 80\n    livenessProbe:\n      tcpSocket:\n        port: 80\n    initialDelaySeconds: 15\n    timeoutSeconds: 1\n3.HttpGetActionï¼Œå‘é€getè¯·æ±‚ï¼Œè¿”å›ç åœ¨200-400ä¹‹é—´è¡¨ç¤ºå¥åº·ï¼Œ ç¤ºä¾‹ï¼š\napiVersion: v1\nkind: Pod\nmetadata:\n name: pod-with-healthcheck\nspec:\n  containers:\n  - name: nginx\n    image: nginx\n    ports:\n    - containerPort: 80\n    livenessProbe:\n      httpGet:\n        path: /_status/healthz  //è¯·æ±‚è·¯å¾„\n        port: 80\n    initialDelaySeconds: 15\n    timeoutSeconds: 1\n    \näºŒã€ReadinessProbeæ¢é’ˆï¼š ç”¨äºåˆ¤æ–­å®¹å™¨æ˜¯å¦å¯åŠ¨å®Œæˆï¼ˆreadyï¼‰\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;podçš„è°ƒåº¦\&#34;&gt;Podçš„è°ƒåº¦&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# å®šå‘è°ƒåº¦ï¼ŒnodeSelector\n1.é¦–å…ˆé€šè¿‡kubectlç»™nodeæ‰“ä¸Šæ ‡ç­¾ï¼š\næ ¼å¼ï¼š kubectl label nodes &amp;lt;node-name&amp;gt; &amp;lt;label-key&amp;gt;=&amp;lt;label-value&amp;gt;\nkubectl label nodes node1 zone=north\n\n2.åœ¨podå®šä¹‰é‡Œé€‰æ‹©æŸä¸ªnode\napiVersion: v1\nkind: Pod\nmetadata:\nname: pod-with-healthcheck\nspec:\ncontainers:\n- name: nginx\n  image: nginx\n  ports:\n  - containerPort: 80\nnodeSelector:\n  zone: north\n\n# äº²å’Œæ€§å’Œéäº²å’Œæ€§\nä¸€ã€Node affinityï¼ˆèŠ‚ç‚¹äº²å’Œæ€§ï¼‰\n1. requiredDuringSchedulingIgnoredDuringExecutionï¼š\nå¯è®¤ä¸ºä¸€ç§å¼ºåˆ¶é™åˆ¶ï¼Œå¦‚æœ Node çš„æ ‡ç­¾å‘ç”Ÿäº†å˜åŒ–å¯¼è‡´å…¶æ²¡æœ‰ç¬¦åˆ Pod çš„è°ƒåº¦è¦æ±‚èŠ‚ç‚¹ï¼Œé‚£ä¹ˆpodè°ƒåº¦å°±ä¼šå¤±è´¥ã€‚\n2.preferredDuringSchedulingIgnoredDuringExecutionï¼š\nè½¯é™æˆ–åå¥½ï¼ŒåŒæ ·å¦‚æœ Node çš„æ ‡ç­¾å‘ç”Ÿäº†å˜åŒ–å¯¼è‡´å…¶ä¸å†ç¬¦åˆ pod çš„è°ƒåº¦è¦æ±‚ï¼Œpod ä¾ç„¶ä¼šè°ƒåº¦è¿è¡Œã€‚\n\näºŒã€Pod Affinityï¼ˆPodäº²å’Œæ€§ï¼‰\n    podAffinityç”¨äºè°ƒåº¦podå¯ä»¥å’Œå“ªäº›podéƒ¨ç½²åœ¨åŒä¸€æ‹“æ‰‘ç»“æ„ä¹‹ä¸‹ã€‚è€ŒpodAntiAffinityç›¸åï¼Œå…¶ç”¨äºè§„å®špodä¸å¯ä»¥å’Œå“ªäº›podéƒ¨ç½²åœ¨åŒä¸€æ‹“æ‰‘ç»“æ„ä¸‹ã€‚é€šè¿‡pod affinityä¸anti-affinityæ¥è§£å†³podå’Œpodä¹‹é—´çš„å…³ç³»ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;k8s-pod-jian-dan-jie-shao&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;K8s-Podç®€å•ä»‹ç»&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Kubernetes&#34;,&#34;slug&#34;:&#34;wZhxXn6g4&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/wZhxXn6g4/&#34;}],&#34;date&#34;:&#34;2021-06-08 15:06:03&#34;,&#34;dateFormat&#34;:&#34;2021-06-08&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/k8s-pod-jian-dan-jie-shao/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:239000,&#34;words&#34;:1003,&#34;minutes&#34;:4},&#34;description&#34;:&#34;æ¦‚å¿µ\nåœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯K8Sç®¡ç†çš„æœ€å°å•ä½çº§ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆã€‚è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œå’Œå‘½åç©ºé—´ï¼Œä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒã€‚åœ¨Podä¸­ï¼Œæ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦ï¼Œå¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­ã€‚å¯¹äº...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%A6%82%E5%BF%B5\&#34;&gt;æ¦‚å¿µ&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9C%A8kubernetes%E9%9B%86%E7%BE%A4%E4%B8%ADpod%E6%98%AF%E6%89%80%E6%9C%89%E4%B8%9A%E5%8A%A1%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B9%9F%E6%98%AFk8s%E7%AE%A1%E7%90%86%E7%9A%84%E6%9C%80%E5%B0%8F%E5%8D%95%E4%BD%8D%E7%BA%A7%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%AE%B9%E5%99%A8%E7%9A%84%E7%BB%84%E5%90%88-%E8%BF%99%E4%BA%9B%E5%AE%B9%E5%99%A8%E5%85%B1%E4%BA%AB%E5%AD%98%E5%82%A8-%E7%BD%91%E7%BB%9C%E5%92%8C%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84%E8%A7%84%E8%8C%83-%E5%9C%A8pod%E4%B8%AD%E6%89%80%E6%9C%89%E5%AE%B9%E5%99%A8%E9%83%BD%E8%A2%AB%E5%90%8C%E4%B8%80%E5%AE%89%E6%8E%92%E5%92%8C%E8%B0%83%E5%BA%A6%E5%B9%B6%E8%BF%90%E8%A1%8C%E5%9C%A8%E5%85%B1%E4%BA%AB%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%AD-%E5%AF%B9%E4%BA%8E%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8%E8%80%8C%E8%A8%80pod%E6%98%AF%E5%AE%83%E4%BB%AC%E7%9A%84%E9%80%BB%E8%BE%91%E4%B8%BB%E6%9C%BApod%E5%8C%85%E5%90%AB%E4%B8%9A%E5%8A%A1%E7%9B%B8%E5%85%B3%E7%9A%84%E5%A4%9A%E4%B8%AA%E5%BA%94%E7%94%A8%E5%AE%B9%E5%99%A8\&#34;&gt;åœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodæ˜¯æ‰€æœ‰ä¸šåŠ¡ç±»å‹çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯K8Sç®¡ç†çš„æœ€å°å•ä½çº§ï¼Œå®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„ç»„åˆã€‚è¿™äº›å®¹å™¨å…±äº«å­˜å‚¨ã€ç½‘ç»œå’Œå‘½åç©ºé—´ï¼Œä»¥åŠå¦‚ä½•è¿è¡Œçš„è§„èŒƒã€‚åœ¨Podä¸­ï¼Œæ‰€æœ‰å®¹å™¨éƒ½è¢«åŒä¸€å®‰æ’å’Œè°ƒåº¦ï¼Œå¹¶è¿è¡Œåœ¨å…±äº«çš„ä¸Šä¸‹æ–‡ä¸­ã€‚å¯¹äºå…·ä½“åº”ç”¨è€Œè¨€ï¼ŒPodæ˜¯å®ƒä»¬çš„é€»è¾‘ä¸»æœºï¼ŒPodåŒ…å«ä¸šåŠ¡ç›¸å…³çš„å¤šä¸ªåº”ç”¨å®¹å™¨ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9\&#34;&gt;ä¸¤ä¸ªæ³¨æ„ç‚¹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pod%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\&#34;&gt;Podçš„ç”Ÿå‘½å‘¨æœŸ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pod%E7%9A%84%E9%87%8D%E5%90%AF%E7%AD%96%E7%95%A5\&#34;&gt;Podçš„é‡å¯ç­–ç•¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5\&#34;&gt;å¥åº·æ£€æŸ¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#pod%E7%9A%84%E8%B0%83%E5%BA%A6\&#34;&gt;Podçš„è°ƒåº¦&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;åè¯è§£é‡Š\&#34;&gt;åè¯è§£é‡Š&lt;/h3&gt;\n&lt;h5 id=\&#34;namespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„-å¸¸è§çš„podsservicesrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„é»˜è®¤æ˜¯defaultè€Œnodepersistentvolumnsç­‰åˆ™ä¸å±äºä»»ä½•namespace\&#34;&gt;Namespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆï¼Œæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„ã€‚å¸¸è§çš„podsï¼Œservicesï¼Œrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„ï¼ˆé»˜è®¤æ˜¯defaultï¼‰ï¼Œè€Œnodeï¼ŒpersistentVolumnsç­‰åˆ™ä¸å±äºä»»ä½•namespaceã€‚&lt;/h5&gt;\n&lt;h3 id=\&#34;namespaceç›¸å…³æ“ä½œ\&#34;&gt;Namespaceç›¸å…³æ“ä½œ&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;kubectlå¯ä»¥é€šè¿‡â€“namespaceæˆ–è€…-né€‰é¡¹æŒ‡å®šnamespaceã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºdefaultã€‚æŸ¥çœ‹æ“ä½œä¸‹,ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®â€“all-namespace=trueæ¥æŸ¥çœ‹æ‰€æœ‰namespaceä¸‹çš„èµ„æºã€‚\n\n# æŸ¥è¯¢ns\n$ kubectl get namespaces\nNAME          STATUS    AGE\ndefault       Active    11d\nkube-system   Active    11d\n\n# æŸ¥è¯¢å“ªäº›èµ„æºä½äºnamespaceä¸­\nkubectl api-resources --namespaced=true\n# æŸ¥çœ‹å“ªäº›èµ„æºä¸åœ¨å‘½ä»¤ç©ºé—´\nkubectl api-resources --namespaced=false\n\n# æŒ‡å®šnsæŸ¥è¯¢å¯¹åº”nsä¸­çš„èµ„æºæƒ…å†µ\nkubectl get pods -n kube-system\n\n# åˆ›å»º\n# 1.å‘½ä»¤è¡Œç›´æ¥åˆ›å»º\n$ kubectl create namespace new-namespace\n\n# 2.é€šè¿‡æ–‡ä»¶åˆ›å»º\n$ cat my-namespace.yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: new-namespace\n\n$ kubectl create -f ./my-namespace.yaml\n\n# åˆ é™¤ï¼Œå³åˆ é™¤è¯¥nsä¸‹æ‰€æœ‰èµ„æº\n# æ³¨æ„ï¼šdefaultå’Œkube-systemå‘½åç©ºé—´ä¸èƒ½åˆ é™¤\n$ kubectl delete namespaces new-namespace\n\n# åˆ‡æ¢ns\nkubectl config set-context --current --namespace=kube-system\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å…³äºnamespaceæ˜¯å¦éš”ç¦»ç½‘ç»œ\&#34;&gt;å…³äºNamespaceæ˜¯å¦éš”ç¦»ç½‘ç»œ&lt;/h3&gt;\n&lt;h5 id=\&#34;ä¸€èˆ¬æƒ…å†µä¸‹é»˜è®¤æ˜¯ä¸ä¼šéš”ç¦»ç½‘ç»œæµé‡çš„é™¤éå¯¹æŸä¸ªnamespaceè®¾ç½®äº†å®‰å…¨ç­–ç•¥\&#34;&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯ä¸ä¼šéš”ç¦»ç½‘ç»œæµé‡çš„ï¼Œé™¤éå¯¹æŸä¸ªnamespaceè®¾ç½®äº†å®‰å…¨ç­–ç•¥ã€‚&lt;/h5&gt;\n&#34;,&#34;fileName&#34;:&#34;namespace-ji-ben-zhi-shi&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;K8s-NamespaceåŸºæœ¬çŸ¥è¯†&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Kubernetes&#34;,&#34;slug&#34;:&#34;wZhxXn6g4&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/wZhxXn6g4/&#34;}],&#34;date&#34;:&#34;2021-06-08 15:03:54&#34;,&#34;dateFormat&#34;:&#34;2021-06-08&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/namespace-ji-ben-zhi-shi/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:78000,&#34;words&#34;:312,&#34;minutes&#34;:2},&#34;description&#34;:&#34;åè¯è§£é‡Š\nNamespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆï¼Œæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„ã€‚å¸¸è§çš„podsï¼Œservicesï¼Œrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„ï¼ˆé»˜è®¤æ˜¯defaultï¼‰ï¼Œè€Œno...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A\&#34;&gt;åè¯è§£é‡Š&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#namespace%E6%98%AF%E5%AF%B9%E4%B8%80%E7%BB%84%E8%B5%84%E6%BA%90%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8A%BD%E8%B1%A1%E9%9B%86%E5%90%88%E6%AF%94%E5%A6%82%E5%8F%AF%E7%94%A8%E6%9D%A5%E5%B0%86%E7%B3%BB%E7%BB%9F%E5%86%85%E9%83%A8%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%88%92%E5%88%86%E4%B8%BA%E4%B8%8D%E5%90%8C%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%88%96%E7%94%A8%E6%88%B7%E7%BB%84-%E5%B8%B8%E8%A7%81%E7%9A%84podsservicesrc%E5%92%8Cdeployments%E7%AD%89%E9%83%BD%E6%98%AF%E5%B1%9E%E4%BA%8E%E6%9F%90%E4%B8%80%E4%B8%AAnamespace%E7%9A%84%E9%BB%98%E8%AE%A4%E6%98%AFdefault%E8%80%8Cnodepersistentvolumns%E7%AD%89%E5%88%99%E4%B8%8D%E5%B1%9E%E4%BA%8E%E4%BB%BB%E4%BD%95namespace\&#34;&gt;Namespaceæ˜¯å¯¹ä¸€ç»„èµ„æºå’Œå¯¹è±¡çš„æŠ½è±¡é›†åˆï¼Œæ¯”å¦‚å¯ç”¨æ¥å°†ç³»ç»Ÿå†…éƒ¨çš„å¯¹è±¡åˆ’åˆ†ä¸ºä¸åŒçš„é¡¹ç›®æˆ–ç”¨æˆ·ç»„ã€‚å¸¸è§çš„podsï¼Œservicesï¼Œrcå’Œdeploymentsç­‰éƒ½æ˜¯å±äºæŸä¸€ä¸ªnamespaceçš„ï¼ˆé»˜è®¤æ˜¯defaultï¼‰ï¼Œè€Œnodeï¼ŒpersistentVolumnsç­‰åˆ™ä¸å±äºä»»ä½•namespaceã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#namespace%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C\&#34;&gt;Namespaceç›¸å…³æ“ä½œ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8Enamespace%E6%98%AF%E5%90%A6%E9%9A%94%E7%A6%BB%E7%BD%91%E7%BB%9C\&#34;&gt;å…³äºNamespaceæ˜¯å¦éš”ç¦»ç½‘ç»œ&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E8%88%AC%E6%83%85%E5%86%B5%E4%B8%8B%E9%BB%98%E8%AE%A4%E6%98%AF%E4%B8%8D%E4%BC%9A%E9%9A%94%E7%A6%BB%E7%BD%91%E7%BB%9C%E6%B5%81%E9%87%8F%E7%9A%84%E9%99%A4%E9%9D%9E%E5%AF%B9%E6%9F%90%E4%B8%AAnamespace%E8%AE%BE%E7%BD%AE%E4%BA%86%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5\&#34;&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯ä¸ä¼šéš”ç¦»ç½‘ç»œæµé‡çš„ï¼Œé™¤éå¯¹æŸä¸ªnamespaceè®¾ç½®äº†å®‰å…¨ç­–ç•¥ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å®‰è£…kubectl\&#34;&gt;å®‰è£…kubectl&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# æ³¨æ„ï¼šå®‰è£…æ–¹æ³•æ¨èå‚è€ƒå®˜æ–¹ç½‘ç«™ï¼Œå®‰è£…æ–¹å¼éšç€ç‰ˆæœ¬å˜æ›´ä¼šå‘ç”Ÿå˜åŠ¨\n# ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶\ncurl -LO &amp;quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl&amp;quot;\n# ä¸‹è½½æ ¡éªŒæ–‡ä»¶\ncurl -LO &amp;quot;https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256&amp;quot;\n# æ£€æŸ¥ä¸‹è½½æ–‡ä»¶å’Œæ ¡éªŒæ–‡ä»¶æ˜¯å¦åŒ¹é…\necho &amp;quot;$(&amp;lt;kubectl.sha256) kubectl&amp;quot; | sha256sum --check\n# å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n# æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ\nkubectl version --client\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å®‰è£…minikube\&#34;&gt;å®‰è£…Minikube&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\n# å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n# å¯åŠ¨é›†ç¾¤ï¼Œå¯åŠ¨ä¹‹å‰éœ€è¦ç¡®ä¿ç³»ç»Ÿä¸­æœ‰å®¹å™¨è¿è¡Œæ—¶ï¼Œæ¯”å¦‚dockerï¼Œkvmï¼Œå¦åˆ™é›†ç¾¤å¯åŠ¨å¤±è´¥\nminikube start\n\n# è‹¥å‡ºç°ï¼šThe &amp;quot;docker&amp;quot; driver should not be used with root privileges.\n# å°†å½“å‰å…·æœ‰sudoæƒé™çš„ç”¨æˆ·æ·»åŠ åˆ°dockerç»„å³å¯\nsudo usermod -aG docker &amp;lt;username&amp;gt;\n# æ¿€æ´»ç»„çš„é…ç½®ï¼Œè¿™æ­¥å¿…é¡»\nnewgrp docker\n# å†æ¬¡å¯åŠ¨\nminikube start\n# æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯\nkubectl cluster-info\n\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;shi-yong-minikube-da-jian-ben-di-xue-xi-huan-jing&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;K8s-ä½¿ç”¨Minikubeæ­å»ºæœ¬åœ°å­¦ä¹ ç¯å¢ƒ&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Kubernetes&#34;,&#34;slug&#34;:&#34;wZhxXn6g4&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/wZhxXn6g4/&#34;}],&#34;date&#34;:&#34;2021-06-08 15:02:59&#34;,&#34;dateFormat&#34;:&#34;2021-06-08&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/shi-yong-minikube-da-jian-ben-di-xue-xi-huan-jing/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:78000,&#34;words&#34;:285,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å®‰è£…kubectl\n# æ³¨æ„ï¼šå®‰è£…æ–¹æ³•æ¨èå‚è€ƒå®˜æ–¹ç½‘ç«™ï¼Œå®‰è£…æ–¹å¼éšç€ç‰ˆæœ¬å˜æ›´ä¼šå‘ç”Ÿå˜åŠ¨\n# ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶\ncurl -LO &amp;quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85kubectl\&#34;&gt;å®‰è£…kubectl&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85minikube\&#34;&gt;å®‰è£…Minikube&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;åŸºæœ¬é…ç½®ç¤ºä¾‹\&#34;&gt;åŸºæœ¬é…ç½®ç¤ºä¾‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;- hosts: all\n    vars: \n      wss_url: http://10.77.10.125:8545 \n    tasks:\n      - name: &amp;quot;æ¨é€é…ç½®æ–‡ä»¶&amp;quot;\n        template: src=/home/fm/ops/scripts/default.yaml dest=/etc/bee/default.yaml\n      - name: &amp;quot;send all scripts&amp;quot;\n        copy:\n          src: &#39;{{ item.src }}&#39;\n          dest: /tmp/\n          owner: root\n          group: root\n          mode: 755\n        with_items:\n          - { src: &#39;/home/fm/ops/scripts/start05.sh&#39; }\n          - { src: &#39;/home/fm/ops/scripts/stop.sh&#39; }\n  \n \n# ä½¿ç”¨{{ item.src }}è¯»å–with_itemsä¸­çš„æ•°ç»„å…ƒç´ ï¼Œè®¿é—®éœ€è¦æ‹·è´çš„æ¯ä¸€ä¸ªæ–‡ä»¶å³å¯ã€‚\n\n# æ£€æŸ¥è¯­æ³•\nansible-playbook --syntax-check example.yaml\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;playbook-zhong-shi-yong-copy-lai-chuan-shu-wen-jian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Ansible-Playbookä¸­ä½¿ç”¨copyæ¥ä¼ è¾“æ–‡ä»¶&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Ansible&#34;,&#34;slug&#34;:&#34;a1RiQn9Xn&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a1RiQn9Xn/&#34;},{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-06-07 17:27:30&#34;,&#34;dateFormat&#34;:&#34;2021-06-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/playbook-zhong-shi-yong-copy-lai-chuan-shu-wen-jian/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:33000,&#34;words&#34;:109,&#34;minutes&#34;:1},&#34;description&#34;:&#34;åŸºæœ¬é…ç½®ç¤ºä¾‹\n- hosts: all\n    vars: \n      wss_url: http://10.77.10.125:8545 \n    tasks:\n      - name: &amp;quot;æ¨é€é…ç½®æ–‡ä»¶&amp;quot;\n    ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B\&#34;&gt;åŸºæœ¬é…ç½®ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;becomeé…ç½®ç¤ºä¾‹\&#34;&gt;becomeé…ç½®ç¤ºä¾‹ï¼š&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;- hosts: www.360.com\n  remote_user: zabbix\n  become: yes\n  become_method: su\n  tasks:\n   - selinux:\n        state: disabled\n   - name: disable firewalld\n     shell: systemctl stop firewalld &amp;amp;&amp;amp; systemctl disable firewalld\n \n# becomeè¯´æ˜\nbecome:        yes  # æ˜¯å¦å…è®¸èº«ä»½åˆ‡æ¢\nbecome_method: su   # åˆ‡æ¢ç”¨æˆ·èº«ä»½çš„æ–¹å¼ï¼Œæœ‰sudoã€suã€pbrunç­‰æ–¹å¼ï¼Œé»˜è®¤ä¸ºsudo\nbecome_user: root   # åˆ‡æ¢æŒ‡å®šçš„ç”¨æˆ·ï¼Œé»˜è®¤ä¸å†™ï¼Œå°±æ˜¯root\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;sudoé…ç½®è§£é‡Š\&#34;&gt;sudoé…ç½®è§£é‡Š&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;hosts                # æŒ‡å®šä¸»æœºåˆ†ç»„ï¼Œå¯ä»¥å–å¹¶é›†ï¼Œäº¤é›†ç­‰\nremote_user          # ç”¨äºæŒ‡å®šè¿œç¨‹ä¸»æœºä¸Šçš„æ‰§è¡Œä»»åŠ¡çš„ç”¨æˆ·ï¼Œæœ€ä½³å®è·µæ˜¯è¯¥ç”¨æˆ·å…·æœ‰sudoæƒé™\nuser                 # å’Œremote_userç›¸åŒ\nsudo                 # å¦‚æœè®¾ç½®ä¸ºyesï¼Œæ‰§è¡Œè¯¥ä»»åŠ¡ç»„çš„ç”¨æˆ·åœ¨æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œè·å–rootæƒé™ï¼Œä¹Ÿå¯ä»¥å‘½ä»¤è¡Œä½¿ç”¨-bå‚æ•°\nsudo_user            # å¦‚æœè®¾ç½®userä¸ºAï¼Œsudoä¸ºyesï¼Œsudo_userä¸ºBæ—¶ï¼Œåˆ™Aç”¨æˆ·åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ä¼šè·å¾—Bç”¨æˆ·çš„æƒé™ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä¸æ¨è\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;playbook-zhong-yong-hu-de-qie-huan-wen-ti&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Ansible-Playbookä¸­ç”¨æˆ·çš„åˆ‡æ¢é—®é¢˜&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Ansible&#34;,&#34;slug&#34;:&#34;a1RiQn9Xn&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a1RiQn9Xn/&#34;},{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-06-07 17:21:20&#34;,&#34;dateFormat&#34;:&#34;2021-06-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/playbook-zhong-yong-hu-de-qie-huan-wen-ti/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:52000,&#34;words&#34;:215,&#34;minutes&#34;:1},&#34;description&#34;:&#34;becomeé…ç½®ç¤ºä¾‹ï¼š\n- hosts: www.360.com\n  remote_user: zabbix\n  become: yes\n  become_method: su\n  tasks:\n   - selinux:\n        ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#become%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B\&#34;&gt;becomeé…ç½®ç¤ºä¾‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#sudo%E9%85%8D%E7%BD%AE%E8%A7%A3%E9%87%8A\&#34;&gt;sudoé…ç½®è§£é‡Š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ç¤ºä¾‹é…ç½®\&#34;&gt;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œç¤ºä¾‹é…ç½®ï¼š&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;tasks:\n  - yum: name={{ item }} state=installed\n    with_items:\n       - httpd\n    tags:\n       - packages\n  - name: copy httpd.conf\n    template: src=templates/httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf\n    tags:\n       - configuration\n  - name: copy index.html\n    template: src=templates/index.html.j2 dest=/var/www/html/index.html\n    tags:\n       - configuration\n  \n \n# æ‰§è¡Œéƒ¨åˆ†ä»»åŠ¡\nansible-playbook example.yml --tags &amp;quot;packages&amp;quot;\n\n# æŒ‡å®šä¸æ‰§è¡Œpackageséƒ¨åˆ†çš„ä»»åŠ¡\nansible-playbook example.yml --skip-tags &amp;quot;configuration&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç‰¹æ®Šçš„tags\&#34;&gt;ç‰¹æ®Šçš„tags&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# always æ ‡ç­¾ï¼Œå³ä½¿æŒ‡å®šæ‰§è¡Œäº†æŸtagçš„ä»»åŠ¡ï¼Œæ ‡è®°ä¸ºalwaysçš„ä»»åŠ¡ä¹Ÿä¼šè¢«æ‰§è¡Œ\ntasks:\n  - debug: msg=&amp;quot;Always print this debug message&amp;quot;\n    tags:\n      - always\n  - yum: name={{ item }} state=installed\n    with_items:\n       - httpd\n    tags:\n       - packages\n  - template: src=templates/httpd.conf.j2 dest=/etc/httpd/conf/httpd.conf\n    tags:\n       - configuration\n\n# è¿™é‡Œæ ‡è®°ä¸ºalwaysçš„ä»»åŠ¡ä¹Ÿä¼šè¢«æ‰§è¡Œ\nansible-playbook tags_always.yml --tags &amp;quot;packages&amp;quot;\n\n# targgedï¼Œuntaggedï¼Œallï¼Œä½¿ç”¨è¿™äº›æ ‡ç­¾æ—¶ï¼Œä¸éœ€è¦åŠ åŒå¼•å·\ntaggedï¼Œå³æ‰§è¡Œæ‰€æœ‰è¢«æ‰“æ ‡ç­¾çš„ä»»åŠ¡\nuntaggedï¼Œå³æ‰§è¡Œæ‰€æœ‰æœªè¢«æ‰“æ ‡ç­¾çš„ä»»åŠ¡\nallï¼Œæ‰€æœ‰ä»»åŠ¡\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;playbook-li-yong-tags-zhi-xing-bu-fen-task&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Ansible-Playbookåˆ©ç”¨tagsæ‰§è¡Œéƒ¨åˆ†task&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Ansible&#34;,&#34;slug&#34;:&#34;a1RiQn9Xn&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a1RiQn9Xn/&#34;},{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-06-07 17:20:35&#34;,&#34;dateFormat&#34;:&#34;2021-06-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/playbook-li-yong-tags-zhi-xing-bu-fen-task/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:66000,&#34;words&#34;:227,&#34;minutes&#34;:2},&#34;description&#34;:&#34;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œç¤ºä¾‹é…ç½®ï¼š\ntasks:\n  - yum: name={{ item }} state=installed\n    with_items:\n       - httpd\n    tags:\n       - packages\n...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E7%A4%BA%E4%BE%8B%E9%85%8D%E7%BD%AE\&#34;&gt;åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œç¤ºä¾‹é…ç½®ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%89%B9%E6%AE%8A%E7%9A%84tags\&#34;&gt;ç‰¹æ®Šçš„tags&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;éƒ¨ç½²æ–¹å¼å®¹å™¨åŒ–éƒ¨ç½²\&#34;&gt;éƒ¨ç½²æ–¹å¼ï¼šå®¹å™¨åŒ–éƒ¨ç½²&lt;/h3&gt;\n&lt;h4 id=\&#34;éƒ¨ç½²æµç¨‹\&#34;&gt;éƒ¨ç½²æµç¨‹ï¼š&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# è¿è¡Œnode-exporterç›‘æ§ä¸»æœºåŸºæœ¬ä¿¡æ¯ï¼Œè®¿é—®9100ç«¯å£è¿›è¡ŒéªŒè¯\ndocker run -d --name node \\\n\t-p 9100:9100 \\\n\t-v /proc:/host/proc \\\n\t-v /sys:/host/sys \\\n\t-v /:/rootfs \\\n\t--net=host prom/node-exporter \\\n\t--path.procfs /host/proc \\\n\t--path.sysfs /host/sys \\\n\t--collector.filesystem.ignored-mount-points &amp;quot;^/(sys|proc|dev|host|etc)($|/)&amp;quot;\n\n# è¿è¡ŒcAdvisorç›‘æ§å®¹å™¨è¿è¡ŒçŠ¶æ€ï¼Œè®¿é—®8080ç«¯å£è¿›è¡ŒéªŒè¯\ndocker run -v /:/rootfs:ro \\\n\t-v /var/run:/var/run/:rw \\\n\t-v /sys:/sys:ro \\\n\t-v /var/lib/docker:/var/lib/docker:ro \\\n\t-p 8080:8080 \\\n\t--detach=true \\\n\t--name=cadvisor \\\n\t--net=host google/cadvisor\n\n# åœ¨ç›‘æ§ä¸»èŠ‚ç‚¹ä¸Šéƒ¨ç½²prometheus serverï¼Œå®¢æˆ·èŠ‚ç‚¹æ— éœ€å®‰è£…\ndocker run -d -p 9090:9090 --name prometheus --net=host prom/prometheus\n# å°†å®¹å™¨ä¸­çš„é…ç½®æ–‡ä»¶æ‹·è´åˆ°å®¿ä¸»ï¼Œè¿›è¡Œä¿®æ”¹\ndocker cp prometheus:/etc/prometheus/prometheus.yml ./\n# ä¿®æ”¹static_configsï¼ŒæŒ‡å‘æ‰€æœ‰å®¢æˆ·èŠ‚ç‚¹çš„9100å’Œ8080ç«¯å£è·å–æ•°æ®\nvim prometheus.yml\n\n# é…ç½®æ›´æ–°å®Œæˆåï¼Œåˆ é™¤åŸprometheus serverå®¹å™¨\ndocker rm prometheus -f\n# é‡æ–°å°†æœ¬åœ°é…ç½®æ–‡ä»¶æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œè®¿é—®9090ç«¯å£è¿›è¡ŒéªŒè¯\ndocker run -d -p 9090:9090 --name prometheus --net=host -v /root/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus\n\n# éƒ¨ç½²grafanaå›¾å½¢åŒ–ç•Œé¢ï¼Œè®¿é—®3000ç«¯å£è¿›è¡ŒéªŒè¯\nmkdir grafana-storage\nchmod 777 -R grafana-storage/\ndocker run -d -p 3000:3000 \\\n\t--name grafana \\\n\t-v /root/grafana-storage:/var/lib/grafana \\\n\t-e &amp;quot;GF_SECURITY_ADMIN_PASSWORD=123456&amp;quot; grafana/grafana\n\t\n# grafanaæ¨¡æ¿ï¼Œæ‰“å¼€grafana.com, ç‚¹å‡»dashboradsï¼Œæ ¹æ®æ•°æ®æºå’Œç±»å‹é€‰æ‹©åˆé€‚çš„æ¨¡æ¿\n\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;shi-yong-prometheus-jian-kong-zhu-ji-docker-rong-qi-yun-xing-zhuang-tai&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Prometheus-ä½¿ç”¨prometheusç›‘æ§ä¸»æœºdockerå®¹å™¨è¿è¡ŒçŠ¶æ€&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Prometheus&#34;,&#34;slug&#34;:&#34;R7jEZk-Br&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/R7jEZk-Br/&#34;}],&#34;date&#34;:&#34;2021-06-07 16:27:03&#34;,&#34;dateFormat&#34;:&#34;2021-06-07&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/shi-yong-prometheus-jian-kong-zhu-ji-docker-rong-qi-yun-xing-zhuang-tai/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:98000,&#34;words&#34;:344,&#34;minutes&#34;:2},&#34;description&#34;:&#34;éƒ¨ç½²æ–¹å¼ï¼šå®¹å™¨åŒ–éƒ¨ç½²\néƒ¨ç½²æµç¨‹ï¼š\n# è¿è¡Œnode-exporterç›‘æ§ä¸»æœºåŸºæœ¬ä¿¡æ¯ï¼Œè®¿é—®9100ç«¯å£è¿›è¡ŒéªŒè¯\ndocker run -d --name node \\\n\t-p 9100:9100 \\\n\t-v /proc:/host/proc...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2%E6%96%B9%E5%BC%8F%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2\&#34;&gt;éƒ¨ç½²æ–¹å¼ï¼šå®¹å™¨åŒ–éƒ¨ç½²&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B\&#34;&gt;éƒ¨ç½²æµç¨‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. å¸è½½è®¾å¤‡\n# umount /dev/md0\n\n2. åœæ­¢raidè®¾å¤‡\n# mdadm -S /dev/md0  // åœæ­¢raidè®¾å¤‡\n\n3. æŸ¥çœ‹å±äºraidç»„çš„è®¾å¤‡åç§°\n# blkid \n\n4. ä»raidç»„ä¸­åˆ é™¤ç¡¬ç›˜\n# mdadm --misc --zero-superblock /dev/xxx\n\nä»¥ä¸‹æ“ä½œå¯é€‰ï¼š\n5. åˆ é™¤é…ç½®æ–‡ä»¶ï¼šrm -f /etc/mdadm.conf\n\n6. æ›´æ–°/etc/fstab\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;ru-he-chai-chu-linux-ruan-raid-she-bei&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å¦‚ä½•æ‹†é™¤Linuxè½¯Raidè®¾å¤‡&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Linux&#34;,&#34;slug&#34;:&#34;U7XkBZwyl&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/U7XkBZwyl/&#34;}],&#34;date&#34;:&#34;2021-04-20 16:11:37&#34;,&#34;dateFormat&#34;:&#34;2021-04-20&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/ru-he-chai-chu-linux-ruan-raid-she-bei/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:20000,&#34;words&#34;:74,&#34;minutes&#34;:1},&#34;description&#34;:&#34;1. å¸è½½è®¾å¤‡\n# umount /dev/md0\n\n2. åœæ­¢raidè®¾å¤‡\n# mdadm -S /dev/md0  // åœæ­¢raidè®¾å¤‡\n\n3. æŸ¥çœ‹å±äºraidç»„çš„è®¾å¤‡åç§°\n# blkid \n\n4. ä»raidç»„ä¸­åˆ é™¤ç¡¬ç›˜\n# md...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;ä¸»æœºå‘ç°\&#34;&gt;ä¸»æœºå‘ç°&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;ä»¥192.168.1.0/24ä¸¾ä¾‹\n\nnmap -PE 192.168.1.0/24  # icmp\nnamp -PO 192.168.1.0/24  # ip\nnmap -PS 192.168.1.0/24  # tcp syn\nnmap -PA 192.168.1.0/24  # tcp ack\nnmap -PU 192.168.1.0/24  # udp\nnmap -PY 192.168.1.0/24  # sctp\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç«¯å£æ‰«æ\&#34;&gt;ç«¯å£æ‰«æ&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1.SYN Scanning\nnmap -sS 192.168.1.0/24  # ä»…å‘é€SYNï¼Œè¿”å›SYN/ACKåº”ç­”è¡¨ç¤ºç«¯å£å¼€å¯ï¼Œè¿”å›RSTè¡¨ç¤ºç«¯å£å…³é—­\n\n2.TCP Scanning\nnmap -sT 192.168.1.0/24  # å»ºç«‹å®Œæ•´çš„TCPè¿æ¥ï¼Œè¡¨ç¤ºç«¯å£å¼€å¯ï¼Œå¦åˆ™è¡¨ç¤ºå…³é—­\n\n3.UDP Scanning\nnmap -sU 192.168.1.0/24  # UDPï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºç«¯å£å¼€å¯ï¼›è¿”å›&amp;quot;Port Unreachable&amp;quot;ä¿¡æ¯ï¼Œè¡¨ç¤ºå…³é—­\n\n4.FIN Scanning\nnmap -sF 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­é‡ç½®FINæ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­\n\n5.NULL Scanning\nnmap -sN 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­ä¸åŒ…å«ä»»ä½•æ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­\n\n6.Xmas Scanning\nnmap -sX 192.168.1.0/24  # åœ¨TCPæ•°æ®åŒ…ä¸­é‡ç½®FINã€RSTã€PUSHæ ‡å¿—ä½ï¼Œæ— åº”ç­”ï¼Œè¡¨ç¤ºå¼€å¯ï¼›è¿”å›RSTï¼Œè¡¨ç¤ºç«¯å£å…³é—­\n\n7.IDLE Scanning\nnmap -sI 172.16.1.1 192.168.1.0/24  \n# åˆ©ç”¨åƒµå°¸ä¸»æœºè¿›è¡Œæ‰«æï¼Œå‡è®¾åƒµå°¸IPä¸º172.16.1.1ï¼Œå½“åƒµå°¸æœºè¿”å›åºåˆ—IDå¢åŠ æ•°é‡ä¸º2æ—¶ï¼Œè¡¨ç¤ºå¼€å¯ï¼Œä¸º1æ—¶å…³é—­\n\n8.æŒ‡å®šç«¯å£æ‰«æ\nnmap -p 80,443 192.168.1.0/24  # å¯ä»¥æŒ‡å®šå¤šä¸ªç«¯å£\n\n9.æ‰«æå¸¸è§çš„100ä¸ªç«¯å£\nnmap -F 192.168.1.0/24  # å¿«é€Ÿæ¨¡å¼\n\n10.ä½¿ç”¨åè®®åè¿›è¡Œæ‰«æ\nnmap -p http 192.168.1.0/24\nnmap -p smtp 192.168.1.0/24\n\n11.æ‰«æå¸¸ç”¨ç«¯å£\nnmap --top-ports &amp;lt;ç«¯å£æ•°é‡&amp;gt; 192.168.1.0/24\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«\&#34;&gt;æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;nmap -O 192.168.1.0/24   # os\nnmap -sV 192.168.1.0/24  # service version\nnmap -A 192.168.1.0/24   # all\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä½¿ç”¨è„šæœ¬\&#34;&gt;ä½¿ç”¨è„šæœ¬&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;nmap --script &amp;lt;è„šæœ¬åç§°&amp;gt; 192.168.1.0/24\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;nmap-gong-ju-chang-yong-shi-yong-chang-jing&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Nmapå·¥å…·å¸¸ç”¨ä½¿ç”¨åœºæ™¯&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;nmap&#34;,&#34;slug&#34;:&#34;10NnMGZ95&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/10NnMGZ95/&#34;},{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-03-29 13:50:49&#34;,&#34;dateFormat&#34;:&#34;2021-03-29&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/nmap-gong-ju-chang-yong-shi-yong-chang-jing/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:136000,&#34;words&#34;:478,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ä¸»æœºå‘ç°\nä»¥192.168.1.0/24ä¸¾ä¾‹\n\nnmap -PE 192.168.1.0/24  # icmp\nnamp -PO 192.168.1.0/24  # ip\nnmap -PS 192.168.1.0/24  # tcp syn...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0\&#34;&gt;ä¸»æœºå‘ç°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F\&#34;&gt;ç«¯å£æ‰«æ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB\&#34;&gt;æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BD%BF%E7%94%A8%E8%84%9A%E6%9C%AC\&#34;&gt;ä½¿ç”¨è„šæœ¬&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;è¯¦ç»†æµç¨‹å¦‚ä¸‹\&#34;&gt;è¯¦ç»†æµç¨‹å¦‚ä¸‹ï¼š&lt;/h3&gt;\n&lt;p&gt;1.ä½¿ç”¨ xfs_repair -n æ‰§è¡Œæ–‡ä»¶ç³»ç»Ÿé”™è¯¯æ£€æµ‹ï¼Œå’Œ fsck -n ç±»ä¼¼ï¼›&lt;br&gt;\n2.ä½¿ç”¨ xfs_repair å°è¯•è¿›è¡Œä¿®å¤ï¼›&lt;br&gt;\n3.å½“é‡è§æ— æ³•æ­£å¸¸æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œéœ€è¦ä½¿ç”¨å¼ºåˆ¶æ¨¡å¼ -L æ¨¡å¼è¿›è¡Œä¿®å¤ï¼Œä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œå¯ä»¥å…ˆå¯¹metadataè¿›è¡Œæ¨¡æ‹Ÿä¿®å¤æµ‹è¯•ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;xfs_metadump [partition] /path/to/file.metadump                                  # å¯¹éœ€è¦ä¿®å¤çš„åˆ†åŒºè¿›è¡Œdump&lt;/li&gt;\n&lt;li&gt;xfs_mdrestore /path/to/file.metadump /path/to/file.img                         # ç”Ÿæˆimgæ–‡ä»¶&lt;/li&gt;\n&lt;li&gt;losetup --show --find /path/to/file.img                                                    # ä½¿ç”¨lostupå·¥å…·å°†æ•°æ®æ”¾åˆ°/dev/loop0&lt;/li&gt;\n&lt;li&gt;xfs_repair -L /dev/loop0                                                                        # å°è¯•æ¨¡æ‹Ÿä¿®å¤&lt;/li&gt;\n&lt;li&gt;mount /dev/loop0 /mnt&lt;/li&gt;\n&lt;li&gt;check the damage&lt;/li&gt;\n&lt;li&gt;(note, this is an image of file system layout, but not the actual data)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;4.æ‹·è´çœŸå®æ•°æ®ï¼Œå¹¶å¯¹æ‹·è´çš„æ•°æ®è¿›è¡Œä¿®å¤ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ddrescue -f -n [partition] /path/to/rescued.img rescue.log                      # è¿™éœ€è¦ä¸€ä¸ªæ¯”åŸåˆ†åŒºå¤§å°æ›´å¤§çš„ç£ç›˜&lt;/li&gt;\n&lt;li&gt;ddrescue -d -f -r3 [partition] /path/to/rescued.img rescue.log&lt;/li&gt;\n&lt;li&gt;losetup --show --find /path/to/rescued.img&lt;/li&gt;\n&lt;li&gt;xfs_repair -L /dev/loop0&lt;/li&gt;\n&lt;li&gt;mount /dev/loop0 /mnt&lt;/li&gt;\n&lt;li&gt;check the damage&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;5.å¦‚æœçœŸå®ç¯å¢ƒç¼ºå°‘è¿™æ ·çš„å¤‡ä»½åˆ†åŒºï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨xfs_repair -Læ¨¡å¼è¿›è¡Œå¼ºåˆ¶ä¿®å¤ã€‚&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;xfs-wen-jian-xi-tong-xiu-fu-liu-cheng&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;XFSæ–‡ä»¶ç³»ç»Ÿä¿®å¤æµç¨‹&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Linux&#34;,&#34;slug&#34;:&#34;U7XkBZwyl&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/U7XkBZwyl/&#34;}],&#34;date&#34;:&#34;2021-03-22 10:34:29&#34;,&#34;dateFormat&#34;:&#34;2021-03-22&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/xfs-wen-jian-xi-tong-xiu-fu-liu-cheng/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:72000,&#34;words&#34;:272,&#34;minutes&#34;:2},&#34;description&#34;:&#34;è¯¦ç»†æµç¨‹å¦‚ä¸‹ï¼š\n1.ä½¿ç”¨ xfs_repair -n æ‰§è¡Œæ–‡ä»¶ç³»ç»Ÿé”™è¯¯æ£€æµ‹ï¼Œå’Œ fsck -n ç±»ä¼¼ï¼›\n2.ä½¿ç”¨ xfs_repair å°è¯•è¿›è¡Œä¿®å¤ï¼›\n3.å½“é‡è§æ— æ³•æ­£å¸¸æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œéœ€è¦ä½¿ç”¨å¼ºåˆ¶æ¨¡å¼ -L æ¨¡å¼è¿›è¡Œä¿®å¤ï¼Œä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AF%A6%E7%BB%86%E6%B5%81%E7%A8%8B%E5%A6%82%E4%B8%8B\&#34;&gt;è¯¦ç»†æµç¨‹å¦‚ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å®‰è£…å·¥å…·\&#34;&gt;å®‰è£…å·¥å…·&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;yum install -y ipmitool \n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å¯åŠ¨æœåŠ¡\&#34;&gt;å¯åŠ¨æœåŠ¡&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;service ipmi start\nipmitool -I open shell     # è¿›å…¥äº¤äº’å¼shell\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¸€-å¼€å…³æœºé‡å¯\&#34;&gt;ä¸€ã€å¼€å…³æœºï¼Œé‡å¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. æŸ¥çœ‹å¼€å…³æœºçŠ¶æ€ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power status\n\n2. å¼€æœºï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power on\n\n3. å…³æœºï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power off\n\n4. é‡å¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) power reset\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;äºŒ-ç”¨æˆ·ç®¡ç†\&#34;&gt;äºŒã€ç”¨æˆ·ç®¡ç†&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# è¯´æ˜ï¼š[ChannelNo] å­—æ®µæ˜¯å¯é€‰çš„ï¼ŒChannoNoä¸º1æˆ–è€…8ï¼›BMCé»˜è®¤æœ‰2ä¸ªç”¨æˆ·ï¼šuser idä¸º1çš„åŒ¿åç”¨æˆ·ï¼Œuser idä¸º2çš„ADMINç”¨æˆ·ï¼›&amp;lt;&amp;gt;å­—æ®µä¸ºå¿…é€‰å†…å®¹ï¼›&amp;lt;privilege level&amp;gt;ï¼š2ä¸ºuseræƒé™ï¼Œ3ä¸ºOperatoræƒé™ï¼Œ4ä¸ºAdministratoræƒé™ï¼›\n\n1. æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user list [ChannelNo]\n\n2. å¢åŠ ç”¨æˆ·ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user set name &amp;lt;user id&amp;gt; &amp;lt;username&amp;gt;\n\n3. è®¾ç½®å¯†ç ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user set password &amp;lt;user id&amp;gt; &amp;lt;password&amp;gt;\n\n4. è®¾ç½®ç”¨æˆ·æƒé™ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user priv &amp;lt;user id&amp;gt; &amp;lt;privilege level&amp;gt; [ChannelNo]\n\n5. å¯ç”¨/ç¦ç”¨ç”¨æˆ·ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) user enable/disable &amp;lt;user id&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¸‰-ipç½‘ç»œè®¾ç½®\&#34;&gt;ä¸‰ã€IPç½‘ç»œè®¾ç½®&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# è¯´æ˜ï¼š[ChannelNo] å­—æ®µæ˜¯å¯é€‰çš„ï¼ŒChannoNoä¸º1(Share Nicç½‘ç»œ)æˆ–è€…8ï¼ˆBMCç‹¬ç«‹ç®¡ç†ç½‘ç»œï¼‰ï¼›è®¾ç½®ç½‘ç»œå‚æ•°ï¼Œå¿…é¡»é¦–å…ˆè®¾ç½®IPä¸ºé™æ€ï¼Œç„¶åå†è¿›è¡Œå…¶ä»–è®¾ç½®ï¼›\n\n1. æŸ¥çœ‹ç½‘ç»œä¿¡æ¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan print [ChannelNo]\n\n2. ä¿®æ”¹IPä¸ºé™æ€è¿˜æ˜¯DHCPæ¨¡å¼ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; ipsrc &amp;lt;static/dhcp&amp;gt;\n\n3. ä¿®æ”¹IPåœ°å€ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; ipaddr &amp;lt;IPAddress&amp;gt;\n\n4. ä¿®æ”¹å­ç½‘æ©ç ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; netmask &amp;lt;NetMask&amp;gt;\n\n5. ä¿®æ”¹é»˜è®¤ç½‘å…³ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) lan set &amp;lt;ChannelNo&amp;gt; defgw ipaddr &amp;lt;é»˜è®¤ç½‘å…³&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å››-solåŠŸèƒ½\&#34;&gt;å››ã€SOLåŠŸèƒ½&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# è¯´æ˜ï¼š&amp;lt;9.6/19.2/38.4/57.6/115.2&amp;gt;å…¶ä¸­115.2ä»£è¡¨115200ï¼Œå³*1000æ˜¯è¡¨ç¤ºçš„æ³¢ç‰¹ç‡;\n\n1. è®¾ç½®SOLä¸²å£æ³¢ç‰¹ç‡ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol set volatile-bit-rate &amp;lt;9.6/19.2/38.4/57.6/115.2&amp;gt;\n\n2. æ‰“å¼€SOLåŠŸèƒ½ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol activate\n\n3. å…³é—­SOLåŠŸèƒ½ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sol deactivate\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;äº”-selæ—¥å¿—æŸ¥çœ‹\&#34;&gt;äº”ã€SELæ—¥å¿—æŸ¥çœ‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. æŸ¥çœ‹SELæ—¥å¿—ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sel list\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å…­-fruä¿¡æ¯æŸ¥çœ‹\&#34;&gt;å…­ã€FRUä¿¡æ¯æŸ¥çœ‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. æŸ¥çœ‹FRUä¿¡æ¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) fru list\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¸ƒ-sdrsensorä¿¡æ¯æŸ¥çœ‹\&#34;&gt;ä¸ƒã€SDRï¼ŒSensorä¿¡æ¯æŸ¥çœ‹&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. æŸ¥çœ‹SDR Sensorä¿¡æ¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sdr\n\n2. æŸ¥çœ‹Sensorä¿¡æ¯ï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) sensor list\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å…«-mcç®¡ç†å•å…ƒbmcçŠ¶æ€å’Œæ§åˆ¶\&#34;&gt;å…«ã€mc(ç®¡ç†å•å…ƒBMC)çŠ¶æ€å’Œæ§åˆ¶&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. é‡å¯åŠ¨BMCï¼š\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) mc reset &amp;lt;warm/cold&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¹-è®¾ç½®bmcçš„iptablesé˜²ç«å¢™\&#34;&gt;ä¹ã€è®¾ç½®BMCçš„iptablesé˜²ç«å¢™&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1. è®¾ç½®æŸä¸€æ®µIPå¯ä»¥è®¿é—®BMC\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x01 0x01 ip1(0xa 0xa 0xa 0xa) ip2(0xb 0xb 0xb 0xb)\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x09\n\n2. è®¾ç½®æŸä¸ªIPå¯ä»¥è®¿é—®BMC\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x00 0x01 ip1(0xa 0xa 0xa 0xa)\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x09\n\n3. å–æ¶ˆè®¾ç½®\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x08\n\n4ï¼è·å–é˜²ç«å¢™è®¾ç½®\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x77 0x01 0x00\n\n5. é˜»æ­¢/å¼€å¯æŸä¸ªç«¯å£\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x02 0x00/0x01 0x00 (portno)0x22 0x00\n\n6. å–æ¶ˆæŸä¸ªç«¯å£çš„è®¾ç½®ï¼ˆ6æ˜¯5çš„å¯¹åº”å–æ¶ˆæ“ä½œï¼‰\nipmitool -H (BMCçš„ç®¡ç†IPåœ°å€) -I lanplus -U (BMCç™»å½•ç”¨æˆ·å) -P (BMC ç™»å½•ç”¨æˆ·åçš„å¯†ç ) raw 0x32 0x76 0x06 0x00/0x01 0x00 (portno)0x22 0x00\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å‚è€ƒæ–‡çŒ®\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;\n&lt;p&gt;https://www.cnblogs.com/EricDing/p/8995263.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;ipmitool-gong-ju-de-shi-yong-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ipmitoolå·¥å…·çš„ä½¿ç”¨è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-03-10 10:09:43&#34;,&#34;dateFormat&#34;:&#34;2021-03-10&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/ipmitool-gong-ju-de-shi-yong-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;7 min read&#34;,&#34;time&#34;:385000,&#34;words&#34;:1433,&#34;minutes&#34;:7},&#34;description&#34;:&#34;å®‰è£…å·¥å…·\nyum install -y ipmitool \n\nå¯åŠ¨æœåŠ¡\nservice ipmi start\nipmitool -I open shell     # è¿›å…¥äº¤äº’å¼shell\n\nä¸€ã€å¼€å…³æœºï¼Œé‡å¯\n1. æŸ¥çœ‹å¼€å…³æœºçŠ¶æ€ï¼š\nipm...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7\&#34;&gt;å®‰è£…å·¥å…·&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1\&#34;&gt;å¯åŠ¨æœåŠ¡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-%E5%BC%80%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF\&#34;&gt;ä¸€ã€å¼€å…³æœºï¼Œé‡å¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86\&#34;&gt;äºŒã€ç”¨æˆ·ç®¡ç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%89-ip%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE\&#34;&gt;ä¸‰ã€IPç½‘ç»œè®¾ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B-sol%E5%8A%9F%E8%83%BD\&#34;&gt;å››ã€SOLåŠŸèƒ½&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%94-sel%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B\&#34;&gt;äº”ã€SELæ—¥å¿—æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%AD-fru%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B\&#34;&gt;å…­ã€FRUä¿¡æ¯æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%83-sdrsensor%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B\&#34;&gt;ä¸ƒã€SDRï¼ŒSensorä¿¡æ¯æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%AB-mc%E7%AE%A1%E7%90%86%E5%8D%95%E5%85%83bmc%E7%8A%B6%E6%80%81%E5%92%8C%E6%8E%A7%E5%88%B6\&#34;&gt;å…«ã€mc(ç®¡ç†å•å…ƒBMC)çŠ¶æ€å’Œæ§åˆ¶&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B9%9D-%E8%AE%BE%E7%BD%AEbmc%E7%9A%84iptables%E9%98%B2%E7%81%AB%E5%A2%99\&#34;&gt;ä¹ã€è®¾ç½®BMCçš„iptablesé˜²ç«å¢™&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;gpuæ—¥å¿—æ”¶é›†\&#34;&gt;GPUæ—¥å¿—æ”¶é›†&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# nvidia-bug-report.sh   // æ‰§è¡Œåè¾“å‡ºnvidia-bug-report.log.gzæ–‡ä»¶\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;é©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•\&#34;&gt;é©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;ç»´æŒè¾ƒæ–°çš„é©±åŠ¨ç‰ˆæœ¬&lt;/li&gt;\n&lt;li&gt;ç¦ç”¨nouveauæ¨¡å—&lt;/li&gt;\n&lt;li&gt;æ‰“å¼€GPUé©±åŠ¨å¸¸é©»å†…å­˜æ¨¡å¼å¹¶é…ç½®å¼€æœºè‡ªå¯åŠ¨&lt;/li&gt;\n&lt;li&gt;GPUæ•…éšœåï¼Œå¯å°è¯•é‡å¯ä¸»æœºè§£å†³&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&#34;ç¦ç”¨nouveauæ¨¡å—\&#34;&gt;ç¦ç”¨nouveauæ¨¡å—&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# lsmod | grep -i nouveau   // å¦‚æœæœ‰è¾“å‡ºï¼Œè¡¨ç¤ºå¯åŠ¨çŠ¶æ€ï¼Œå¦åˆ™ä¸ºç¦ç”¨çŠ¶æ€\n\n# CentOS 7\n# ç¼–è¾‘æˆ–æ–°å»º blacklist-nouveau.conf æ–‡ä»¶\n[root@zj ~]# vim /usr/lib/modprobe.d/blacklist-nouveau.conf\nblacklist nouveau\noptions nouveau modeset=0\n\n# æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¹¶é‡å¯ç³»ç»Ÿä½¿å†…æ ¸ç”Ÿæ•ˆ\n[root@zj ~]# dracut -f\n[root@zj ~]# shutdown -ry 0\n\n\n# ubuntu \n# vi /etc/modprobe.d/blacklist.conf æœ€åä¸€è¡ŒåŠ å…¥\nblacklist nouveau\n# update-initramfs -u\n# reboot\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;gpué©±åŠ¨å†…å­˜å¸¸é©»æ¨¡å¼\&#34;&gt;GPUé©±åŠ¨å†…å­˜å¸¸é©»æ¨¡å¼&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# nvidia-smi -pm 1\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;gpuåŠ è½½æ•°é‡å’Œerræ£€æŸ¥\&#34;&gt;GPUåŠ è½½æ•°é‡å’ŒERRæ£€æŸ¥&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ˜¾ç¤ºçš„GPUå¡æ•°é‡éœ€è¦ä¿æŒä¸€è‡´ï¼Œå¯ç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰GPUç¦»çº¿\n# lspci | grep -i nvidia \n# nvidia-smi\n\n# æ£€æŸ¥è¾“å‡ºä¸­æ˜¯å¦åŒ…å«ERRé”™è¯¯å­—æ ·ï¼Œå¯ç”¨äºå®ç°å¥åº·æ£€æŸ¥\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;gpuå¸¸ç”¨æ€§èƒ½æŒ‡æ ‡è·å–\&#34;&gt;GPUå¸¸ç”¨æ€§èƒ½æŒ‡æ ‡è·å–&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# nvidia-smi \\\n&amp;gt;  --query-gpu=memory.total,memory.used,memory.free,utilization.memory,utilization.gpu,temperature.gpu,fan.speed \\\n&amp;gt;  --format=csv,noheader,nounits\n\n# nvidia-smi --help-query-gpu   // æŸ¥çœ‹å¯ç”¨çš„æŸ¥è¯¢å‚æ•°\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;nvidia-xian-qia-chang-yong-ming-ling&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;NVIDIAæ˜¾å¡å¸¸ç”¨å‘½ä»¤&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-02-18 09:37:06&#34;,&#34;dateFormat&#34;:&#34;2021-02-18&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/nvidia-xian-qia-chang-yong-ming-ling/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:79000,&#34;words&#34;:303,&#34;minutes&#34;:2},&#34;description&#34;:&#34;GPUæ—¥å¿—æ”¶é›†\n# nvidia-bug-report.sh   // æ‰§è¡Œåè¾“å‡ºnvidia-bug-report.log.gzæ–‡ä»¶\n\né©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•\n\nç»´æŒè¾ƒæ–°çš„é©±åŠ¨ç‰ˆæœ¬\nç¦ç”¨nouveauæ¨¡å—\næ‰“å¼€GPUé©±åŠ¨å¸¸é©»å†…å­˜æ¨¡å¼å¹¶é…ç½®å¼€...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#gpu%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86\&#34;&gt;GPUæ—¥å¿—æ”¶é›†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98%E5%B8%B8%E8%A7%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\&#34;&gt;é©±åŠ¨é—®é¢˜å¸¸è§è§£å†³æ–¹æ³•&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%A6%81%E7%94%A8nouveau%E6%A8%A1%E5%9D%97\&#34;&gt;ç¦ç”¨nouveauæ¨¡å—&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#gpu%E9%A9%B1%E5%8A%A8%E5%86%85%E5%AD%98%E5%B8%B8%E9%A9%BB%E6%A8%A1%E5%BC%8F\&#34;&gt;GPUé©±åŠ¨å†…å­˜å¸¸é©»æ¨¡å¼&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#gpu%E5%8A%A0%E8%BD%BD%E6%95%B0%E9%87%8F%E5%92%8Cerr%E6%A3%80%E6%9F%A5\&#34;&gt;GPUåŠ è½½æ•°é‡å’ŒERRæ£€æŸ¥&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#gpu%E5%B8%B8%E7%94%A8%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E8%8E%B7%E5%8F%96\&#34;&gt;GPUå¸¸ç”¨æ€§èƒ½æŒ‡æ ‡è·å–&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;å¿«é€’å‘˜åœºæ™¯\&#34;&gt;å¿«é€’å‘˜åœºæ™¯&lt;/h3&gt;\n&lt;p&gt;éœ€æ±‚ï¼šæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œè®©å¿«é€’å‘˜èƒ½å¤Ÿè‡ªç”±å‡ºå…¥å°åŒºï¼Œåˆä¸ç”¨çŸ¥é“å°åŒºå±…æ°‘çš„å¯†ç ï¼Œè€Œä¸”ä»–çš„å”¯ä¸€æƒé™å°±æ˜¯é€è´§ï¼Œå…¶ä»–éœ€è¦å¯†ç çš„åœºåˆï¼Œä»–éƒ½æ²¡æœ‰æƒé™ï¼Ÿ&lt;/p&gt;\n&lt;h3 id=\&#34;æˆæƒæœºåˆ¶çš„è®¾è®¡\&#34;&gt;æˆæƒæœºåˆ¶çš„è®¾è®¡&lt;/h3&gt;\n&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œé—¨ç¦ç³»ç»Ÿçš„å¯†ç è¾“å…¥å™¨ä¸‹é¢ï¼Œå¢åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå«åš&amp;quot;è·å–æˆæƒ&amp;quot;ã€‚å¿«é€’å‘˜éœ€è¦é¦–å…ˆæŒ‰è¿™ä¸ªæŒ‰é’®ï¼Œå»ç”³è¯·æˆæƒã€‚&lt;/p&gt;\n&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œä»–æŒ‰ä¸‹æŒ‰é’®ä»¥åï¼Œå±‹ä¸»ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ï¼‰çš„æ‰‹æœºå°±ä¼šè·³å‡ºå¯¹è¯æ¡†ï¼šæœ‰äººæ­£åœ¨è¦æ±‚æˆæƒã€‚ç³»ç»Ÿè¿˜ä¼šæ˜¾ç¤ºè¯¥å¿«é€’å‘˜çš„å§“åã€å·¥å·å’Œæ‰€å±çš„å¿«é€’å…¬å¸ã€‚&lt;/p&gt;\n&lt;p&gt;æˆ‘ç¡®è®¤è¯·æ±‚å±å®ï¼Œå°±ç‚¹å‡»æŒ‰é’®ï¼Œå‘Šè¯‰é—¨ç¦ç³»ç»Ÿï¼Œæˆ‘åŒæ„ç»™äºˆä»–è¿›å…¥å°åŒºçš„æˆæƒã€‚&lt;/p&gt;\n&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œé—¨ç¦ç³»ç»Ÿå¾—åˆ°æˆ‘çš„ç¡®è®¤ä»¥åï¼Œå‘å¿«é€’å‘˜æ˜¾ç¤ºä¸€ä¸ªè¿›å…¥å°åŒºçš„ä»¤ç‰Œï¼ˆaccess tokenï¼‰ã€‚ä»¤ç‰Œå°±æ˜¯ç±»ä¼¼å¯†ç çš„ä¸€ä¸²æ•°å­—ï¼Œåªåœ¨çŸ­æœŸå†…ï¼ˆæ¯”å¦‚ä¸ƒå¤©ï¼‰æœ‰æ•ˆã€‚&lt;/p&gt;\n&lt;p&gt;ç¬¬å››æ­¥ï¼Œå¿«é€’å‘˜å‘é—¨ç¦ç³»ç»Ÿè¾“å…¥ä»¤ç‰Œï¼Œè¿›å…¥å°åŒºã€‚&lt;/p&gt;\n&lt;p&gt;æœ‰äººå¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯è¿œç¨‹ä¸ºå¿«é€’å‘˜å¼€é—¨ï¼Œè€Œè¦ä¸ºä»–å•ç‹¬ç”Ÿæˆä¸€ä¸ªä»¤ç‰Œï¼Ÿè¿™æ˜¯å› ä¸ºå¿«é€’å‘˜å¯èƒ½æ¯å¤©éƒ½ä¼šæ¥é€è´§ï¼Œç¬¬äºŒå¤©ä»–è¿˜å¯ä»¥å¤ç”¨è¿™ä¸ªä»¤ç‰Œã€‚å¦å¤–ï¼Œæœ‰çš„å°åŒºæœ‰å¤šé‡é—¨ç¦ï¼Œå¿«é€’å‘˜å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªä»¤ç‰Œé€šè¿‡å®ƒä»¬ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;è½¬æ¢ç†è§£\&#34;&gt;è½¬æ¢ç†è§£&lt;/h3&gt;\n&lt;p&gt;æ‰€ä»¥ï¼ŒOAuthå°±æ˜¯ä¸€ç§æˆæƒæœºåˆ¶ï¼Œæ•°æ®çš„æ‰€æœ‰è€…å‘Šè¯‰ç³»ç»Ÿï¼ŒåŒæ„æˆæƒç¬¬ä¸‰æ–¹åº”ç”¨è¿›å…¥ç³»ç»Ÿï¼Œè·å–è¿™äº›æ•°æ®ã€‚ç³»ç»Ÿä»è€Œäº§ç”Ÿä¸€ä¸ªçŸ­æœŸçš„è¿›å…¥ä»¤ç‰Œï¼ˆTokenï¼‰ï¼Œç”¨äºæ›¿ä»£å¯†ç ï¼Œä»¥ä¾›ç¬¬ä¸‰æ–¹ä½¿ç”¨ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å…³äºtoken\&#34;&gt;å…³äºToken&lt;/h3&gt;\n&lt;p&gt;åªéœ€è¦è®°ä½ä¸‰ç‚¹ï¼š1ã€ä»¤ç‰Œçš„æœ‰æ•ˆæœŸæ˜¯æœ‰é™çš„ï¼Œä¸ºäº†å®‰å…¨ï¼›2ã€ä»¤ç‰Œçš„æƒé™èŒƒå›´ä¸€èˆ¬å¾ˆå°ï¼›3ã€ä»¤ç‰Œå¯ä»¥è¢«æ’¤é”€ï¼›&lt;/p&gt;\n&lt;h3 id=\&#34;å‚è€ƒæ–‡çŒ®\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h3&gt;\n&lt;p&gt;http://www.ruanyifeng.com/blog/2019/04/oauth_design.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;li-jie-oauth-20-de-ji-ben-liu-cheng&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ç†è§£OAuth 2.0çš„åŸºæœ¬æµç¨‹&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;ä¿¡æ¯å®‰å…¨&#34;,&#34;slug&#34;:&#34;a5GDIyqF3&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/a5GDIyqF3/&#34;}],&#34;date&#34;:&#34;2021-02-04 09:00:32&#34;,&#34;dateFormat&#34;:&#34;2021-02-04&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/li-jie-oauth-20-de-ji-ben-liu-cheng/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;2 min read&#34;,&#34;time&#34;:103000,&#34;words&#34;:499,&#34;minutes&#34;:2},&#34;description&#34;:&#34;å¿«é€’å‘˜åœºæ™¯\néœ€æ±‚ï¼šæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œè®©å¿«é€’å‘˜èƒ½å¤Ÿè‡ªç”±å‡ºå…¥å°åŒºï¼Œåˆä¸ç”¨çŸ¥é“å°åŒºå±…æ°‘çš„å¯†ç ï¼Œè€Œä¸”ä»–çš„å”¯ä¸€æƒé™å°±æ˜¯é€è´§ï¼Œå…¶ä»–éœ€è¦å¯†ç çš„åœºåˆï¼Œä»–éƒ½æ²¡æœ‰æƒé™ï¼Ÿ\næˆæƒæœºåˆ¶çš„è®¾è®¡\nç¬¬ä¸€æ­¥ï¼Œé—¨ç¦ç³»ç»Ÿçš„å¯†ç è¾“å…¥å™¨ä¸‹é¢ï¼Œå¢åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå«åš&amp;quot;è·å–æˆæƒ&amp;q...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BF%AB%E9%80%92%E5%91%98%E5%9C%BA%E6%99%AF\&#34;&gt;å¿«é€’å‘˜åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8E%88%E6%9D%83%E6%9C%BA%E5%88%B6%E7%9A%84%E8%AE%BE%E8%AE%A1\&#34;&gt;æˆæƒæœºåˆ¶çš„è®¾è®¡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BD%AC%E6%8D%A2%E7%90%86%E8%A7%A3\&#34;&gt;è½¬æ¢ç†è§£&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%85%B3%E4%BA%8Etoken\&#34;&gt;å…³äºToken&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;######Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£#####\n\n#å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„\nuser www www;\n\n#nginxè¿›ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚\nworker_processes 8;\n \n#å…¨å±€é”™è¯¯æ—¥å¿—å®šä¹‰ç±»å‹ï¼Œ[ debug | info | notice | warn | error | crit ]\nerror_log /usr/local/nginx/logs/error.log info;\n\n#è¿›ç¨‹pidæ–‡ä»¶\npid /usr/local/nginx/logs/nginx.pid;\n\n#æŒ‡å®šè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æè¿°ç¬¦ï¼šæ•°ç›®\n#å·¥ä½œæ¨¡å¼ä¸è¿æ¥æ•°ä¸Šé™\n#è¿™ä¸ªæŒ‡ä»¤æ˜¯æŒ‡å½“ä¸€ä¸ªnginxè¿›ç¨‹æ‰“å¼€çš„æœ€å¤šæ–‡ä»¶æè¿°ç¬¦æ•°ç›®ï¼Œç†è®ºå€¼åº”è¯¥æ˜¯æœ€å¤šæ‰“å¼€æ–‡ä»¶æ•°ï¼ˆulimit -nï¼‰ä¸nginxè¿›ç¨‹æ•°ç›¸é™¤ï¼Œä½†æ˜¯nginxåˆ†é…è¯·æ±‚å¹¶ä¸æ˜¯é‚£ä¹ˆå‡åŒ€ï¼Œæ‰€ä»¥æœ€å¥½ä¸ulimit -n çš„å€¼ä¿æŒä¸€è‡´ã€‚\n#ç°åœ¨åœ¨linux 2.6å†…æ ¸ä¸‹å¼€å¯æ–‡ä»¶æ‰“å¼€æ•°ä¸º65535ï¼Œworker_rlimit_nofileå°±ç›¸åº”åº”è¯¥å¡«å†™65535ã€‚\n#è¿™æ˜¯å› ä¸ºnginxè°ƒåº¦æ—¶åˆ†é…è¯·æ±‚åˆ°è¿›ç¨‹å¹¶ä¸æ˜¯é‚£ä¹ˆçš„å‡è¡¡ï¼Œæ‰€ä»¥å‡å¦‚å¡«å†™10240ï¼Œæ€»å¹¶å‘é‡è¾¾åˆ°3-4ä¸‡æ—¶å°±æœ‰è¿›ç¨‹å¯èƒ½è¶…è¿‡10240äº†ï¼Œè¿™æ—¶ä¼šè¿”å›502é”™è¯¯ã€‚\nworker_rlimit_nofile 65535;\n\nevents\n{\n    use epoll;\n\n    #å•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°=è¿æ¥æ•°*è¿›ç¨‹æ•°ï¼‰\n    worker_connections 65535;\n\n    #keepaliveè¶…æ—¶æ—¶é—´ã€‚\n    keepalive_timeout 60;\n\n    #åˆ†é¡µå¤§å°å¯ä»¥ç”¨å‘½ä»¤getconf PAGESIZE å–å¾—ã€‚\n    #getconf PAGESIZE è®¾ç½®ä¸ºè¯¥å€¼çš„æ•´æ•°å€\n    client_header_buffer_size 4k;\n\n    #è¿™ä¸ªå°†ä¸ºæ‰“å¼€æ–‡ä»¶æŒ‡å®šç¼“å­˜ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨çš„ï¼ŒmaxæŒ‡å®šç¼“å­˜æ•°é‡ï¼Œå»ºè®®å’Œæ‰“å¼€æ–‡ä»¶æ•°ä¸€è‡´ï¼Œinactiveæ˜¯æŒ‡ç»è¿‡å¤šé•¿æ—¶é—´æ–‡ä»¶æ²¡è¢«è¯·æ±‚ååˆ é™¤ç¼“å­˜ã€‚\n    open_file_cache max=65535 inactive=60s;\n\n    #è¯­æ³•:open_file_cache_valid time \n    #é»˜è®¤å€¼ 60 \n    #ä½¿ç”¨å­—æ®µ:http, server, location \n    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šäº†ä½•æ—¶éœ€è¦æ£€æŸ¥open_file_cacheä¸­ç¼“å­˜é¡¹ç›®çš„æœ‰æ•ˆä¿¡æ¯.\n    open_file_cache_valid 80s;\n\n    #è¯­æ³•:open_file_cache_min_uses number \n    #é»˜è®¤å€¼: 1 \n    #ä½¿ç”¨å­—æ®µ:http, server, location  \n    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šäº†åœ¨open_file_cacheæŒ‡ä»¤æ— æ•ˆçš„å‚æ•°ä¸­ä¸€å®šçš„æ—¶é—´èŒƒå›´å†…å¯ä»¥ä½¿ç”¨çš„æœ€å°æ–‡ä»¶æ•°,å¦‚æœä½¿ç”¨æ›´å¤§çš„å€¼,æ–‡ä»¶æè¿°ç¬¦åœ¨cacheä¸­æ€»æ˜¯æ‰“å¼€çŠ¶æ€.\n    open_file_cache_min_uses 1;\n    \n    #è¯­æ³•:open_file_cache_errors on | off \n    #é»˜è®¤å€¼: off \n    #ä½¿ç”¨å­—æ®µ:http, server, location \n    #è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šæ˜¯å¦åœ¨æœç´¢ä¸€ä¸ªæ–‡ä»¶æ˜¯è®°å½•cacheé”™è¯¯.\n    open_file_cache_errors on;\n}\n \n#è®¾å®šhttpæœåŠ¡å™¨ï¼Œåˆ©ç”¨å®ƒçš„åå‘ä»£ç†åŠŸèƒ½æä¾›è´Ÿè½½å‡è¡¡æ”¯æŒ\nhttp\n{\n    #æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨\n    include mime.types;\n\n    #é»˜è®¤æ–‡ä»¶ç±»å‹\n    default_type application/octet-stream;\n\n    #é»˜è®¤ç¼–ç \n    #charset utf-8;\n\n    #æœåŠ¡å™¨åå­—çš„hashè¡¨å¤§å°\n    #ä¿å­˜æœåŠ¡å™¨åå­—çš„hashè¡¨æ˜¯ç”±æŒ‡ä»¤server_names_hash_max_size å’Œserver_names_hash_bucket_sizeæ‰€æ§åˆ¶çš„ã€‚å‚æ•°hash bucket sizeæ€»æ˜¯ç­‰äºhashè¡¨çš„å¤§å°ï¼Œå¹¶ä¸”æ˜¯ä¸€è·¯å¤„ç†å™¨ç¼“å­˜å¤§å°çš„å€æ•°ã€‚åœ¨å‡å°‘äº†åœ¨å†…å­˜ä¸­çš„å­˜å–æ¬¡æ•°åï¼Œä½¿åœ¨å¤„ç†å™¨ä¸­åŠ é€ŸæŸ¥æ‰¾hashè¡¨é”®å€¼æˆä¸ºå¯èƒ½ã€‚å¦‚æœhash bucket sizeç­‰äºä¸€è·¯å¤„ç†å™¨ç¼“å­˜çš„å¤§å°ï¼Œé‚£ä¹ˆåœ¨æŸ¥æ‰¾é”®çš„æ—¶å€™ï¼Œæœ€åçš„æƒ…å†µä¸‹åœ¨å†…å­˜ä¸­æŸ¥æ‰¾çš„æ¬¡æ•°ä¸º2ã€‚ç¬¬ä¸€æ¬¡æ˜¯ç¡®å®šå­˜å‚¨å•å…ƒçš„åœ°å€ï¼Œç¬¬äºŒæ¬¡æ˜¯åœ¨å­˜å‚¨å•å…ƒä¸­æŸ¥æ‰¾é”® å€¼ã€‚å› æ­¤ï¼Œå¦‚æœNginxç»™å‡ºéœ€è¦å¢å¤§hash max size æˆ– hash bucket sizeçš„æç¤ºï¼Œé‚£ä¹ˆé¦–è¦çš„æ˜¯å¢å¤§å‰ä¸€ä¸ªå‚æ•°çš„å¤§å°.\n    server_names_hash_bucket_size 128;\n\n    #å®¢æˆ·ç«¯è¯·æ±‚å¤´éƒ¨çš„ç¼“å†²åŒºå¤§å°ã€‚è¿™ä¸ªå¯ä»¥æ ¹æ®ä½ çš„ç³»ç»Ÿåˆ†é¡µå¤§å°æ¥è®¾ç½®ï¼Œä¸€èˆ¬ä¸€ä¸ªè¯·æ±‚çš„å¤´éƒ¨å¤§å°ä¸ä¼šè¶…è¿‡1kï¼Œä¸è¿‡ç”±äºä¸€èˆ¬ç³»ç»Ÿåˆ†é¡µéƒ½è¦å¤§äº1kï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸ºåˆ†é¡µå¤§å°ã€‚åˆ†é¡µå¤§å°å¯ä»¥ç”¨å‘½ä»¤getconf PAGESIZEå–å¾—ã€‚\n    client_header_buffer_size 32k;\n\n    #å®¢æˆ·è¯·æ±‚å¤´ç¼“å†²å¤§å°ã€‚nginxé»˜è®¤ä¼šç”¨client_header_buffer_sizeè¿™ä¸ªbufferæ¥è¯»å–headerå€¼ï¼Œå¦‚æœheaderè¿‡å¤§ï¼Œå®ƒä¼šä½¿ç”¨large_client_header_buffersæ¥è¯»å–ã€‚\n    large_client_header_buffers 4 64k;\n\n    #è®¾å®šé€šè¿‡nginxä¸Šä¼ æ–‡ä»¶çš„å¤§å°\n    client_max_body_size 8m;\n\n    #å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼ŒsendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ã€‚æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹æˆoffã€‚\n    #sendfileæŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨ï¼Œå¿…é¡»è®¾ä¸ºonã€‚å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œIOå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿuptimeã€‚\n    sendfile on;\n\n    #å¼€å¯ç›®å½•åˆ—è¡¨è®¿é—®ï¼Œåˆé€‚ä¸‹è½½æœåŠ¡å™¨ï¼Œé»˜è®¤å…³é—­ã€‚\n    autoindex on;\n\n    #æ­¤é€‰é¡¹å…è®¸æˆ–ç¦æ­¢ä½¿ç”¨sockeçš„TCP_CORKçš„é€‰é¡¹ï¼Œæ­¤é€‰é¡¹ä»…åœ¨ä½¿ç”¨sendfileçš„æ—¶å€™ä½¿ç”¨\n    tcp_nopush on;\n    tcp_nodelay on;\n\n    #é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’\n    keepalive_timeout 120;\n\n    #FastCGIç›¸å…³å‚æ•°æ˜¯ä¸ºäº†æ”¹å–„ç½‘ç«™çš„æ€§èƒ½ï¼šå‡å°‘èµ„æºå ç”¨ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ä¸‹é¢å‚æ•°çœ‹å­—é¢æ„æ€éƒ½èƒ½ç†è§£ã€‚\n    fastcgi_connect_timeout 300;\n    fastcgi_send_timeout 300;\n    fastcgi_read_timeout 300;\n    fastcgi_buffer_size 64k;\n    fastcgi_buffers 4 64k;\n    fastcgi_busy_buffers_size 128k;\n    fastcgi_temp_file_write_size 128k;\n\n    #gzipæ¨¡å—è®¾ç½®\n    gzip on;               #å¼€å¯gzipå‹ç¼©è¾“å‡º\n    gzip_min_length 1k;    #æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°\n    gzip_buffers 4 16k;    #å‹ç¼©ç¼“å†²åŒº\n    gzip_http_version 1.0; #å‹ç¼©ç‰ˆæœ¬ï¼ˆé»˜è®¤1.1ï¼Œå‰ç«¯å¦‚æœæ˜¯squid2.5è¯·ä½¿ç”¨1.0ï¼‰\n    gzip_comp_level 2;     #å‹ç¼©ç­‰çº§\n    gzip_types text/plain application/x-javascript text/css application/xml;    #å‹ç¼©ç±»å‹ï¼Œé»˜è®¤å°±å·²ç»åŒ…å«textmlï¼Œæ‰€ä»¥ä¸‹é¢å°±ä¸ç”¨å†å†™äº†ï¼Œå†™ä¸Šå»ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªwarnã€‚\n    gzip_vary on;\n\n    #å¼€å¯é™åˆ¶IPè¿æ¥æ•°çš„æ—¶å€™éœ€è¦ä½¿ç”¨\n    #limit_zone crawler $binary_remote_addr 10m;\n\n    #è´Ÿè½½å‡è¡¡é…ç½®\n    upstream piao.jd.com {\n        #upstreamçš„è´Ÿè½½å‡è¡¡ï¼Œweightæ˜¯æƒé‡ï¼Œå¯ä»¥æ ¹æ®æœºå™¨é…ç½®å®šä¹‰æƒé‡ã€‚weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§ã€‚\n        server 192.168.80.121:80 weight=3;\n        server 192.168.80.122:80 weight=2;\n        server 192.168.80.123:80 weight=3;\n\n        #nginxçš„upstreamç›®å‰æ”¯æŒ4ç§æ–¹å¼çš„åˆ†é…\n        #1ã€è½®è¯¢ï¼ˆé»˜è®¤ï¼‰\n        #æ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡å™¨downæ‰ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚\n        #2ã€weight\n        #æŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œweightå’Œè®¿é—®æ¯”ç‡æˆæ­£æ¯”ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µã€‚\n        #2ã€ip_hash\n        #æ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—®ipçš„hashç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³sessionçš„é—®é¢˜ã€‚\n        #ä¾‹å¦‚ï¼š\n        #upstream bakend {\n        #    ip_hash;\n        #    server 192.168.0.14:88;\n        #    server 192.168.0.15:80;\n        #}\n        #3ã€fairï¼ˆç¬¬ä¸‰æ–¹ï¼‰\n        #æŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚\n        #upstream backend {\n        #    server server1;\n        #    server server2;\n        #    fair;\n        #}\n        #4ã€url_hashï¼ˆç¬¬ä¸‰æ–¹ï¼‰\n        #æŒ‰è®¿é—®urlçš„hashç»“æœæ¥åˆ†é…è¯·æ±‚ï¼Œä½¿æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨ä¸ºç¼“å­˜æ—¶æ¯”è¾ƒæœ‰æ•ˆã€‚\n        #ä¾‹ï¼šåœ¨upstreamä¸­åŠ å…¥hashè¯­å¥ï¼Œserverè¯­å¥ä¸­ä¸èƒ½å†™å…¥weightç­‰å…¶ä»–çš„å‚æ•°ï¼Œhash_methodæ˜¯ä½¿ç”¨çš„hashç®—æ³•\n        #upstream backend {\n        #    server squid1:3128;\n        #    server squid2:3128;\n        #    hash $request_uri;\n        #    hash_method crc32;\n        #}\n\n        #tips:\n        #upstream bakend{#å®šä¹‰è´Ÿè½½å‡è¡¡è®¾å¤‡çš„IpåŠè®¾å¤‡çŠ¶æ€}{\n        #    ip_hash;\n        #    server 127.0.0.1:9090 down;\n        #    server 127.0.0.1:8080 weight=2;\n        #    server 127.0.0.1:6060;\n        #    server 127.0.0.1:7070 backup;\n        #}\n        #åœ¨éœ€è¦ä½¿ç”¨è´Ÿè½½å‡è¡¡çš„serverä¸­å¢åŠ  proxy_pass http://bakend/;\n\n        #æ¯ä¸ªè®¾å¤‡çš„çŠ¶æ€è®¾ç½®ä¸º:\n        #1.downè¡¨ç¤ºå•å‰çš„serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½\n        #2.weightä¸ºweightè¶Šå¤§ï¼Œè´Ÿè½½çš„æƒé‡å°±è¶Šå¤§ã€‚\n        #3.max_failsï¼šå…è®¸è¯·æ±‚å¤±è´¥çš„æ¬¡æ•°é»˜è®¤ä¸º1.å½“è¶…è¿‡æœ€å¤§æ¬¡æ•°æ—¶ï¼Œè¿”å›proxy_next_upstreamæ¨¡å—å®šä¹‰çš„é”™è¯¯\n        #4.fail_timeout:max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœçš„æ—¶é—´ã€‚\n        #5.backupï¼š å…¶å®ƒæ‰€æœ‰çš„ébackupæœºå™¨downæˆ–è€…å¿™çš„æ—¶å€™ï¼Œè¯·æ±‚backupæœºå™¨ã€‚æ‰€ä»¥è¿™å°æœºå™¨å‹åŠ›ä¼šæœ€è½»ã€‚\n\n        #nginxæ”¯æŒåŒæ—¶è®¾ç½®å¤šç»„çš„è´Ÿè½½å‡è¡¡ï¼Œç”¨æ¥ç»™ä¸ç”¨çš„serveræ¥ä½¿ç”¨ã€‚\n        #client_body_in_file_onlyè®¾ç½®ä¸ºOn å¯ä»¥è®²client postè¿‡æ¥çš„æ•°æ®è®°å½•åˆ°æ–‡ä»¶ä¸­ç”¨æ¥åšdebug\n        #client_body_temp_pathè®¾ç½®è®°å½•æ–‡ä»¶çš„ç›®å½• å¯ä»¥è®¾ç½®æœ€å¤š3å±‚ç›®å½•\n        #locationå¯¹URLè¿›è¡ŒåŒ¹é….å¯ä»¥è¿›è¡Œé‡å®šå‘æˆ–è€…è¿›è¡Œæ–°çš„ä»£ç† è´Ÿè½½å‡è¡¡\n    }\n     \n     \n     \n    #è™šæ‹Ÿä¸»æœºçš„é…ç½®\n    server\n    {\n        #ç›‘å¬ç«¯å£\n        listen 80;\n\n        #åŸŸåå¯ä»¥æœ‰å¤šä¸ªï¼Œç”¨ç©ºæ ¼éš”å¼€\n        server_name www.jd.com jd.com;\n        index index.html index.htm index.php;\n        root /data/www/jd;\n\n        #å¯¹******è¿›è¡Œè´Ÿè½½å‡è¡¡\n        location ~ .*.(php|php5)?$\n        {\n            fastcgi_pass 127.0.0.1:9000;\n            fastcgi_index index.php;\n            include fastcgi.conf;\n        }\n         \n        #å›¾ç‰‡ç¼“å­˜æ—¶é—´è®¾ç½®\n        location ~ .*.(gif|jpg|jpeg|png|bmp|swf)$\n        {\n            expires 10d;\n        }\n         \n        #JSå’ŒCSSç¼“å­˜æ—¶é—´è®¾ç½®\n        location ~ .*.(js|css)?$\n        {\n            expires 1h;\n        }\n         \n        #æ—¥å¿—æ ¼å¼è®¾å®š\n        #$remote_addrä¸$http_x_forwarded_forç”¨ä»¥è®°å½•å®¢æˆ·ç«¯çš„ipåœ°å€ï¼›\n        #$remote_userï¼šç”¨æ¥è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°ï¼›\n        #$time_localï¼š ç”¨æ¥è®°å½•è®¿é—®æ—¶é—´ä¸æ—¶åŒºï¼›\n        #$requestï¼š ç”¨æ¥è®°å½•è¯·æ±‚çš„urlä¸httpåè®®ï¼›\n        #$statusï¼š ç”¨æ¥è®°å½•è¯·æ±‚çŠ¶æ€ï¼›æˆåŠŸæ˜¯200ï¼Œ\n        #$body_bytes_sent ï¼šè®°å½•å‘é€ç»™å®¢æˆ·ç«¯æ–‡ä»¶ä¸»ä½“å†…å®¹å¤§å°ï¼›\n        #$http_refererï¼šç”¨æ¥è®°å½•ä»é‚£ä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„ï¼›\n        #$http_user_agentï¼šè®°å½•å®¢æˆ·æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯ï¼›\n        #é€šå¸¸webæœåŠ¡å™¨æ”¾åœ¨åå‘ä»£ç†çš„åé¢ï¼Œè¿™æ ·å°±ä¸èƒ½è·å–åˆ°å®¢æˆ·çš„IPåœ°å€äº†ï¼Œé€šè¿‡$remote_addæ‹¿åˆ°çš„IPåœ°å€æ˜¯åå‘ä»£ç†æœåŠ¡å™¨çš„iPåœ°å€ã€‚åå‘ä»£ç†æœåŠ¡å™¨åœ¨è½¬å‘è¯·æ±‚çš„httpå¤´ä¿¡æ¯ä¸­ï¼Œå¯ä»¥å¢åŠ x_forwarded_forä¿¡æ¯ï¼Œç”¨ä»¥è®°å½•åŸæœ‰å®¢æˆ·ç«¯çš„IPåœ°å€å’ŒåŸæ¥å®¢æˆ·ç«¯çš„è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€ã€‚\n        log_format access &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;\n        &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;\n        &#39;&amp;quot;$http_user_agent&amp;quot; $http_x_forwarded_for&#39;;\n         \n        #å®šä¹‰æœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—\n        access_log  /usr/local/nginx/logs/host.access.log  main;\n        access_log  /usr/local/nginx/logs/host.access.404.log  log404;\n         \n        #å¯¹ &amp;quot;/&amp;quot; å¯ç”¨åå‘ä»£ç†\n        location / {\n            proxy_pass http://127.0.0.1:88;\n            proxy_redirect off;\n            proxy_set_header X-Real-IP $remote_addr;\n             \n            #åç«¯çš„WebæœåŠ¡å™¨å¯ä»¥é€šè¿‡X-Forwarded-Forè·å–ç”¨æˆ·çœŸå®IP\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n             \n            #ä»¥ä¸‹æ˜¯ä¸€äº›åå‘ä»£ç†çš„é…ç½®ï¼Œå¯é€‰ã€‚\n            proxy_set_header Host $host;\n\n            #å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å•æ–‡ä»¶å­—èŠ‚æ•°\n            client_max_body_size 10m;\n\n            #ç¼“å†²åŒºä»£ç†ç¼“å†²ç”¨æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•°ï¼Œ\n            #å¦‚æœæŠŠå®ƒè®¾ç½®ä¸ºæ¯”è¾ƒå¤§çš„æ•°å€¼ï¼Œä¾‹å¦‚256kï¼Œé‚£ä¹ˆï¼Œæ— è®ºä½¿ç”¨firefoxè¿˜æ˜¯IEæµè§ˆå™¨ï¼Œæ¥æäº¤ä»»æ„å°äº256kçš„å›¾ç‰‡ï¼Œéƒ½å¾ˆæ­£å¸¸ã€‚å¦‚æœæ³¨é‡Šè¯¥æŒ‡ä»¤ï¼Œä½¿ç”¨é»˜è®¤çš„client_body_buffer_sizeè®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ“ä½œç³»ç»Ÿé¡µé¢å¤§å°çš„ä¸¤å€ï¼Œ8kæˆ–è€…16kï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚\n            #æ— è®ºä½¿ç”¨firefox4.0è¿˜æ˜¯IE8.0ï¼Œæäº¤ä¸€ä¸ªæ¯”è¾ƒå¤§ï¼Œ200kå·¦å³çš„å›¾ç‰‡ï¼Œéƒ½è¿”å›500 Internal Server Erroré”™è¯¯\n            client_body_buffer_size 128k;\n\n            #è¡¨ç¤ºä½¿nginxé˜»æ­¢HTTPåº”ç­”ä»£ç ä¸º400æˆ–è€…æ›´é«˜çš„åº”ç­”ã€‚\n            proxy_intercept_errors on;\n\n            #åç«¯æœåŠ¡å™¨è¿æ¥çš„è¶…æ—¶æ—¶é—´_å‘èµ·æ¡æ‰‹ç­‰å€™å“åº”è¶…æ—¶æ—¶é—´\n            #nginxè·Ÿåç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´(ä»£ç†è¿æ¥è¶…æ—¶)\n            proxy_connect_timeout 90;\n\n            #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´(ä»£ç†å‘é€è¶…æ—¶)\n            #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´_å°±æ˜¯åœ¨è§„å®šæ—¶é—´ä¹‹å†…åç«¯æœåŠ¡å™¨å¿…é¡»ä¼ å®Œæ‰€æœ‰çš„æ•°æ®\n            proxy_send_timeout 90;\n\n            #è¿æ¥æˆåŠŸåï¼Œåç«¯æœåŠ¡å™¨å“åº”æ—¶é—´(ä»£ç†æ¥æ”¶è¶…æ—¶)\n            #è¿æ¥æˆåŠŸå_ç­‰å€™åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´_å…¶å®å·²ç»è¿›å…¥åç«¯çš„æ’é˜Ÿä¹‹ä¸­ç­‰å€™å¤„ç†ï¼ˆä¹Ÿå¯ä»¥è¯´æ˜¯åç«¯æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„æ—¶é—´ï¼‰\n            proxy_read_timeout 90;\n\n            #è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼ˆnginxï¼‰ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å°\n            #è®¾ç½®ä»è¢«ä»£ç†æœåŠ¡å™¨è¯»å–çš„ç¬¬ä¸€éƒ¨åˆ†åº”ç­”çš„ç¼“å†²åŒºå¤§å°ï¼Œé€šå¸¸æƒ…å†µä¸‹è¿™éƒ¨åˆ†åº”ç­”ä¸­åŒ…å«ä¸€ä¸ªå°çš„åº”ç­”å¤´ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªå€¼çš„å¤§å°ä¸ºæŒ‡ä»¤proxy_buffersä¸­æŒ‡å®šçš„ä¸€ä¸ªç¼“å†²åŒºçš„å¤§å°ï¼Œä¸è¿‡å¯ä»¥å°†å…¶è®¾ç½®ä¸ºæ›´å°\n            proxy_buffer_size 4k;\n\n            #proxy_buffersç¼“å†²åŒºï¼Œç½‘é¡µå¹³å‡åœ¨32kä»¥ä¸‹çš„è®¾ç½®\n            #è®¾ç½®ç”¨äºè¯»å–åº”ç­”ï¼ˆæ¥è‡ªè¢«ä»£ç†æœåŠ¡å™¨ï¼‰çš„ç¼“å†²åŒºæ•°ç›®å’Œå¤§å°ï¼Œé»˜è®¤æƒ…å†µä¹Ÿä¸ºåˆ†é¡µå¤§å°ï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿçš„ä¸åŒå¯èƒ½æ˜¯4kæˆ–è€…8k\n            proxy_buffers 4 32k;\n\n            #é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°ï¼ˆproxy_buffers*2ï¼‰\n            proxy_busy_buffers_size 64k;\n\n            #è®¾ç½®åœ¨å†™å…¥proxy_temp_pathæ—¶æ•°æ®çš„å¤§å°ï¼Œé¢„é˜²ä¸€ä¸ªå·¥ä½œè¿›ç¨‹åœ¨ä¼ é€’æ–‡ä»¶æ—¶é˜»å¡å¤ªé•¿\n            #è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°ï¼Œå¤§äºè¿™ä¸ªå€¼ï¼Œå°†ä»upstreamæœåŠ¡å™¨ä¼ \n            proxy_temp_file_write_size 64k;\n        }\n         \n        #è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€\n        location /NginxStatus {\n            stub_status on;\n            access_log on;\n            auth_basic &amp;quot;NginxStatus&amp;quot;;\n            auth_basic_user_file confpasswd;\n            #htpasswdæ–‡ä»¶çš„å†…å®¹å¯ä»¥ç”¨apacheæä¾›çš„htpasswdå·¥å…·æ¥äº§ç”Ÿã€‚\n        }\n         \n        #æœ¬åœ°åŠ¨é™åˆ†ç¦»åå‘ä»£ç†é…ç½®\n        #æ‰€æœ‰jspçš„é¡µé¢å‡äº¤ç”±tomcatæˆ–resinå¤„ç†\n        location ~ .(jsp|jspx|do)?$ {\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_pass http://127.0.0.1:8080;\n        }\n         \n        #æ‰€æœ‰é™æ€æ–‡ä»¶ç”±nginxç›´æ¥è¯»å–ä¸ç»è¿‡tomcatæˆ–resin\n        location ~ .*.(htm|html|gif|jpg|jpeg|png|bmp|swf|ioc|rar|zip|txt|flv|mid|doc|ppt|\n        pdf|xls|mp3|wma)$\n        {\n            expires 15d; \n        }\n         \n        location ~ .*.(js|css)?$\n        {\n            expires 1h;\n        }\n    }\n}\n######Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£#####\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;nginx-pei-zhi-wen-jian-xiang-jie&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Nginxé…ç½®æ–‡ä»¶è¯¦è§£&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;Nginx&#34;,&#34;slug&#34;:&#34;0UDqNZrMg&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/0UDqNZrMg/&#34;}],&#34;date&#34;:&#34;2021-02-03 14:15:08&#34;,&#34;dateFormat&#34;:&#34;2021-02-03&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/nginx-pei-zhi-wen-jian-xiang-jie/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;13 min read&#34;,&#34;time&#34;:731000,&#34;words&#34;:3112,&#34;minutes&#34;:13},&#34;description&#34;:&#34;######Nginxé…ç½®æ–‡ä»¶nginx.confä¸­æ–‡è¯¦è§£#####\n\n#å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„\nuser www www;\n\n#nginxè¿›ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚\nworker_processes 8;\n \n#å…¨å±€...&#34;,&#34;toc&#34;:&#34;&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;ç«¯å£æ‰«æ\&#34;&gt;ç«¯å£æ‰«æ&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# nc -vz -w 5 127.0.0.1 1-1024   // æ‰«ææœ¬åœ°1-1024ç«¯å£èŒƒå›´\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ç›‘å¬ç«¯å£\&#34;&gt;ç›‘å¬ç«¯å£&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# nc -l 8000     // ç›‘å¬TCPç«¯å£\n# nc -ul 9999    // ç›‘å¬UDPç«¯å£\n# nc -vuz 127.0.0.1 9999   // æµ‹è¯•æœ¬åœ°UDPç«¯å£\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¼ è¾“æ–‡ä»¶\&#34;&gt;ä¼ è¾“æ–‡ä»¶&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1.ä¸Šä¼ \n# nc -l 9999 &amp;gt; filename\n# nc 127.0.0.1 9999 &amp;lt; source\n\n2.ä¸‹è½½\n# nc -l 9999 &amp;lt; filename\n# nc 127.0.0.1 9999 &amp;gt; target\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;nc-ming-ling-shi-yong&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;ncå‘½ä»¤ä½¿ç”¨&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-02-03 09:27:30&#34;,&#34;dateFormat&#34;:&#34;2021-02-03&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/nc-ming-ling-shi-yong/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:28000,&#34;words&#34;:94,&#34;minutes&#34;:1},&#34;description&#34;:&#34;ç«¯å£æ‰«æ\n# nc -vz -w 5 127.0.0.1 1-1024   // æ‰«ææœ¬åœ°1-1024ç«¯å£èŒƒå›´\n\nç›‘å¬ç«¯å£\n# nc -l 8000     // ç›‘å¬TCPç«¯å£\n# nc -ul 9999    // ç›‘å¬UDPç«¯å£\n# ...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F\&#34;&gt;ç«¯å£æ‰«æ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3\&#34;&gt;ç›‘å¬ç«¯å£&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6\&#34;&gt;ä¼ è¾“æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„å¯¹äºæ›´æ”¹raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•\&#34;&gt;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ï¼Œä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„ï¼Œå¯¹äºæ›´æ”¹Raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•ã€‚&lt;/h3&gt;\n&lt;h3 id=\&#34;è·å–å¸®åŠ©ä¿¡æ¯\&#34;&gt;è·å–å¸®åŠ©ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 -h\n     Storage Command Line Tool  Ver 1.23.02 Mar 28, 2017\n\n     (c)Copyright 2017, AVAGO Corporation, All Rights Reserved.\n\nstorcli -v \nstorcli -h| -help| ? \nstorcli -h| -help| ? legacy\nstorcli show \nstorcli show all\nstorcli show ctrlcount\nstorcli show file=&amp;lt;filepath&amp;gt;\nstorcli /cx add vd r[0|1|5|6|00|10|50|60]\n...\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ˜¾ç¤ºraidå¡ç›¸å…³ä¿¡æ¯\&#34;&gt;æ˜¾ç¤ºRaidå¡ç›¸å…³ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 show all\nStatus Code = 0\nStatus = Success\nDescription = None\n\nNumber of Controllers = 1\nHost Name = A-f8f21e93eca4-nas014\nOperating System  = Linux3.10.0-1062.el7.x86_64\n\nSystem Overview :\n===============\n\n-------------------------------------------------------------------------------------\nCtl Model                   Ports PDs DGs DNOpt VDs VNOpt BBU sPR DS  EHS ASOs Hlth  \n-------------------------------------------------------------------------------------\n  0 AVAGOMegaRAIDSAS9361-8i     8  25   2     1   2     1 Opt On  1&amp;amp;2 Y      3 NdAtn \n-------------------------------------------------------------------------------------\n\nCtl=Controller Index|DGs=Drive groups|VDs=Virtual drives|Fld=Failed\nPDs=Physical drives|DNOpt=DG NotOptimal|VNOpt=VD NotOptimal|Opt=Optimal\nMsng=Missing|Dgd=Degraded|NdAtn=Need Attention|Unkwn=Unknown\nsPR=Scheduled Patrol Read|DS=DimmerSwitch|EHS=Emergency Hot Spare\nY=Yes|N=No|ASOs=Advanced Software Options|BBU=Battery backup unit\nHlth=Health|Safe=Safe-mode boot\n\n# è¿™é‡Œçš„optimalè¡¨ç¤ºæ˜¯å¦æ˜¯æœ€ä¼˜çŠ¶æ€\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ˜¾ç¤ºæ§åˆ¶å™¨ä¿¡æ¯\&#34;&gt;æ˜¾ç¤ºæ§åˆ¶å™¨ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 show   //è¿™é‡Œc0è¡¨ç¤ºç¬¬ä¸€ä¸ªæ§åˆ¶å™¨\nGenerating detailed summary of the adapter, it may take a while to complete.\n\nController = 0\n...çœç•¥\nDevice Number = 0\nFunction Number = 0\nDrive Groups = 2\n\nTOPOLOGY :\n========\n\n-----------------------------------------------------------------------------\nDG Arr Row EID:Slot DID Type  State BT       Size PDC  PI SED DS3  FSpace TR \n-----------------------------------------------------------------------------\n ... çœç•¥\n 1 0   12  10:12    37  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  \n 1 0   13  10:13    36  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  \n 1 0   14  10:14    46  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  \n 1 0   15  -        -   DRIVE Msng  -   14.551 TB -    -  -   -    -      N  \n 1 0   16  10:16    38  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  \n 1 0   17  10:17    35  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N  \n 1 0   18  10:18    45  DRIVE Onln  Y   14.551 TB dflt N  N   dflt -      N    \n-----------------------------------------------------------------------------\n... çœç•¥\n\nMissing Drives Count = 1\n\n# è¿™é‡Œæç¤ºæˆ‘ä»¬æœ‰ä¸€å—ç›˜ä¸¢å¤±ï¼Œéœ€è¦è¿›è¡Œå¤„ç†\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ˜¾ç¤ºå‰©ä½™ç©ºé—´\&#34;&gt;æ˜¾ç¤ºå‰©ä½™ç©ºé—´&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 show freespace\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ˜¾ç¤ºccconsistency-check\&#34;&gt;æ˜¾ç¤ºCCï¼ˆConsistency Checkï¼‰&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 show cc\nController = 0\nStatus = Success\nDescription = None\n\nController Properties :\n=====================\n\n-----------------------------------------------\nCtrl_Prop                 Value                \n-----------------------------------------------\nCC Operation Mode         Concurrent           \nCC Execution Delay        168                  \nCC Next Starttime         02/04/2021, 15:00:00 \nCC Current State          Stopped              \nCC Number of iterations   15                   \nCC Number of VD completed 1                    \nCC Excluded VDs           None                 \n-----------------------------------------------\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ˜¾ç¤ºccé€Ÿç‡\&#34;&gt;æ˜¾ç¤ºCCé€Ÿç‡&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 show ccrate\nController = 0\nStatus = Success\nDescription = None\n\n\nController Properties :\n=====================\n\n----------------\nCtrl_Prop Value \n----------------\nCC Rate   30%   \n----------------\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æŸ¥çœ‹ä¸è®¾ç½®rebuildé€Ÿç‡\&#34;&gt;æŸ¥çœ‹ä¸è®¾ç½®Rebuildé€Ÿç‡&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 show rebuildrate     //æŸ¥çœ‹é€Ÿç‡\n# ./storcli64 /c0 set rebuildrate=30   //è®¾ç½®é€Ÿç‡\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;æ¸…é™¤raidå¡ç‰©ç†ç£ç›˜cache\&#34;&gt;æ¸…é™¤Raidå¡ï¼Œç‰©ç†ç£ç›˜Cache&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0 flushcache\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è·å–æ‰€æœ‰enclosureä¿¡æ¯\&#34;&gt;è·å–æ‰€æœ‰enclosureä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0/eall show\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è·å–å•ä¸ªenclosureä¿¡æ¯\&#34;&gt;è·å–å•ä¸ªenclosureä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0/e10 show &amp;lt;all&amp;gt;    //åŠ ä¸Šallå‚æ•°è¡¨ç¤ºè·å–è¯¦ç»†ä¿¡æ¯\n# ./strocli64 /c0/e10 show status   //è·å–é£æ‰‡ç­‰è®¾å¤‡è¯¦ç»†ä¿¡æ¯\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;è·å–æ‰€æœ‰ç£ç›˜è¯¦ç»†ä¿¡æ¯\&#34;&gt;è·å–æ‰€æœ‰ç£ç›˜è¯¦ç»†ä¿¡æ¯&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0/eall/sall show\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;å·ç»„ä¿¡æ¯è·å–\&#34;&gt;å·ç»„ä¿¡æ¯è·å–&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ./storcli64 /c0/dall show   // è¿™é‡Œçš„å·ç»„ç§°ä¸ºDG\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;å‚è€ƒæ–‡çŒ®\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;\n&lt;p&gt;https://www.cnblogs.com/luxiaodai/p/9878747.html&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;storcli-gong-ju-shi-yong-shuo-ming&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;StorCLIå·¥å…·ä½¿ç”¨è¯´æ˜&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;å·¥å…·ä½¿ç”¨&#34;,&#34;slug&#34;:&#34;ETGdbG1UX&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/ETGdbG1UX/&#34;}],&#34;date&#34;:&#34;2021-02-01 09:59:11&#34;,&#34;dateFormat&#34;:&#34;2021-02-01&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/storcli-gong-ju-shi-yong-shuo-ming/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:215000,&#34;words&#34;:669,&#34;minutes&#34;:4},&#34;description&#34;:&#34;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ï¼Œä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„ï¼Œå¯¹äºæ›´æ”¹Raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•ã€‚\nè·å–å¸®åŠ©ä¿¡æ¯\n# ./storcli64 -h\n     Storage Command Line Tool  Ver 1.23....&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8Bstorcli%E5%B7%A5%E5%85%B7%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%E7%9B%91%E6%8E%A7%E7%9B%AE%E7%9A%84%E5%AF%B9%E4%BA%8E%E6%9B%B4%E6%94%B9raid%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E6%9A%82%E6%97%B6%E4%B8%8D%E5%9C%A8%E8%BF%99%E9%87%8C%E8%AE%B0%E5%BD%95\&#34;&gt;è®°å½•ä¸€ä¸‹storcliå·¥å…·çš„åŸºæœ¬æŸ¥è¯¢æ–¹æ³•ï¼Œä¸»è¦ç”¨äºå®ç°ç›‘æ§ç›®çš„ï¼Œå¯¹äºæ›´æ”¹Raidçš„ç›¸å…³å‘½ä»¤æš‚æ—¶ä¸åœ¨è¿™é‡Œè®°å½•ã€‚&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF\&#34;&gt;è·å–å¸®åŠ©ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%98%BE%E7%A4%BAraid%E5%8D%A1%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF\&#34;&gt;æ˜¾ç¤ºRaidå¡ç›¸å…³ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%98%BE%E7%A4%BA%E6%8E%A7%E5%88%B6%E5%99%A8%E4%BF%A1%E6%81%AF\&#34;&gt;æ˜¾ç¤ºæ§åˆ¶å™¨ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%98%BE%E7%A4%BA%E5%89%A9%E4%BD%99%E7%A9%BA%E9%97%B4\&#34;&gt;æ˜¾ç¤ºå‰©ä½™ç©ºé—´&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%98%BE%E7%A4%BAccconsistency-check\&#34;&gt;æ˜¾ç¤ºCCï¼ˆConsistency Checkï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%98%BE%E7%A4%BAcc%E9%80%9F%E7%8E%87\&#34;&gt;æ˜¾ç¤ºCCé€Ÿç‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9F%A5%E7%9C%8B%E4%B8%8E%E8%AE%BE%E7%BD%AErebuild%E9%80%9F%E7%8E%87\&#34;&gt;æŸ¥çœ‹ä¸è®¾ç½®Rebuildé€Ÿç‡&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B8%85%E9%99%A4raid%E5%8D%A1%E7%89%A9%E7%90%86%E7%A3%81%E7%9B%98cache\&#34;&gt;æ¸…é™¤Raidå¡ï¼Œç‰©ç†ç£ç›˜Cache&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89enclosure%E4%BF%A1%E6%81%AF\&#34;&gt;è·å–æ‰€æœ‰enclosureä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E5%8D%95%E4%B8%AAenclosure%E4%BF%A1%E6%81%AF\&#34;&gt;è·å–å•ä¸ªenclosureä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E7%A3%81%E7%9B%98%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF\&#34;&gt;è·å–æ‰€æœ‰ç£ç›˜è¯¦ç»†ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8D%B7%E7%BB%84%E4%BF%A1%E6%81%AF%E8%8E%B7%E5%8F%96\&#34;&gt;å·ç»„ä¿¡æ¯è·å–&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;äº‹åŠ¡æäº¤æµç¨‹\&#34;&gt;äº‹åŠ¡æäº¤æµç¨‹&lt;/h2&gt;\n&lt;h3 id=\&#34;å¤§è‡´æµç¨‹å¦‚ä¸‹\&#34;&gt;å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š&lt;/h3&gt;\n&lt;p&gt;æœ‰binlogçš„æƒ…å†µä¸‹ï¼ŒcommitåŠ¨ä½œå¼€å§‹æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªRedo XIDå†™å…¥redoï¼Œç„¶åå†™dataåˆ°binlogï¼Œbinlogå†™æˆåŠŸåï¼Œä¼šå°†binlogçš„filenameå’Œæ—¥å¿—å†™çš„positionå†å†™å›redoï¼ˆpositionä¹Ÿä¼šå†™å…¥posæ–‡ä»¶ï¼‰ï¼Œæ­¤æ—¶äº‹åŠ¡å®Œæˆï¼ˆcommittedï¼‰ã€‚å¦‚æœåªæœ‰XIDï¼Œæ²¡æœ‰filenameå’Œpositionï¼Œåˆ™è¡¨ç¤ºäº‹åŠ¡ä¸ºprepareçŠ¶æ€ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;æµç¨‹\&#34;&gt;æµç¨‹ï¼š&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# commit; --&amp;gt; write XID to redo. --&amp;gt; write data to Binlog. --&amp;gt; write filename,postsion of binlog to redo. --&amp;gt; commited.\n# è®°å½•Binlogæ˜¯åœ¨InnoDBå¼•æ“Prepareï¼ˆå³Redo Logå†™å…¥ç£ç›˜ï¼‰ä¹‹åï¼Œè¿™ç‚¹è‡³å…³é‡è¦ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://esp0x.github.io/post-images/1610962074302.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h3 id=\&#34;ä¸åŒé˜¶æ®µcrashçš„æƒ…å†µ\&#34;&gt;ä¸åŒé˜¶æ®µcrashçš„æƒ…å†µï¼š&lt;/h3&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;crashå‘ç”Ÿé˜¶æ®µ&lt;/th&gt;\n&lt;th&gt;äº‹åŠ¡çŠ¶æ€&lt;/th&gt;\n&lt;th&gt;äº‹åŠ¡ç»“æœ&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;å½“äº‹åŠ¡åœ¨prepareé˜¶æ®µcrash&lt;/td&gt;\n&lt;td&gt;è¯¥äº‹åŠ¡æœªå†™å…¥binlogï¼Œå¼•æ“å±‚ä¹Ÿæœªå†™å…¥redoåˆ°ç£ç›˜&lt;/td&gt;\n&lt;td&gt;è¯¥äº‹åŠ¡rollback&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;å½“äº‹åŠ¡åœ¨binlogå†™é˜¶æ®µcrash&lt;/td&gt;\n&lt;td&gt;æ­¤æ—¶å¼•æ“å±‚redoå†™ç›˜å®Œæˆï¼Œä½†binlogæ—¥å¿—è¿˜æœªè½ç›˜&lt;/td&gt;\n&lt;td&gt;è¯¥äº‹åŠ¡rollback&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;å½“äº‹åŠ¡åœ¨binlogæ—¥å¿—å†™å…¥ç£ç›˜åcrashï¼Œä½†å¼•æ“å±‚æœªæ¥å¾—åŠcommit&lt;/td&gt;\n&lt;td&gt;æ­¤æ—¶å¼•æ“å±‚redoå·²ç»å†™ç›˜ï¼Œserverå±‚binlogå·²ç»å†™ç›˜ï¼Œä½†redoä¸­äº‹åŠ¡çŠ¶æ€æœªæ­£ç¡®ç»“æŸ&lt;/td&gt;\n&lt;td&gt;è¯»å‡ºbinlogä¸­çš„XIDï¼Œå¹¶é€šçŸ¥å¼•æ“å±‚æäº¤è¿™äº›XIDçš„äº‹åŠ¡ã€‚å¼•æ“å±‚æäº¤è¿™äº›äº‹åŠ¡åï¼Œä¼šå›æ»šå…¶ä»–äº‹åŠ¡ï¼Œä½¿å¼•æ“å±‚redoå’Œbinlogæ—¥å¿—åœ¨äº‹åŠ¡ä¸Šå§‹ç»ˆä¿æŒä¸€è‡´ã€‚äº‹åŠ¡é€šè¿‡recoveryè‡ªåŠ¨å®Œæˆæäº¤&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h2 id=\&#34;walæœºåˆ¶\&#34;&gt;WALæœºåˆ¶&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;WALï¼ˆWrite Ahead Logï¼‰ï¼šå¯¹æ•°æ®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å‰ï¼Œå¿…é¡»å°†ä¿®æ”¹å…ˆè®°å½•åˆ°æ—¥å¿—ã€‚&lt;/li&gt;\n&lt;li&gt;Redo logå°±æ˜¯ä¸€ç§WALåº”ç”¨ï¼Œç”¨äºä¿è¯æ•°æ®åº“çš„æŒä¹…æ€§ï¼Œæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ç”¨åŒæ­¥åˆ·æ–°ç£ç›˜ï¼Œåªéœ€è¦åˆ·æ–°redo logå°±è¡Œäº†ã€‚ç›¸æ¯”åˆ·ç›˜çš„éšæœºIOï¼Œå†™redo logçš„é¡ºåºIOèƒ½å¤Ÿæå‡äº‹åŠ¡æäº¤é€Ÿåº¦ã€‚&lt;/li&gt;\n&lt;li&gt;ç»„æäº¤ï¼š\n&lt;ol&gt;\n&lt;li&gt;æœªå¼€å¯binlogï¼šredo logçš„åˆ·ç›˜æ“ä½œæ˜¯ä¸»è¦ç“¶é¢ˆï¼Œmysqlä½¿ç”¨ç»„æäº¤ï¼Œå°†å¤šä¸ªredo logåˆ·ç›˜æ“ä½œåˆå¹¶æˆä¸€ä¸ªã€‚&lt;/li&gt;\n&lt;li&gt;å¼€å¯binlogï¼šä¸ºäº†ä¿è¯redo logå’Œbinlogæ•°æ®ä¸€è‡´æ€§ï¼Œmysqlä½¿ç”¨äº†äºŒé˜¶æ®µæäº¤ï¼Œæ­¤æ—¶binlogæˆä¸ºç“¶é¢ˆï¼Œmysqlå¢åŠ äº†binlogçš„ç»„æäº¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼ˆFlushã€Syncã€Commitï¼‰ï¼Œæœ€å¤§åŒ–åˆ·ç›˜æ”¶ç›Šã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;è¿‡ç¨‹è¯¦è§£\&#34;&gt;è¿‡ç¨‹è¯¦è§£&lt;/h3&gt;\n&lt;p&gt;åœ¨Mysqlä¸­æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—éƒ½æœ‰ä¸€æŠŠé”ä¿æŠ¤ï¼Œç¬¬ä¸€ä¸ªè¿›å…¥é˜Ÿåˆ—çš„äº‹åŠ¡æˆä¸ºleaderï¼Œleaderé¢†å¯¼æ‰€åœ¨é˜Ÿåˆ—çš„æ‰€æœ‰äº‹åŠ¡ï¼Œå…¨æƒè´Ÿè´£æ•´é˜Ÿçš„æ“ä½œï¼Œå®Œæˆåé€šçŸ¥é˜Ÿå†…å…¶ä»–äº‹åŠ¡æ“ä½œç»“æŸã€‚&lt;/p&gt;\n&lt;h4 id=\&#34;flushé˜¶æ®µ\&#34;&gt;Flushé˜¶æ®µ&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;é¦–å…ˆè·å–é˜Ÿåˆ—ä¸­çš„äº‹åŠ¡ç»„ï¼›&lt;/li&gt;\n&lt;li&gt;å°†redoä¸­prepareé˜¶æ®µçš„æ•°æ®åˆ·ç›˜ï¼›&lt;/li&gt;\n&lt;li&gt;å°†binlogæ•°æ®å†™å…¥æ–‡ä»¶ï¼Œæ­¤å¤„æ˜¯æ–‡ä»¶ç¼“å†²ï¼Œä¸ä¿è¯æ•°æ®åº“crashæ—¶ï¼Œbinlogçš„å®Œæ•´æ€§ï¼›&lt;/li&gt;\n&lt;li&gt;Flushé˜¶æ®µçš„ä½œç”¨æ˜¯æä¾›äº†redo çš„ç»„æäº¤ï¼›&lt;/li&gt;\n&lt;li&gt;å¦‚æœè¿™ä¸€æ­¥crashï¼Œç”±äºä¸ä¿è¯binlogä¸­å­˜åœ¨äº‹åŠ¡è®°å½•ï¼Œæ‰€ä»¥æ•°æ®åº“æ¢å¤åä¼šå›æ»šï¼Œæ­¤æ—¶äºŒé˜¶æ®µæäº¤çŠ¶æ€è¿˜æ˜¯prepareï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;syncé˜¶æ®µ\&#34;&gt;Syncé˜¶æ®µ&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;ä¸ºäº†å¢åŠ ä¸€ç»„äº‹åŠ¡ä¸­çš„äº‹åŠ¡æ•°é‡ï¼Œæå‡åˆ·ç›˜æ•ˆç‡ï¼Œä½¿ç”¨ä¸¤ä¸ªå‚æ•°è¿›è¡Œæ§åˆ¶ï¼š\n&lt;ol&gt;\n&lt;li&gt;binlog_group_commit_sync_delay=N  ç­‰å¾…N å¾®ç§’åï¼Œå¼€å§‹äº‹åŠ¡åˆ·ç›˜&lt;/li&gt;\n&lt;li&gt;binlog_group_commit_sync_no_delay=N  å¯¹åˆ—ä¸­äº‹åŠ¡è¾¾åˆ°Nä¸ªï¼Œç«‹åˆ»åˆ·ç›˜ï¼Œå¿½ç•¥ä¸Šé¢é‚£ä¸ªæ—¶é—´å‚æ•°&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;li&gt;Syncé˜¶æ®µçš„ä½œç”¨æ˜¯æ”¯æŒbinlogçš„ç»„æäº¤ï¼›&lt;/li&gt;\n&lt;li&gt;å¦‚æœæ­¤æ—¶crashï¼Œç”±äºbinlogä¸­æœ‰äº‹åŠ¡è®°å½•ï¼Œæ•°æ®åº“æ¢å¤åä¼šç»§ç»­æäº¤è¯¥äº‹åŠ¡ï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;commité˜¶æ®µ\&#34;&gt;Commité˜¶æ®µ&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;é¦–å…ˆè·å–é˜Ÿåˆ—ä¸­çš„äº‹åŠ¡ç»„ï¼›&lt;/li&gt;\n&lt;li&gt;ä¾æ¬¡å°†redoä¸­å·²ç»prepareçš„äº‹åŠ¡åœ¨å¼•æ“å±‚è¿›è¡Œæäº¤ï¼›&lt;/li&gt;\n&lt;li&gt;Commité˜¶æ®µä¸ç”¨åˆ·ç›˜ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼ŒFlushé˜¶æ®µä¸­çš„Redo logåˆ·ç›˜å·²ç»è¶³å¤Ÿä¿è¯æ•°æ®åº“å´©æºƒæ—¶çš„æ•°æ®å®‰å…¨äº†ï¼›&lt;/li&gt;\n&lt;li&gt;Commité˜¶æ®µé˜Ÿåˆ—çš„ä½œç”¨æ˜¯æ‰¿æ¥Syncé˜¶æ®µçš„äº‹åŠ¡ï¼Œå®Œæˆæœ€åçš„å¼•æ“æäº¤ï¼Œä½¿å¾—Syncå¯ä»¥å°½æ—©çš„å¤„ç†ä¸‹ä¸€ç»„äº‹åŠ¡ï¼Œæœ€å¤§åŒ–ç»„æäº¤çš„æ•ˆç‡ï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-de-zu-ti-jiao-yuan-li&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Mysqlçš„ç»„æäº¤åŸç†&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2021-01-18 17:25:56&#34;,&#34;dateFormat&#34;:&#34;2021-01-18&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-de-zu-ti-jiao-yuan-li/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:207000,&#34;words&#34;:938,&#34;minutes&#34;:4},&#34;description&#34;:&#34;äº‹åŠ¡æäº¤æµç¨‹\nå¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š\næœ‰binlogçš„æƒ…å†µä¸‹ï¼ŒcommitåŠ¨ä½œå¼€å§‹æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªRedo XIDå†™å…¥redoï¼Œç„¶åå†™dataåˆ°binlogï¼Œbinlogå†™æˆåŠŸåï¼Œä¼šå°†binlogçš„filenameå’Œæ—¥å¿—å†™çš„positionå†å†™å›red...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8B%E5%8A%A1%E6%8F%90%E4%BA%A4%E6%B5%81%E7%A8%8B\&#34;&gt;äº‹åŠ¡æäº¤æµç¨‹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%A4%A7%E8%87%B4%E6%B5%81%E7%A8%8B%E5%A6%82%E4%B8%8B\&#34;&gt;å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B5%81%E7%A8%8B\&#34;&gt;æµç¨‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%8D%E5%90%8C%E9%98%B6%E6%AE%B5crash%E7%9A%84%E6%83%85%E5%86%B5\&#34;&gt;ä¸åŒé˜¶æ®µcrashçš„æƒ…å†µï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#wal%E6%9C%BA%E5%88%B6\&#34;&gt;WALæœºåˆ¶&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3\&#34;&gt;è¿‡ç¨‹è¯¦è§£&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#flush%E9%98%B6%E6%AE%B5\&#34;&gt;Flushé˜¶æ®µ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#sync%E9%98%B6%E6%AE%B5\&#34;&gt;Syncé˜¶æ®µ&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#commit%E9%98%B6%E6%AE%B5\&#34;&gt;Commité˜¶æ®µ&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;ä¸€-gtidæ¦‚è¿°\&#34;&gt;ä¸€ã€GTIDæ¦‚è¿°&lt;/h2&gt;\n&lt;p&gt;GTIDæ˜¯MYSQL5.6æ–°å¢çš„ç‰¹æ€§ï¼ŒGTIDï¼ˆGlobal Transaction Identifierï¼‰å…¨ç§°ä¸ºå…¨å±€äº‹åŠ¡æ ‡ç¤ºç¬¦,ç”¨ä»¥æ•°æ®åº“å®ä¾‹äº‹åŠ¡å”¯ä¸€æ ‡è¯†ï¼Œå…¶ç»„æˆä¸»è¦æ˜¯source_idå’Œtransaction_id å³GTID = source_id:transaction_idã€‚å…¶ä¸­source_idæ˜¯æ•°æ®åº“å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®åº“å®ä¾‹å”¯ä¸€æ ‡è¯†ï¼Œä¿å­˜åœ¨auto.cnfä¸­ï¼Œè€Œtransaction_idåˆ™æ˜¯äº‹åŠ¡æ‰§è¡Œçš„åºåˆ—å·ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;äºŒ-gtidä¼˜ç¼ºç‚¹\&#34;&gt;äºŒã€GTIDä¼˜ç¼ºç‚¹&lt;/h2&gt;\n&lt;h3 id=\&#34;ä¼˜ç‚¹\&#34;&gt;ä¼˜ç‚¹ï¼š&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;å¤åˆ¶å®‰å…¨æ€§æ›´é«˜ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ¯ä¸ªå®ä¾‹ä¸Šåªæ‰§è¡Œä¸€æ¬¡ï¼›&lt;/li&gt;\n&lt;li&gt;æ•…éšœåˆ‡æ¢ç®€å•ï¼Œå¯é€šè¿‡è®¾ç½®MASTER_AUTO_POSITION=1ï¼Œè€Œémaster_log_fileå’Œmaster_log_posæ¥å»ºç«‹ä¸»ä»å…³ç³»ï¼›&lt;/li&gt;\n&lt;li&gt;å¯æ ¹æ®GTIDç¡®å®šäº‹åŠ¡æœ€æ—©æäº¤çš„å®ä¾‹ï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;ç¼ºç‚¹\&#34;&gt;ç¼ºç‚¹ï¼š&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;ç»„å¤åˆ¶ä¸­ï¼Œå¿…é¡»è¦æ±‚ç»Ÿä¸€å¼€å¯GTIDæˆ–è€…å…³é—­GTIDï¼›&lt;/li&gt;\n&lt;li&gt;ä¸æ”¯æŒå¤åˆ¶create table table_name select ... from table_name_xx ;&lt;/li&gt;\n&lt;li&gt;ä¸æ”¯æŒcreate temporary tableå’Œdrop temporary tableï¼›&lt;/li&gt;\n&lt;li&gt;ä¸æ”¯æŒsql_slave_skip_counterï¼Œå¯é€šè¿‡set global gtid_next=&#39;&#39; è·³è¿‡ï¼›&lt;/li&gt;\n&lt;li&gt;ä»åº“å’Œä¸»åº“éƒ½å¿…é¡»è®¾ç½®log_slave_updates&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;ä¸‰-gtidå·¥ä½œåŸç†\&#34;&gt;ä¸‰ã€GTIDå·¥ä½œåŸç†&lt;/h2&gt;\n&lt;p&gt;1ã€masteræ›´æ–°æ•°æ®æ—¶ï¼Œä¼šåœ¨äº‹åŠ¡å‰äº§ç”ŸGTIDï¼Œä¸€åŒè®°å½•åˆ°binlogæ—¥å¿—ä¸­ã€‚&lt;br&gt;\n2ã€slaveç«¯çš„i/o çº¿ç¨‹å°†å˜æ›´çš„binlogï¼Œå†™å…¥åˆ°æœ¬åœ°çš„relay logä¸­ã€‚&lt;br&gt;\n3ã€sqlçº¿ç¨‹ä»relay logä¸­è·å–GTIDï¼Œç„¶åå¯¹æ¯”slaveç«¯çš„binlogæ˜¯å¦æœ‰è®°å½•ã€‚&lt;br&gt;\n4ã€å¦‚æœæœ‰è®°å½•ï¼Œè¯´æ˜è¯¥GTIDçš„äº‹åŠ¡å·²ç»æ‰§è¡Œï¼Œslaveä¼šå¿½ç•¥ã€‚&lt;br&gt;\n5ã€å¦‚æœæ²¡æœ‰è®°å½•ï¼Œslaveå°±ä¼šä»relay logä¸­æ‰§è¡Œè¯¥GTIDçš„äº‹åŠ¡ï¼Œå¹¶è®°å½•åˆ°binlogã€‚&lt;br&gt;\n6ã€åœ¨è§£æè¿‡ç¨‹ä¸­ä¼šåˆ¤æ–­æ˜¯å¦æœ‰ä¸»é”®ï¼Œå¦‚æœæ²¡æœ‰å°±ç”¨äºŒçº§ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰å°±ç”¨å…¨éƒ¨æ‰«æã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;å››-gtidå¼€å¯å’Œå…³é—­\&#34;&gt;å››ã€GTIDå¼€å¯å’Œå…³é—­&lt;/h2&gt;\n&lt;p&gt;gtid_mode=ON(å¿…é€‰)&lt;br&gt;\nlog_bin=ON(å¿…é€‰)&lt;br&gt;\nlog-slave-updates=ON(å¿…é€‰)&lt;br&gt;\nenforce-gtid-consistency(å¿…é€‰)&lt;br&gt;\nlog-bin = /home/mysql/mysql-binï¼ˆå¿…é€‰ï¼‰&lt;br&gt;\nbinlog_format = MIXEDï¼ˆå¿…é€‰mixedæˆ–è€…rowï¼‰&lt;br&gt;\n##&lt;br&gt;\nchange master to master_host = &#39;ipaddr&#39;,master_port = 3306,master_user = &#39;username&#39;,master_password=&#39;password&#39;,master_auto_position = 1;&lt;/p&gt;\n&lt;h2 id=\&#34;äº”-gtidé€‚ç”¨åœºæ™¯\&#34;&gt;äº”ã€GTIDé€‚ç”¨åœºæ™¯&lt;/h2&gt;\n&lt;p&gt;1ã€æ­å»ºé«˜å¯ç”¨æ¶æ„ï¼Œæ–¹ä¾¿ä¸»ä»åˆ‡æ¢åï¼Œæ–°çš„ä»åº“é‡æ–°æŒ‡å®šä¸»åº“ï¼ˆä¾‹å¦‚ä¸€ä¸»äºŒä»çš„ç»“æ„ï¼ŒAä¸ºmater,Bä¸ºSlaveï¼ŒCä¸ºSlaveï¼ŒAå®•æœºåˆ‡æ¢åˆ°Båï¼ŒCé‡æ–°æŒ‡å®šä¸»åº“ä¸ºBï¼‰&lt;br&gt;\n2ã€ä¸ç»å¸¸ä½¿ç”¨create table table_name select * from table_name/create temporary table/update t1,t2 where ...è¿™ç§è¯­å¥çš„åœºåˆ&lt;/p&gt;\n&#34;,&#34;fileName&#34;:&#34;gtid-ji-chu-yuan-li&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;GTIDåŸºç¡€åŸç†&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-18 17:03:20&#34;,&#34;dateFormat&#34;:&#34;2021-01-18&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/gtid-ji-chu-yuan-li/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:123000,&#34;words&#34;:515,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ä¸€ã€GTIDæ¦‚è¿°\nGTIDæ˜¯MYSQL5.6æ–°å¢çš„ç‰¹æ€§ï¼ŒGTIDï¼ˆGlobal Transaction Identifierï¼‰å…¨ç§°ä¸ºå…¨å±€äº‹åŠ¡æ ‡ç¤ºç¬¦,ç”¨ä»¥æ•°æ®åº“å®ä¾‹äº‹åŠ¡å”¯ä¸€æ ‡è¯†ï¼Œå…¶ç»„æˆä¸»è¦æ˜¯source_idå’Œtransaction_id å³...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-gtid%E6%A6%82%E8%BF%B0\&#34;&gt;ä¸€ã€GTIDæ¦‚è¿°&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-gtid%E4%BC%98%E7%BC%BA%E7%82%B9\&#34;&gt;äºŒã€GTIDä¼˜ç¼ºç‚¹&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BC%98%E7%82%B9\&#34;&gt;ä¼˜ç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E7%BC%BA%E7%82%B9\&#34;&gt;ç¼ºç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%89-gtid%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\&#34;&gt;ä¸‰ã€GTIDå·¥ä½œåŸç†&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B-gtid%E5%BC%80%E5%90%AF%E5%92%8C%E5%85%B3%E9%97%AD\&#34;&gt;å››ã€GTIDå¼€å¯å’Œå…³é—­&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%94-gtid%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF\&#34;&gt;äº”ã€GTIDé€‚ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;å››ä¸ªåŸºæœ¬è¦ç´ acid\&#34;&gt;å››ä¸ªåŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;åŸå­æ€§ï¼ˆAtomicityï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰&lt;/li&gt;\n&lt;li&gt;éš”ç¦»æ€§ï¼ˆIsolationï¼‰&lt;/li&gt;\n&lt;li&gt;æŒä¹…æ€§ï¼ˆDurabilityï¼‰&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜\&#34;&gt;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;è„è¯»ï¼šäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»åˆ°çš„æ•°æ®æ˜¯è„æ•°æ®ï¼›&lt;/li&gt;\n&lt;li&gt;ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡Aå¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œäº‹åŠ¡Båœ¨äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®ä½œäº†æ›´æ–°å¹¶æäº¤ï¼Œå¯¼è‡´äº‹åŠ¡Aå¤šæ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ï¼›&lt;/li&gt;\n&lt;li&gt;å¹»è¯»ï¼šå¹»è¯»å¹¶ä¸æ˜¯è¯´ä¸¤æ¬¡è¯»å–çš„ç»“æœé›†ä¸åŒï¼Œå¹»è¯»ä¾§é‡çš„æ–¹é¢æ˜¯æŸä¸€æ¬¡çš„selectæ“ä½œå¾—åˆ°çš„ç»“æœæ‰€è¡¨å¾çš„æ•°æ®çŠ¶æ€æ— æ³•æ”¯æ’‘åç»­çš„ä¸šåŠ¡æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼ŒselectæŸæ¡è®°å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨ï¼Œå‡†å¤‡æ’å…¥æ­¤è®°å½•ï¼Œä½†æ‰§è¡Œinsertæ—¶å‘ç°æ­¤è®°å½•å·²å­˜åœ¨ï¼Œæ— æ³•æ’å…¥ï¼Œæ­¤æ—¶å°±å‘ç”Ÿäº†å¹»è¯»ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;äº‹åŠ¡éš”ç¦»çº§åˆ«\&#34;&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/h2&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/th&gt;\n&lt;th&gt;è„è¯»&lt;/th&gt;\n&lt;th&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;\n&lt;th&gt;å¹»è¯»&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ä¸å¯é‡å¤è¯»ï¼ˆread-committedï¼‰&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;td&gt;æ˜¯&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;td&gt;å¦&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;h4 id=\&#34;æŸ¥çœ‹æ•°æ®åº“éš”ç¦»çº§åˆ«\&#34;&gt;æŸ¥çœ‹æ•°æ®åº“éš”ç¦»çº§åˆ«&lt;/h4&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sql\&#34;&gt;mysql&amp;gt; select @@global.tx_isolation, @@tx_isolation;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;acidå®ç°åŸç†\&#34;&gt;ACIDå®ç°åŸç†&lt;/h2&gt;\n&lt;h3 id=\&#34;åŸå­æ€§\&#34;&gt;åŸå­æ€§&lt;/h3&gt;\n&lt;p&gt;å®ç°åŸå­æ€§çš„å…³é”®ï¼Œæ˜¯å½“äº‹åŠ¡å›æ»šæ—¶èƒ½å¤Ÿæ’¤é”€æ‰€æœ‰å·²ç»æˆåŠŸæ‰§è¡Œçš„sqlè¯­å¥ã€‚InnoDBå®ç°å›æ»šï¼Œä¾èµ–çš„æ˜¯undo logï¼šå½“äº‹åŠ¡å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹æ—¶ï¼ŒInnoDBä¼šç”Ÿæˆå¯¹åº”çš„undo logï¼Œå¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥æˆ–è°ƒç”¨rollbackï¼Œå¯¼è‡´äº‹åŠ¡éœ€è¦å›æ»šï¼Œä¾¿å¯ä»¥åˆ©ç”¨undo logä¸­çš„ä¿¡æ¯å°†æ•°æ®è¿›è¡Œå›æ»šã€‚undo logå…¶å®å°±æ˜¯è®°å½•æ•°æ®ä¿®æ”¹æ—¶çš„ç›¸åæ“ä½œã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;æŒä¹…æ€§\&#34;&gt;æŒä¹…æ€§&lt;/h3&gt;\n&lt;p&gt;å®ç°æŒä¹…æ€§ä¸»è¦ä¾èµ–redo logï¼Œredo logé‡‡ç”¨WALï¼Œæ‰€æœ‰ä¿®æ”¹å…ˆå†™å…¥æ—¥å¿—ï¼Œå†æ›´æ–°åˆ°Buffer Poolï¼Œä¿è¯äº†æ•°æ®åº“ä¸ä¼šå› æ„å¤–å®•æœºè€Œä¸¢å¤±ã€‚å†™redo logæ˜¯è¦æ¯”åˆ·ç¼“å­˜åˆ°ç£ç›˜è¦å¿«çš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åˆ·è„æ˜¯éšæœºIOã€è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼›è€Œredo logæ˜¯è¿½åŠ æ“ä½œï¼Œå±äºé¡ºåºIOï¼Œæ‰€ä»¥é€Ÿåº¦å¿«ï¼›&lt;/li&gt;\n&lt;li&gt;åˆ·è„æ˜¯ä»¥Pageä¸ºå•ä½çš„ï¼ŒMysqlé»˜è®¤é¡µå¤§å°æ˜¯16KBï¼Œä¸€ä¸ªPageä¸Šä¸€ä¸ªå°çš„ä¿®æ”¹éƒ½éœ€è¦æ•´é¡µå†™å…¥ï¼›è€Œredo logä¸­åªåŒ…å«çœŸæ­£éœ€è¦å†™å…¥çš„éƒ¨åˆ†ï¼Œæ— æ•ˆIOå‡å°‘ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;å…³äºbinlogå’Œredo logçš„åŒºåˆ«ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;ä½œç”¨ä¸åŒï¼šredo logæ˜¯ç”¨äºcrash recoveryçš„ï¼Œä¿è¯MySQLå®•æœºä¹Ÿä¸ä¼šå½±å“æŒä¹…æ€§ï¼›binlogæ˜¯ç”¨äºpoint-in-time recoveryçš„ï¼Œä¿è¯æœåŠ¡å™¨å¯ä»¥åŸºäºæ—¶é—´ç‚¹æ¢å¤æ•°æ®ï¼Œæ­¤å¤–binlogè¿˜ç”¨äºä¸»ä»å¤åˆ¶ã€‚&lt;/li&gt;\n&lt;li&gt;å±‚æ¬¡ä¸åŒï¼šredo logæ˜¯InnoDBå­˜å‚¨å¼•æ“å®ç°çš„ï¼Œè€Œbinlogæ˜¯MySQLçš„æœåŠ¡å™¨å±‚å®ç°çš„ï¼ŒåŒæ—¶æ”¯æŒInnoDBå’Œå…¶ä»–å­˜å‚¨å¼•æ“ã€‚&lt;/li&gt;\n&lt;li&gt;å†…å®¹ä¸åŒï¼šredo logæ˜¯ç‰©ç†æ—¥å¿—ï¼Œå†…å®¹åŸºäºç£ç›˜çš„Pageï¼›binlogçš„å†…å®¹æ˜¯äºŒè¿›åˆ¶çš„ï¼Œæ ¹æ®binlog_formatå‚æ•°çš„ä¸åŒï¼Œå¯èƒ½åŸºäºsqlè¯­å¥ã€åŸºäºæ•°æ®æœ¬èº«æˆ–è€…äºŒè€…çš„æ··åˆã€‚&lt;/li&gt;\n&lt;li&gt;å†™å…¥æ—¶æœºä¸åŒï¼šbinlogåœ¨äº‹åŠ¡æäº¤æ—¶å†™å…¥ï¼›redo logçš„å†™å…¥æ—¶æœºç›¸å¯¹å¤šå…ƒï¼Œå¯ä»¥é€šè¿‡åŒ1è®¾ç½®è¿›è¡Œæ§åˆ¶ï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&#34;éš”ç¦»æ€§\&#34;&gt;éš”ç¦»æ€§&lt;/h3&gt;\n&lt;p&gt;éš”ç¦»æ€§è¿½æ±‚çš„æ˜¯å¹¶å‘æ¡ä»¶ä¸‹äº‹åŠ¡ä¹‹é—´äº’ä¸å¹²æ‰°ï¼›ä¸»è¦è€ƒè™‘ä¸¤ç§åœºæ™¯ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;ä¸¤ä¸ªäº‹åŠ¡çš„å†™æ“ä½œä¹‹é—´çš„å½±å“ï¼š&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;InnoDBé€šè¿‡é”æœºåˆ¶æ¥ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œå†™æ“ä½œï¼Œç®€å•ç†è§£ä¸ºï¼Œäº‹åŠ¡åœ¨ä¿®æ”¹æ•°æ®ä¹‹å‰ï¼Œéœ€è¦å…ˆè·å¾—ç›¸åº”çš„é”ï¼›è·å¾—é”ä¹‹åï¼Œäº‹åŠ¡ä¾¿å¯ä»¥ä¿®æ”¹æ•°æ®ï¼Œå…¶ä»–äº‹åŠ¡éœ€è¦ç­‰å¾…è¯¥é”é‡Šæ”¾åæ‰èƒ½å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œã€‚&lt;/li&gt;\n&lt;li&gt;è¡¨é”ä¼šé”ä½æ•´ä¸ªè¡¨ï¼Œå¹¶å‘æ€§èƒ½è¾ƒå·®ï¼›&lt;/li&gt;\n&lt;li&gt;è¡Œé”åªé”å®šéœ€è¦æ“ä½œçš„æ•°æ®ï¼Œå¹¶å‘æ€§èƒ½å¥½ï¼Œä½†æ•°æ®è¾ƒå¤šæ—¶æ€§èƒ½ä¹Ÿä¼šä¸‹é™ï¼›ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨è¡Œé”å³å¯ï¼›&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ä¸¤ä¸ªäº‹åŠ¡çš„è¯»æ“ä½œä¹‹é—´çš„å½±å“ï¼š&lt;/p&gt;\n&lt;p&gt;Mysqlä¸­é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯RRï¼ŒInnoDBå®ç°çš„RRå¯ä»¥é¿å…å¹»è¯»çš„é—®é¢˜ï¼Œå³ä½¿ç”¨MVCCæŠ€æœ¯ï¼ŒMulti-Version Concurrency Controlã€‚&lt;/p&gt;\n&lt;p&gt;MVCCæœ€å¤§çš„ä¼˜ç‚¹æ˜¯è¯»ä¸åŠ é”ï¼Œå› æ­¤è¯»å†™ä¸å†²çªï¼Œå¹¶å‘æ€§å¥½ã€‚InnoDBå®ç°MVCCï¼Œå¤šä¸ªç‰ˆæœ¬çš„æ•°æ®å¯ä»¥å…±å­˜ï¼Œä¸»è¦ä¾èµ–ä»¥ä¸‹æŠ€æœ¯å’Œæ•°æ®ç»“æ„ï¼š&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;æ•°æ®åº“éœ€è¦åšå¥½ç‰ˆæœ¬æ§åˆ¶ï¼Œé˜²æ­¢ä¸è¯¥è¢«äº‹åŠ¡çœ‹åˆ°çš„æ•°æ®(ä¾‹å¦‚è¿˜æ²¡æäº¤çš„äº‹åŠ¡ä¿®æ”¹çš„æ•°æ®)è¢«çœ‹åˆ°ã€‚åœ¨InnoDBä¸­ï¼Œä¸»è¦æ˜¯é€šè¿‡ä½¿ç”¨readviewçš„æŠ€æœ¯æ¥å®ç°åˆ¤æ–­ã€‚æŸ¥è¯¢å‡ºæ¥çš„æ¯ä¸€è¡Œè®°å½•ï¼Œéƒ½ä¼šç”¨readviewæ¥åˆ¤æ–­ä¸€ä¸‹å½“å‰è¿™è¡Œæ˜¯å¦å¯ä»¥è¢«å½“å‰äº‹åŠ¡çœ‹åˆ°ï¼Œå¦‚æœå¯ä»¥ï¼Œåˆ™è¾“å‡ºï¼Œå¦åˆ™å°±åˆ©ç”¨undologæ¥æ„å»ºå†å²ç‰ˆæœ¬ï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼ŒçŸ¥é“è®°å½•æ„å»ºåˆ°æœ€è€çš„ç‰ˆæœ¬æˆ–è€…å¯è§æ€§æ¡ä»¶æ»¡è¶³ã€‚\n\nåœ¨trx_sysä¸­ï¼Œä¸€ç›´ç»´æŠ¤è¿™ä¸€ä¸ªå…¨å±€çš„æ´»è·ƒçš„è¯»å†™äº‹åŠ¡id(trx_sys-&amp;gt;descriptors)ï¼ŒidæŒ‰ç…§ä»å°åˆ°å¤§æ’åºï¼Œè¡¨ç¤ºåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œæ•°æ®åº“ä¸­æ‰€æœ‰çš„æ´»è·ƒ(å·²ç»å¼€å§‹ä½†è¿˜æ²¡æäº¤)çš„è¯»å†™(å¿…é¡»æ˜¯è¯»å†™äº‹åŠ¡ï¼Œåªè¯»äº‹åŠ¡ä¸åŒ…å«åœ¨å†…)äº‹åŠ¡ã€‚å½“éœ€è¦ä¸€ä¸ªä¸€è‡´æ€§è¯»çš„æ—¶å€™(å³åˆ›å»ºæ–°çš„readviewæ—¶)ï¼Œä¼šæŠŠå…¨å±€è¯»å†™äº‹åŠ¡idæ‹·è´ä¸€ä»½åˆ°readviewæœ¬åœ°(read_view_t-&amp;gt;descriptors)ï¼Œå½“åšå½“å‰äº‹åŠ¡çš„å¿«ç…§ã€‚read_view_t-&amp;gt;up_limit_idæ˜¯read_view_t-&amp;gt;descriptorsè¿™æ•°ç»„ä¸­æœ€å°çš„å€¼ï¼Œread_view_t-&amp;gt;low_limit_idæ˜¯åˆ›å»ºreadviewæ—¶çš„max_trx_idï¼Œå³ä¸€å®šå¤§äºread_view_t-&amp;gt;descriptorsä¸­çš„æœ€å¤§å€¼ã€‚å½“æŸ¥è¯¢å‡ºä¸€æ¡è®°å½•å(è®°å½•ä¸Šæœ‰ä¸€ä¸ªtrx_idï¼Œè¡¨ç¤ºè¿™æ¡è®°å½•æœ€åè¢«ä¿®æ”¹æ—¶çš„äº‹åŠ¡id)ï¼Œå¯è§æ€§åˆ¤æ–­çš„é€»è¾‘å¦‚ä¸‹(lock_clust_rec_cons_read_sees)ï¼š\n\nå¦‚æœè®°å½•ä¸Šçš„trx_idå°äºread_view_t-&amp;gt;up_limit_idï¼Œåˆ™è¯´æ˜è¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹å‰ï¼Œå› æ­¤è¿™æ¡è®°å½•å¯ä»¥è¢«çœ‹è§ã€‚\n\nå¦‚æœè®°å½•ä¸Šçš„trx_idå¤§äºç­‰äºread_view_t-&amp;gt;low_limit_idï¼Œåˆ™è¯´æ˜è¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹åï¼Œå› æ­¤è¿™æ¡è®°å½•è‚¯å®šä¸å¯ä»¥è¢«çœ‹å®¶ã€‚\n\nå¦‚æœè®°å½•ä¸Šçš„trx_idåœ¨up_limit_idå’Œlow_limit_idä¹‹é—´ï¼Œä¸”trx_idåœ¨read_view_t-&amp;gt;descriptorsä¹‹ä¸­ï¼Œåˆ™è¡¨ç¤ºè¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹æ˜¯åœ¨readviewåˆ›å»ºä¹‹æ—¶ï¼Œè¢«å¦å¤–ä¸€ä¸ªæ´»è·ƒäº‹åŠ¡æ‰€ä¿®æ”¹ï¼Œæ‰€ä»¥è¿™æ¡è®°å½•ä¹Ÿä¸å¯ä»¥è¢«çœ‹è§ã€‚å¦‚æœtrx_idä¸åœ¨read_view_t-&amp;gt;descriptorsä¹‹ä¸­ï¼Œåˆ™è¡¨ç¤ºè¿™æ¡è®°å½•çš„æœ€åä¿®æ”¹åœ¨readviewåˆ›å»ºä¹‹å‰ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°ã€‚\n\nåŸºäºä¸Šè¿°åˆ¤æ–­ï¼Œå¦‚æœè®°å½•ä¸å¯è§ï¼Œåˆ™å°è¯•ä½¿ç”¨undoå»æ„å»ºè€çš„ç‰ˆæœ¬(row_vers_build_for_consistent_read)ï¼Œç›´åˆ°æ‰¾åˆ°å¯ä»¥è¢«çœ‹è§çš„è®°å½•æˆ–è€…è§£æå®Œæ‰€æœ‰çš„undoã€‚\n\né’ˆå¯¹RRéš”ç¦»çº§åˆ«ï¼Œåœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºreadviewåï¼Œè¿™ä¸ªreadviewå°±ä¼šä¸€ç›´æŒç»­åˆ°äº‹åŠ¡ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ•°æ®çš„å¯è§æ€§ä¸ä¼šå˜ï¼Œæ‰€ä»¥åœ¨äº‹åŠ¡å†…éƒ¨ä¸ä¼šå‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µã€‚é’ˆå¯¹RCéš”ç¦»çº§åˆ«ï¼Œäº‹åŠ¡ä¸­çš„æ¯ä¸ªæŸ¥è¯¢è¯­å¥éƒ½å•ç‹¬æ„å»ºä¸€ä¸ªreadviewï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªæŸ¥è¯¢ä¹‹é—´æœ‰äº‹åŠ¡æäº¤äº†ï¼Œä¸¤ä¸ªæŸ¥è¯¢è¯»å‡ºæ¥çš„ç»“æœå°±ä¸ä¸€æ ·ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨InnoDBä¸­ï¼ŒRRéš”ç¦»çº§åˆ«çš„æ•ˆç‡æ˜¯æ¯”RCéš”ç¦»çº§åˆ«çš„é«˜ã€‚æ­¤å¤–ï¼Œé’ˆå¯¹RUéš”ç¦»çº§åˆ«ï¼Œç”±äºä¸ä¼šå»æ£€æŸ¥å¯è§æ€§ï¼Œæ‰€ä»¥åœ¨ä¸€æ¡SQLä¸­ä¹Ÿä¼šè¯»åˆ°ä¸ä¸€è‡´çš„æ•°æ®ã€‚é’ˆå¯¹ä¸²è¡ŒåŒ–éš”ç¦»çº§åˆ«ï¼ŒInnoDBæ˜¯é€šè¿‡é”æœºåˆ¶æ¥å®ç°çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å¤šç‰ˆæœ¬æ§åˆ¶çš„æœºåˆ¶ï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆå·®ã€‚\n\nç”±äºreadviewçš„åˆ›å»ºæ¶‰åŠåˆ°æ‹·è´å…¨å±€æ´»è·ƒè¯»å†™äº‹åŠ¡idï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Štrx_sys-&amp;gt;mutexè¿™æŠŠå¤§é”ï¼Œä¸ºäº†å‡å°‘å…¶å¯¹æ€§èƒ½çš„å½±å“ï¼Œå…³äºreadviewæœ‰å¾ˆå¤šä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‰åä¸¤ä¸ªæŸ¥è¯¢ä¹‹é—´ï¼Œæ²¡æœ‰äº§ç”Ÿæ–°çš„è¯»å†™äº‹åŠ¡ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªæŸ¥è¯¢åˆ›å»ºçš„readviewæ˜¯å¯ä»¥è¢«åä¸€ä¸ªæŸ¥è¯¢å¤ç”¨çš„ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ“ä½œæŒ‡ä»¤ï¼š&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sql\&#34;&gt;mysql&amp;gt; select * from information_schema.innodb_locks; #é”çš„æ¦‚å†µ\nmysql&amp;gt; show engine innodb status;                     #InnoDBæ•´ä½“çŠ¶æ€ï¼Œå…¶ä¸­åŒ…æ‹¬é”çš„æƒ…å†µ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&#34;ä¸€è‡´æ€§\&#34;&gt;ä¸€è‡´æ€§&lt;/h3&gt;\n&lt;p&gt;ä¸€è‡´æ€§æ˜¯äº‹åŠ¡è¿½æ±‚çš„ç»ˆæç›®æ ‡ï¼ŒåŸå­æ€§ã€æŒä¹…æ€§å’Œéš”ç¦»æ€§ï¼Œéƒ½æ˜¯ä¸ºäº†å®ç°ä¸€è‡´æ€§è€Œå­˜åœ¨çš„ï¼›å®ç°ä¸€è‡´æ€§ä¹Ÿéœ€è¦åº”ç”¨å±‚é¢è¿›è¡Œä¿éšœï¼›&lt;/p&gt;\n&lt;h3 id=\&#34;è¿ç»´ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°\&#34;&gt;è¿ç»´ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1ã€é¦–å…ˆä»‹ç»ä¸€ä¸‹information_schemaä¸­çš„ä¸‰å¼ è¡¨: innodb_trx, innodb_lockså’Œinnodb_lock_waitsã€‚ç”±äºè¿™äº›è¡¨å‡ ä¹éœ€è¦æŸ¥è¯¢æ‰€æœ‰äº‹åŠ¡å­ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œä¸ºäº†å‡å°‘æŸ¥è¯¢å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ï¼ŒInnoDBé¢„ç•™äº†ä¸€å—å†…å­˜ï¼Œå†…å­˜é‡Œé¢å­˜äº†ç›¸å…³æ•°æ®çš„å‰¯æœ¬ï¼Œå¦‚æœä¸¤æ¬¡æŸ¥è¯¢çš„æ—¶é—´å°äº0.1ç§’(CACHE_MIN_IDLE_TIME_US)ï¼Œåˆ™è®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªå‰¯æœ¬ã€‚å¦‚æœè¶…è¿‡0.1ç§’ï¼Œåˆ™è¿™å—å†…å­˜ä¼šåšä¸€æ¬¡æ›´æ–°ï¼Œæ¯æ¬¡æ›´æ–°ä¼šæŠŠä¸‰å¼ è¡¨ç”¨åˆ°çš„æ‰€æœ‰æ•°æ®ç»Ÿä¸€æ›´æ–°ä¸€éï¼Œå› ä¸ºè¿™ä¸‰å¼ è¡¨ç»å¸¸éœ€è¦åšè¡¨è¿æ¥æ“ä½œï¼Œæ‰€ä»¥ä¸€èµ·æ›´æ–°èƒ½ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹innodb_trxè¡¨ä¸­çš„å­—æ®µï¼Œå¦å¤–ä¸¤å¼ è¡¨æ¶‰åŠåˆ°äº‹ç‰©é”çš„ç›¸å…³ä¿¡æ¯ï¼Œç”±äºç¯‡å¹…é™åˆ¶ï¼Œåç»­æœ‰æœºä¼šåœ¨ä»‹ç»ã€‚\n\ntrx_id: å°±æ˜¯trx_tä¸­çš„äº‹åŠ¡idï¼Œå¦‚æœæ˜¯åªè¯»äº‹åŠ¡ï¼Œè¿™ä¸ªidè·Ÿtrx_tçš„æŒ‡é’ˆåœ°å€æœ‰å…³ï¼Œæ‰€ä»¥å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—(trx_get_id_for_print)ã€‚\ntrx_weight: è¿™ä¸ªæ˜¯äº‹åŠ¡çš„æƒé‡ï¼Œè®¡ç®—æ–¹æ³•å°±æ˜¯undologæ•°é‡åŠ ä¸Šäº‹åŠ¡å·²ç»åŠ ä¸Šé”çš„æ•°é‡ã€‚åœ¨äº‹åŠ¡å›æ»šçš„æ—¶å€™ï¼Œä¼˜å…ˆé€‰æ‹©å›æ»šæƒé‡å°çš„äº‹åŠ¡ï¼Œæœ‰éäº‹åŠ¡å¼•æ“å‚ä¸çš„äº‹åŠ¡è¢«è®¤ä¸ºæƒé‡æ˜¯æœ€å¤§çš„ã€‚\ntrx_rows_modifiedï¼šè¿™ä¸ªå°±æ˜¯å½“å‰äº‹åŠ¡å·²ç»äº§ç”Ÿçš„undologæ•°é‡ï¼Œæ¯æ›´æ–°ä¸€æ¡è®°å½•ä¸€æ¬¡ï¼Œå°±ä¼šäº§ç”Ÿä¸€æ¡undoã€‚\ntrx_concurrency_tickets: æ¯æ¬¡è¿™ä¸ªäº‹åŠ¡éœ€è¦è¿›å…¥InnoDBå±‚æ—¶ï¼Œè¿™ä¸ªå€¼éƒ½ä¼šå‡ä¸€ï¼Œå¦‚æœå‡åˆ°0ï¼Œåˆ™äº‹åŠ¡éœ€è¦ç­‰å¾…(å‹åŠ›å¤§çš„æƒ…å†µä¸‹)ã€‚\ntrx_is_read_only: å¦‚æœæ˜¯ä»¥start transaction read onlyå¯åŠ¨äº‹åŠ¡çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æ®µæ˜¯1ï¼Œå¦åˆ™ä¸º0ã€‚\ntrx_autocommit_non_locking: å¦‚æœä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªæ™®é€šçš„selectè¯­å¥(åé¢æ²¡æœ‰è·Ÿfor update, share lockç­‰)ï¼Œä¸”å½“æ—¶çš„autocommitä¸º1ï¼Œåˆ™è¿™ä¸ªå­—æ®µä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚\ntrx_state: è¡¨ç¤ºäº‹åŠ¡å½“å‰çš„çŠ¶æ€ï¼Œåªèƒ½æœ‰RUNNING, LOCK WAIT, ROLLING BACK, COMMITTINGè¿™å‡ ç§çŠ¶æ€, æ˜¯æ¯”è¾ƒç²—ç²’åº¦çš„çŠ¶æ€ã€‚\ntrx_operation_state: è¡¨ç¤ºäº‹åŠ¡å½“å‰çš„è¯¦ç»†çŠ¶æ€ï¼Œç›¸æ¯”äºtrx_stateæ›´åŠ è¯¦ç»†ï¼Œä¾‹å¦‚æœ‰rollback to a savepoint, getting list of referencing foreign keys, rollback of internal trx on stats tables, dropping indexesç­‰ã€‚\n\n2ã€ä¸äº‹åŠ¡ç›¸å…³çš„undoå‚æ•°\n\ninnodb_undo_directory: undoæ–‡ä»¶çš„ç›®å½•ï¼Œå»ºè®®æ”¾åœ¨ç‹¬ç«‹çš„ä¸€å—ç›˜ä¸Šï¼Œå°¤å…¶åœ¨ç»å¸¸æœ‰å¤§äº‹åŠ¡çš„æƒ…å†µä¸‹ã€‚\ninnodb_undo_logs: è¿™ä¸ªæ˜¯å®šä¹‰äº†undo segmentçš„ä¸ªæ•°ã€‚åœ¨ç»™è¯»å†™äº‹åŠ¡åˆ†é…undo segmentçš„æ—¶å€™ï¼Œæ‹¿è¿™ä¸ªå€¼å»åšè½®è®­åˆ†é…ã€‚\nInnodb_available_undo_logs: è¿™ä¸ªæ˜¯ä¸€ä¸ªstatuså˜é‡ï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™å°±ç¡®å®šäº†ï¼Œè¡¨ç¤ºçš„æ˜¯ç³»ç»Ÿä¸Šåˆ†é…çš„undo segmentã€‚ä¸¾ä¸ªä¾‹å­è¯´æ˜å…¶ä¸innodb_undo_logsçš„å…³ç³»ï¼šå‡è®¾ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™innodb_undo_logsä¸º128ï¼Œåˆ™åœ¨æ–‡ä»¶ä¸Šä¸€å®šæœ‰128ä¸ªundo segmentï¼ŒInnodb_available_undo_logsä¹Ÿä¸º128ï¼Œä½†æ˜¯å¯åŠ¨èµ·æ¥åï¼Œinnodb_undo_logsåŠ¨æ€è¢«è°ƒæ•´ä¸º100ï¼Œåˆ™åç»­çš„è¯»å†™äº‹åŠ¡åªä¼šä½¿ç”¨åˆ°å‰100ä¸ªå›æ»šæ®µï¼Œæœ€åçš„20å¤šä¸ªä¸ä¼šä½¿ç”¨ã€‚\ninnodb_undo_tablespaces: å­˜æ”¾undo segmentçš„ç‰©ç†æ–‡ä»¶ä¸ªæ•°ï¼Œæ–‡ä»¶åä¸ºundoNï¼Œundo segmentä¼šæ¯”è¾ƒå‡åŒ€çš„åˆ†å¸ƒåœ¨undo tablespaceä¸­ã€‚\n\n3ã€ä¸Purgeç›¸å…³çš„å‚æ•°\n\ninnodb_purge_threads: Purge Workerå’ŒPurge Coordinatoræ€»å…±çš„ä¸ªæ•°ã€‚åœ¨å®é™…çš„å®ç°ä¸­ï¼Œä½¿ç”¨å¤šå°‘ä¸ªçº¿ç¨‹å»åšPurgeæ˜¯InnoDBæ ¹æ®å®æ—¶è´Ÿè½½è¿›è¡ŒåŠ¨æ€è°ƒèŠ‚çš„ã€‚\ninnodb_purge_batch_size: ä¸€æ¬¡æ€§å¤„ç†çš„undologçš„æ•°é‡ï¼Œå¤„ç†å®Œè¿™ä¸ªæ•°é‡åï¼ŒPurgeçº¿ç¨‹ä¼šè®¡ç®—æ˜¯å¦éœ€è¦sleepã€‚\ninnodb_max_purge_lag: å¦‚æœå…¨å±€å†å²é“¾è¡¨è¶…è¿‡è¿™ä¸ªå€¼ï¼Œå°±ä¼šå¢åŠ Purge Workerçº¿ç¨‹çš„æ•°é‡ï¼Œä¹Ÿä¼šä½¿ç”¨sleepçš„æ–¹å¼delayç”¨æˆ·çš„DMLã€‚\ninnodb_max_purge_lag_delay: è¿™ä¸ªè¡¨ç¤ºé€šè¿‡sleepæ–¹å¼delayç”¨æˆ·DMLæœ€å¤§çš„æ—¶é—´ã€‚\n\n4ã€ä¸å›æ»šç›¸å…³çš„å‚æ•°\n\ninnodb_lock_wait_timeout: ç­‰å¾…è¡Œé”çš„æœ€å¤§æ—¶é—´ï¼Œå¦‚æœè¶…æ—¶ï¼Œåˆ™ä¼šæ»šå½“å‰è¯­å¥æˆ–è€…æ•´ä¸ªäº‹åŠ¡ã€‚å‘ç”Ÿå›æ»šåè¿”å›ç±»ä¼¼é”™è¯¯ï¼šLock wait timeout exceeded; try restarting transactionã€‚\ninnodb_rollback_on_timeout: å¦‚æœè¿™ä¸ªå‚æ•°ä¸ºtrueï¼Œåˆ™å½“å‘ç”Ÿå› ä¸ºç­‰å¾…è¡Œé”è€Œäº§ç”Ÿçš„è¶…æ—¶æ—¶ï¼Œå›æ»šæ‰æ•´ä¸ªäº‹åŠ¡ï¼Œå¦åˆ™åªå›æ»šå½“å‰çš„è¯­å¥ã€‚è¿™ä¸ªå°±æ˜¯éšå¼å›æ»šæœºåˆ¶ã€‚ä¸»è¦æ˜¯ä¸ºäº†å…¼å®¹ä¹‹å‰çš„ç‰ˆæœ¬ã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;æ€»ç»“\&#34;&gt;æ€»ç»“&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;åŸå­æ€§ï¼šè¯­å¥è¦ä¹ˆå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨ä¸æ‰§è¡Œï¼Œæ˜¯äº‹åŠ¡æœ€æ ¸å¿ƒçš„ç‰¹æ€§ï¼Œäº‹åŠ¡æœ¬èº«å°±æ˜¯ä»¥åŸå­æ€§æ¥å®šä¹‰çš„ï¼›å®ç°ä¸»è¦åŸºäºundo log&lt;/li&gt;\n&lt;li&gt;æŒä¹…æ€§ï¼šä¿è¯äº‹åŠ¡æäº¤åä¸ä¼šå› ä¸ºå®•æœºç­‰åŸå› å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›å®ç°ä¸»è¦åŸºäºredo log&lt;/li&gt;\n&lt;li&gt;éš”ç¦»æ€§ï¼šä¿è¯äº‹åŠ¡æ‰§è¡Œå°½å¯èƒ½ä¸å—å…¶ä»–äº‹åŠ¡å½±å“ï¼›InnoDBé»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯RRï¼ŒRRçš„å®ç°ä¸»è¦åŸºäºé”æœºåˆ¶ï¼ˆåŒ…å«next-key lockï¼‰ã€MVCCï¼ˆåŒ…æ‹¬æ•°æ®çš„éšè—åˆ—ã€åŸºäºundo logçš„ç‰ˆæœ¬é“¾ã€ReadViewï¼‰&lt;/li&gt;\n&lt;li&gt;ä¸€è‡´æ€§ï¼šäº‹åŠ¡è¿½æ±‚çš„æœ€ç»ˆç›®æ ‡ï¼Œä¸€è‡´æ€§çš„å®ç°æ—¢éœ€è¦æ•°æ®åº“å±‚é¢çš„ä¿éšœï¼Œä¹Ÿéœ€è¦åº”ç”¨å±‚é¢çš„ä¿éšœ&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;å‚è€ƒæ–‡çŒ®\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;\n&lt;h4 id=\&#34;httpmysqltaobaoorgmonthly20171201\&#34;&gt;http://mysql.taobao.org/monthly/2017/12/01/&lt;/h4&gt;\n&lt;h4 id=\&#34;httpswwwcnblogscomkismetvp10331633html\&#34;&gt;https://www.cnblogs.com/kismetv/p/10331633.html&lt;/h4&gt;\n&lt;h4 id=\&#34;httpszhuanlanzhihucomp40208895\&#34;&gt;https://zhuanlan.zhihu.com/p/40208895&lt;/h4&gt;\n&lt;h4 id=\&#34;httpswwwcnblogscomhuanongyingp7021555html\&#34;&gt;https://www.cnblogs.com/huanongying/p/7021555.html&lt;/h4&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-shi-wu-ge-chi-ji-bie-ji-shi-xian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Mysqläº‹åŠ¡éš”ç¦»çº§åˆ«åŠå®ç°&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-18 16:12:13&#34;,&#34;dateFormat&#34;:&#34;2021-01-18&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-shi-wu-ge-chi-ji-bie-ji-shi-xian/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;12 min read&#34;,&#34;time&#34;:712000,&#34;words&#34;:3270,&#34;minutes&#34;:12},&#34;description&#34;:&#34;å››ä¸ªåŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰\n\nåŸå­æ€§ï¼ˆAtomicityï¼‰\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰\néš”ç¦»æ€§ï¼ˆIsolationï¼‰\næŒä¹…æ€§ï¼ˆDurabilityï¼‰\n\näº‹åŠ¡çš„å¹¶å‘é—®é¢˜\n\nè„è¯»ï¼šäº‹åŠ¡Aè¯»å–äº†äº‹åŠ¡Bæ›´æ–°çš„æ•°æ®ï¼Œç„¶åBå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAè¯»åˆ°çš„æ•°...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9B%9B%E4%B8%AA%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%B4%A0acid\&#34;&gt;å››ä¸ªåŸºæœ¬è¦ç´ ï¼ˆACIDï¼‰&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98\&#34;&gt;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB\&#34;&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB\&#34;&gt;æŸ¥çœ‹æ•°æ®åº“éš”ç¦»çº§åˆ«&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#acid%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86\&#34;&gt;ACIDå®ç°åŸç†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8E%9F%E5%AD%90%E6%80%A7\&#34;&gt;åŸå­æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%8C%81%E4%B9%85%E6%80%A7\&#34;&gt;æŒä¹…æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E9%9A%94%E7%A6%BB%E6%80%A7\&#34;&gt;éš”ç¦»æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80%E8%87%B4%E6%80%A7\&#34;&gt;ä¸€è‡´æ€§&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E8%BF%90%E7%BB%B4%E7%9B%B8%E5%85%B3%E6%8C%87%E4%BB%A4%E5%92%8C%E5%8F%82%E6%95%B0\&#34;&gt;è¿ç»´ç›¸å…³æŒ‡ä»¤å’Œå‚æ•°&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%80%BB%E7%BB%93\&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#httpmysqltaobaoorgmonthly20171201\&#34;&gt;http://mysql.taobao.org/monthly/2017/12/01/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#httpswwwcnblogscomkismetvp10331633html\&#34;&gt;https://www.cnblogs.com/kismetv/p/10331633.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#httpszhuanlanzhihucomp40208895\&#34;&gt;https://zhuanlan.zhihu.com/p/40208895&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#httpswwwcnblogscomhuanongyingp7021555html\&#34;&gt;https://www.cnblogs.com/huanongying/p/7021555.html&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;å‡†å¤‡æœºå™¨\&#34;&gt;å‡†å¤‡æœºå™¨&lt;/h2&gt;\n&lt;p&gt;ä¸¤å°centos7ç³»ç»ŸæœåŠ¡å™¨ï¼š&lt;/p&gt;\n&lt;p&gt;ä¸»mysqlï¼š192.168.50.1&lt;/p&gt;\n&lt;p&gt;ä»mysqlï¼š192.168.50.2&lt;/p&gt;\n&lt;h2 id=\&#34;å®‰è£…mysql\&#34;&gt;å®‰è£…mysql&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;ä¸‹è½½yumæº&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å®‰è£…yumæº&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;rpm -Uvh mysql80-community-release-el7-3.noarch.rpm\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å®‰è£…mysql&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;yum install -y mysql-community-server\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å¯åŠ¨mysqlï¼Œå¹¶è·å–rootåˆå§‹å¯†ç &lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# ç¡®ä¿selinuxä¸ºdisabled\n# ç¡®ä¿å…³é—­äº†firewalldæœåŠ¡\n\nsystemctl start mysqld\n\n[root@localhost ~]# grep password /var/log/mysqld.log \n2020-10-19T02:47:35.912896Z 1 [Note] A temporary password is generated for root@localhost: -1k-1KjU*LG)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;ç™»å…¥mysqlï¼Œå¹¶é‡ç½®rootå¯†ç &lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;mysql -uroot -p \nmysql&amp;gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;qUXmZP11JwJ_11&#39;; # rootæœ¬åœ°è®¿é—®ï¼Œä¸”é‡ç½®\nmysql&amp;gt; exit\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;ä¸»mysqlæ•°æ®åº“é…ç½®\&#34;&gt;ä¸»Mysqlæ•°æ®åº“é…ç½®&lt;/h2&gt;\n&lt;p&gt;ç¼–è¾‘my.cnfé…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;vim /etc/my.cnf\n\n[mysqld]\nport=9006          #æŒ‡å®šæ–°çš„ç«¯å£\nserver-id=110      #è®¾ç½®ä¸»æœåŠ¡å™¨çš„ID(ä¸èƒ½å’Œåˆ«çš„æœåŠ¡å™¨é‡å¤ï¼Œå»ºè®®ä½¿ç”¨ipçš„æœ€åä¸€æ®µ)\nlog-bin=mysql-bin  #binlogæ—¥å¿—æ–‡ä»¶å\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;åˆ›å»ºç”¨äºä¸»ä»åŒæ­¥çš„è´¦æˆ·&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;$ mysql -u root -p  #ç™»å½•MySQL\nmysql&amp;gt; CREATE USER &#39;repl&#39;@&#39;192.168.50.2&#39; IDENTIFIED WITH mysql_native_password BY &#39;Top_master_1&#39;; # ä¸»åº“åˆ›å»ºç”¨äºä»åº“åŒæ­¥çš„è´¦å·\nmysql&amp;gt; grant replication slave on *.* to &#39;repl&#39;@&#39;192.168.50.2&#39;;  #èµ‹äºˆä¸»ä»åŒæ­¥æƒé™ï¼ŒæŒ‡å®šå…·ä½“çš„æ•°æ®åº“åœ¨/etc/my.cnfä¸­å®Œæˆ\nmysql&amp;gt; flush privileges;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;é‡å¯MySQLï¼Œä½¿my.cnf é…ç½®ç”Ÿæ•ˆï¼›æŸ¥çœ‹ä¸»åº“çŠ¶æ€&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;$ systemctl restart mysqld #é‡å¯MySQL\nmysql -u root -p\nmysql&amp;gt; show master status; #æŸ¥çœ‹ä¸»åº“çš„çŠ¶æ€  File,Position è¿™ä¸¤ä¸ªå€¼éœ€è¦æ”¾åˆ°slaveé…ç½®ä¸­\n+--------------------+----------+--------------+------------------+-------------------+\n| File               | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |\n+--------------------+----------+--------------+------------------+-------------------+\n| mysql-bin.00001    |      156 |     xxxx     |                  |                   |\n+--------------------+----------+--------------+------------------+-------------------+\n1 row in set (0.00 sec)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä»mysqlæ•°æ®åº“é…ç½®\&#34;&gt;ä»Mysqlæ•°æ®åº“é…ç½®&lt;/h2&gt;\n&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;vim /etc/my.cnf\n\n[mysqld]\nport=9006\nserver-id=111\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;é…ç½®å®Œæˆåï¼Œé‡å¯ä»åº“çš„MySQL&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;$ systemctl restart mysqld  #é‡å¯MySQL\n$ mysql -u root -p          #ç™»å½•mysql\nmysql&amp;gt; stop slave;          #å…³é—­ä»åº“\nmysql&amp;gt; change master to master_host=&#39;192.168.50.1&#39;,master_port=9006,master_user=&#39;repl&#39;,master_password=&#39;Top_master_1&#39;,master_log_file=&#39;mysql-bin.00001&#39;,master_log_pos=156; #é…ç½®ä¸»åº“ä¿¡æ¯\nmysql&amp;gt; start slave;            #å¼€å¯ä»åº“ \nmysql&amp;gt; show slave status \\G;   #Slave_IO_Running,Slave_SQL_Running éƒ½ä¸ºYesçš„æ—¶å€™è¡¨ç¤ºé…ç½®æˆåŠŸ\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;ä¸»åº“åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨\&#34;&gt;ä¸»åº“åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-sql\&#34;&gt;create database topmanager DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;\nç™»å…¥ä»åº“ï¼Œå¯ä»¥çœ‹åˆ°ä»åº“ä¸­å‡ºç°åŒæ ·çš„æ•°æ®åº“å’Œæ•°æ®è¡¨ï¼Œè¡¨æ˜å·²åŒæ­¥&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-zhu-cong-fu-zhi-huan-jing-da-jian&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Mysqlä¸»ä»å¤åˆ¶ç¯å¢ƒæ­å»º&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-15 10:15:27&#34;,&#34;dateFormat&#34;:&#34;2021-01-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-zhu-cong-fu-zhi-huan-jing-da-jian/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:151000,&#34;words&#34;:533,&#34;minutes&#34;:3},&#34;description&#34;:&#34;å‡†å¤‡æœºå™¨\nä¸¤å°centos7ç³»ç»ŸæœåŠ¡å™¨ï¼š\nä¸»mysqlï¼š192.168.50.1\nä»mysqlï¼š192.168.50.2\nå®‰è£…mysql\n\n\nä¸‹è½½yumæº\nwget https://dev.mysql.com/get/mysql80-com...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%86%E5%A4%87%E6%9C%BA%E5%99%A8\&#34;&gt;å‡†å¤‡æœºå™¨&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%AE%89%E8%A3%85mysql\&#34;&gt;å®‰è£…mysql&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BBmysql%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE\&#34;&gt;ä¸»Mysqlæ•°æ®åº“é…ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BB%8Emysql%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE\&#34;&gt;ä»Mysqlæ•°æ®åº“é…ç½®&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BB%E5%BA%93%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E6%95%B0%E6%8D%AE%E8%A1%A8\&#34;&gt;ä¸»åº“åˆ›å»ºæ•°æ®åº“å’Œæ•°æ®è¡¨&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h2 id=\&#34;ä¸€-å‚æ•°åŠè®¾ç½®è¯´æ˜\&#34;&gt;ä¸€ã€å‚æ•°åŠè®¾ç½®è¯´æ˜&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;# innodb_flush_log_at_trx_commit\n1.è®¾ç½®ä¸º0ï¼šlog bufferå°†æ¯ç§’ä¸€æ¬¡åœ°å†™å…¥log fileä¸­ï¼Œå¹¶ä¸”log fileçš„flushæ“ä½œåŒæ—¶è¿›è¡Œï¼›è¯¥æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ä¼šä¸»åŠ¨è§¦å‘å†™å…¥ç£ç›˜çš„æ“ä½œï¼›\n2.è®¾ç½®ä¸º1ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œå¹¶ä¸”flush(åˆ·åˆ°ç£ç›˜)ä¸­å»;\n3.è®¾ç½®ä¸º2ï¼šæ¯æ¬¡äº‹åŠ¡æäº¤æ—¶MySQLéƒ½ä¼šæŠŠlog bufferçš„æ•°æ®å†™å…¥log fileï¼Œä½†æ˜¯flush(åˆ·åˆ°ç£ç›˜)æ“ä½œå¹¶ä¸ä¼šåŒæ—¶è¿›è¡Œã€‚è¯¥æ¨¡å¼ä¸‹,MySQLä¼šæ¯ç§’æ‰§è¡Œä¸€æ¬¡ flush(åˆ·åˆ°ç£ç›˜)æ“ä½œã€‚\n\n# sync_binlog\nsync_binlog çš„é»˜è®¤å€¼æ˜¯0ï¼Œåƒæ“ä½œç³»ç»Ÿåˆ·å…¶ä»–æ–‡ä»¶çš„æœºåˆ¶ä¸€æ ·ï¼ŒMySQLä¸ä¼šåŒæ­¥åˆ°ç£ç›˜ä¸­å»è€Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿæ¥åˆ·æ–°binary logã€‚\nå½“sync_binlog =N (N&amp;gt;0) ï¼ŒMySQL åœ¨æ¯å†™ Næ¬¡ äºŒè¿›åˆ¶æ—¥å¿—binary logæ—¶ï¼Œä¼šä½¿ç”¨fdatasync()å‡½æ•°å°†å®ƒçš„å†™äºŒè¿›åˆ¶æ—¥å¿—binary logåŒæ­¥åˆ°ç£ç›˜ä¸­å»ã€‚\n\næ³¨æ„ï¼šå¦‚æœå¯ç”¨äº†autocommitï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªè¯­å¥statementå°±ä¼šæœ‰ä¸€æ¬¡å†™æ“ä½œï¼›å¦åˆ™æ¯ä¸ªäº‹åŠ¡å¯¹åº”ä¸€ä¸ªå†™æ“ä½œã€‚\n\n# æ€§èƒ½ä¸å®‰å…¨æ€§å¯¹æ¯” \n1.åŒ1è®¾ç½®æ—¶ï¼Œå†™å…¥æ€§èƒ½æœ€å·®ï¼Œå®‰å…¨æ€§æœ€é«˜ï¼›\n2.sync_binlog=N (N&amp;gt;1 ) innodb_flush_log_at_trx_commit=2 æ—¶ï¼Œæ€§èƒ½æœ€å¥½ï¼Œå®‰å…¨æ€§è¾ƒå·®ï¼›\n3.innodb_flush_log_at_trx_commitè®¾ç½®ä¸º0ï¼Œmysqldè¿›ç¨‹å´©æºƒä¼šå¯¼è‡´ä¸Šä¸€ç§’é’Ÿæ‰€æœ‰äº‹åŠ¡æ•°æ®çš„ä¸¢å¤±ï¼›\n4.innodb_flush_log_at_trx_commitè®¾ç½®ä¸º2ï¼Œå½“ç³»ç»Ÿå´©æºƒæˆ–è€…æ–­ç”µæ—¶ï¼Œä¸Šä¸€ç§’çš„æ‰€æœ‰æ•°æ®æ‰æœ‰å¯èƒ½ä¸¢å¤±ï¼›\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&#34;äºŒ-å¯¹ioå½±å“è¾ƒå¤§çš„å‡ ä¸ªå‚æ•°\&#34;&gt;äºŒã€å¯¹IOå½±å“è¾ƒå¤§çš„å‡ ä¸ªå‚æ•°&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-shell\&#34;&gt;1.innodb_buffer_pool_size # è¯¥å‚æ•°æ§åˆ¶innodbç¼“å­˜å¤§å°ï¼Œç”¨äºç¼“å­˜åº”ç”¨è®¿é—®çš„æ•°æ®ï¼Œæ¨èé…ç½®ä¸ºç³»ç»Ÿå¯ç”¨å†…å­˜çš„80%ã€‚\n2.binlog_cache_size       # è¯¥å‚æ•°æ§åˆ¶äºŒè¿›åˆ¶æ—¥å¿—ç¼“å†²å¤§å°ï¼Œå½“äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤æ—¶ï¼Œäº‹åŠ¡æ—¥å¿—å­˜æ”¾äºcacheï¼Œå½“é‡åˆ°å¤§äº‹åŠ¡cacheä¸å¤Ÿç”¨çš„æ—¶ï¼Œmysqlä¼šæŠŠuncommittedçš„éƒ¨åˆ†å†™å…¥ä¸´æ—¶æ–‡ä»¶,ç­‰åˆ°committedçš„æ—¶å€™æ‰ä¼šå†™å…¥æ­£å¼çš„æŒä¹…åŒ–æ—¥å¿—æ–‡ä»¶ã€‚\n3.innodb_max_dirty_pages_pct     # è¯¥å‚æ•°å¯ä»¥ç›´æ¥æ§åˆ¶Dirty Pageåœ¨BPä¸­æ‰€å çš„æ¯”ç‡ï¼Œå½“dirty pageè¾¾åˆ°äº†è¯¥å‚æ•°çš„é˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘MySQLç³»ç»Ÿåˆ·æ–°æ•°æ®åˆ°ç£ç›˜ã€‚\n4.innodb_flush_log_at_trx_commit # è¯¥å‚æ•°ç¡®å®šæ—¥å¿—æ–‡ä»¶ä½•æ—¶writeã€flushã€‚\n5.sync_binlog         # sync_binlogçš„é»˜è®¤å€¼æ˜¯0ï¼Œåƒæ“ä½œç³»ç»Ÿåˆ·å…¶ä»–æ–‡ä»¶çš„æœºåˆ¶ä¸€æ ·ï¼ŒMySQLä¸ä¼šåŒæ­¥åˆ°ç£ç›˜ä¸­å»è€Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿæ¥åˆ·æ–°binary logã€‚\n6.innodb_flush_method # è¯¥å‚æ•°æ§åˆ¶æ—¥å¿—æˆ–æ•°æ®æ–‡ä»¶å¦‚ä½•writeã€flushã€‚å¯é€‰çš„å€¼ä¸ºfsyncï¼Œo_dsyncï¼Œo_directï¼Œlittlesyncï¼Œnosyncã€‚\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-shuang-1-she-zhi-shu-ju-an-quan-de-guan-jian-can-shu&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;MysqlåŒ1è®¾ç½®-æ•°æ®å®‰å…¨çš„å…³é”®å‚æ•°&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-15 10:14:24&#34;,&#34;dateFormat&#34;:&#34;2021-01-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-shuang-1-she-zhi-shu-ju-an-quan-de-guan-jian-can-shu/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;3 min read&#34;,&#34;time&#34;:142000,&#34;words&#34;:633,&#34;minutes&#34;:3},&#34;description&#34;:&#34;ä¸€ã€å‚æ•°åŠè®¾ç½®è¯´æ˜\n# innodb_flush_log_at_trx_commit\n1.è®¾ç½®ä¸º0ï¼šlog bufferå°†æ¯ç§’ä¸€æ¬¡åœ°å†™å…¥log fileä¸­ï¼Œå¹¶ä¸”log fileçš„flushæ“ä½œåŒæ—¶è¿›è¡Œï¼›è¯¥æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ä¼šä¸»åŠ¨è§¦å‘å†™...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%80-%E5%8F%82%E6%95%B0%E5%8F%8A%E8%AE%BE%E7%BD%AE%E8%AF%B4%E6%98%8E\&#34;&gt;ä¸€ã€å‚æ•°åŠè®¾ç½®è¯´æ˜&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%BA%8C-%E5%AF%B9io%E5%BD%B1%E5%93%8D%E8%BE%83%E5%A4%A7%E7%9A%84%E5%87%A0%E4%B8%AA%E5%8F%82%E6%95%B0\&#34;&gt;äºŒã€å¯¹IOå½±å“è¾ƒå¤§çš„å‡ ä¸ªå‚æ•°&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;p&gt;æ•°æ®åˆ‡åˆ†å°±æ˜¯å°†æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œä½¿å¾—å•ä¸€æ•°æ®åº“ä¸­çš„æ•°æ®é‡å˜å°ï¼Œé€šè¿‡æ‰©å……ä¸»æœºçš„æ•°é‡ç¼“è§£å•ä¸€æ•°æ®åº“çš„æ€§èƒ½é—®é¢˜ï¼Œä»è€Œè¾¾åˆ°æå‡æ•°æ®åº“æ€§èƒ½çš„ç›®çš„ã€‚&lt;/p&gt;\n&lt;h2 id=\&#34;å‚ç›´åˆ‡åˆ†\&#34;&gt;å‚ç›´åˆ‡åˆ†&lt;/h2&gt;\n&lt;p&gt;&lt;img src=\&#34;https://esp0x.github.io/post-images/1610676801903.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå‚ç›´åˆ‡åˆ†å¸¸è§æœ‰å‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ä¸¤ç§ï¼š&lt;/p&gt;\n&lt;p&gt;å‚ç›´åˆ†åº“å°±æ˜¯æ ¹æ®ä¸šåŠ¡è€¦åˆæ€§ï¼Œå°†å…³è”åº¦ä½çš„ä¸åŒè¡¨å­˜å‚¨åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ã€‚ç±»ä¼¼å¾®æœåŠ¡æ¶æ„ï¼Œæ¯ä¸€ä¸ªå¾®æœåŠ¡å•ç‹¬ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“çš„å½¢å¼ã€‚&lt;/p&gt;\n&lt;p&gt;å‚ç›´åˆ†è¡¨æ˜¯åŸºäºæ•°æ®åº“ä¸­çš„åˆ—è¿›è¡Œï¼Œ é’ˆå¯¹æŸä¸ªè¡¨å­—æ®µè¿‡å¤šï¼Œå¯ä»¥æ–°å»ºä¸€å¼ æ‰©å±•è¡¨ï¼Œå°†ä¸å¸¸ç”¨çš„å­—æ®µæˆ–é•¿åº¦è¾ƒå¤§çš„å­—æ®µæ‹†åˆ†åˆ°æ‰©å±•è¡¨ä¸­ã€‚è¿™æ ·å¯ä»¥é¿å…è·¨é¡µé—®é¢˜ï¼ŒMySQLåº•å±‚æ˜¯é€šè¿‡æ•°æ®é¡µå­˜å‚¨çš„ï¼Œä¸€æ¡è®°å½•è¿‡å¤§ä¼šå¯¼è‡´è·¨é¡µï¼Œé€ æˆé¢å¤–çš„æ€§èƒ½æŸå¤±ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;å‚ç›´åˆ‡åˆ†çš„ä¼˜ç‚¹\&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è§£å†³ä¸šåŠ¡ç³»ç»Ÿå±‚é¢çš„è€¦åˆï¼Œä½¿å¾—ä¸šåŠ¡é€»è¾‘æ›´æ¸…æ™°ï¼›&lt;/li&gt;\n&lt;li&gt;ä¸å¾®æœåŠ¡çš„æ²»ç†ç±»ä¼¼ï¼Œä¹Ÿèƒ½å¯¹ä¸åŒä¸šåŠ¡çš„æ•°æ®è¿›è¡Œåˆ†çº§ç®¡ç†ã€ç»´æŠ¤ã€ç›‘æ§ã€æ‰©å±•ç­‰ï¼›&lt;/li&gt;\n&lt;li&gt;é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå‚ç›´åˆ‡åˆ†ä¸€å®šç¨‹åº¦ä¸Šèƒ½å¤Ÿæå‡è®¿é—®æ€§èƒ½ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&#34;å‚ç›´åˆ‡åˆ†çš„ç¼ºç‚¹\&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;éƒ¨åˆ†è¡¨æ— æ³•joinï¼Œåªèƒ½é€šè¿‡æ¥å£æ–¹å¼ï¼Œå¼€å‘éš¾åº¦å¢åŠ ï¼›&lt;/li&gt;\n&lt;li&gt;åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†å¤æ‚ï¼›&lt;/li&gt;\n&lt;li&gt;æ²¡æœ‰è§£å†³å•è¡¨æ•°æ®è¿‡å¤§çš„é—®é¢˜ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;æ°´å¹³åˆ‡åˆ†\&#34;&gt;æ°´å¹³åˆ‡åˆ†&lt;/h2&gt;\n&lt;p&gt;&lt;img src=\&#34;https://esp0x.github.io/post-images/1610676821810.jpg\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;br&gt;\nå½“ä¸€ä¸ªåº”ç”¨éš¾ä»¥å†ç»†ç²’åŒ–çš„å‚ç›´åˆ‡åˆ†ï¼Œæˆ–åˆ‡åˆ†åå•è¡¨æ•°æ®é‡è¿‡å¤§ï¼Œå­˜åœ¨è¯»å†™æ€§èƒ½é—®é¢˜æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘æ°´å¹³åˆ‡åˆ†äº†ã€‚&lt;/p&gt;\n&lt;p&gt;æ°´å¹³åˆ‡åˆ†åŒ…æ‹¬åº“å†…åˆ†è¡¨å’Œåˆ†åº“åˆ†è¡¨ï¼Œåº“å†…åˆ†è¡¨åªè§£å†³äº†å•ä¸€è¡¨æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜ï¼Œæ²¡æœ‰å°†è¡¨åˆ†å¸ƒåˆ°ä¸åŒçš„æœºå™¨ä¸Šï¼Œå¯¹äºæ•°æ®åº“è®¿é—®æ€§èƒ½æå‡æœ‰é™ã€‚&lt;/p&gt;\n&lt;h3 id=\&#34;æ°´å¹³åˆ‡åˆ†çš„ä¼˜ç‚¹\&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;ä¸å­˜åœ¨å•è¡¨æ•°æ®é‡è¿‡å¤§é—®é¢˜ï¼Œæå‡äº†è¡¨çš„è®¿é—®æ€§èƒ½ï¼›&lt;/li&gt;\n&lt;li&gt;åº”ç”¨ç«¯æ”¹é€ è¾ƒå°ï¼Œä¸éœ€è¦è¿›è¡Œä¸šåŠ¡æ‹†åˆ†ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\&#34;æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹\&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;è·¨åˆ†ç‰‡äº‹åŠ¡çš„ä¸€è‡´æ€§éš¾ä»¥ä¿è¯ï¼›&lt;/li&gt;\n&lt;li&gt;è·¨åº“çš„joinå…³è”æŸ¥è¯¢æ€§èƒ½è¾ƒå·®ï¼›&lt;/li&gt;\n&lt;li&gt;æ•°æ®åº“å¤šæ¬¡æ‰©å±•éš¾åº¦å’Œç»´æŠ¤é‡å¢åŠ ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;å‡ ç§å…¸å‹çš„æ•°æ®åˆ†ç‰‡è§„åˆ™\&#34;&gt;å‡ ç§å…¸å‹çš„æ•°æ®åˆ†ç‰‡è§„åˆ™&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;æ ¹æ®æ•°å€¼èŒƒå›´&lt;/p&gt;\n&lt;p&gt;ä¾‹å¦‚ï¼šæŒ‰ç…§æ—¶é—´ç»´åº¦ï¼Œå°†ä¸åŒæœˆï¼Œç”šè‡³ä¸åŒæ—¥çš„æ•°æ®å­˜å‚¨åˆ°ä¸åŒçš„è¡¨ï¼›åˆæˆ–è€…ï¼ŒæŒ‰ç…§userIdè¿›è¡Œåˆ’åˆ†ï¼Œ1-9999çš„è®°å½•åˆ†åˆ°ç¬¬ä¸€ä¸ªåº“ï¼Œ10000-20000çš„åˆ†åˆ°ç¬¬äºŒä¸ªåº“ï¼Œä»¥æ­¤ç±»æ¨ï¼›&lt;/p&gt;\n&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;å•è¡¨å¤§å°å¯æ§ï¼›&lt;/li&gt;\n&lt;li&gt;å¤©ç„¶ä¾¿äºæ°´å¹³æ‰©å±•ï¼ŒåæœŸå¦‚æœæƒ³å¯¹æ•´ä¸ªåˆ†ç‰‡é›†ç¾¤æ‰©å®¹æ—¶ï¼Œåªéœ€è¦æ·»åŠ èŠ‚ç‚¹ï¼Œæ— éœ€å¯¹å…¶ä»–åˆ†ç‰‡è¿›è¡Œæ•°æ®è¿ç§»ï¼›&lt;/li&gt;\n&lt;li&gt;ä½¿ç”¨åˆ†ç‰‡å­—æ®µè¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œé€Ÿåº¦æ›´å¿«ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;çƒ­ç‚¹æ•°æ®æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚è¿ç»­åˆ†ç‰‡å¯èƒ½å­˜åœ¨æ•°æ®çƒ­ç‚¹ï¼Œä¾‹å¦‚æŒ‰æ—¶é—´å­—æ®µåˆ†ç‰‡ï¼Œæœ‰äº›åˆ†ç‰‡å­˜å‚¨æœ€è¿‘æ—¶é—´çš„æ•°æ®ï¼Œå¯èƒ½ä¼šè¢«é¢‘ç¹åœ°è¯»å†™ï¼Œæœ‰äº›åˆ†ç‰‡å­˜å‚¨å†å²æ•°æ®ï¼Œåˆ™å¾ˆå°‘è¢«æŸ¥è¯¢ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ ¹æ®æ•°å€¼å–æ¨¡&lt;/p&gt;\n&lt;p&gt;ä¸€èˆ¬é‡‡ç”¨hashå–æ¨¡modçš„åˆ‡åˆ†æ–¹å¼ã€‚&lt;/p&gt;\n&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;æ•°æ®åˆ†ç‰‡ç›¸å¯¹æ¯”è¾ƒå‡åŒ€ï¼Œä¸å®¹æ˜“å‡ºç°çƒ­ç‚¹å’Œå¹¶å‘è®¿é—®çš„ç“¶é¢ˆï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;åæœŸæ‰©å±•æ—¶ï¼Œéœ€è¦è¿ç§»æ—§çš„æ•°æ®ï¼›ï¼ˆé€šè¿‡ä¸€è‡´æ€§hashç®—æ³•å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼‰&lt;/li&gt;\n&lt;li&gt;å®¹æ˜“é¢ä¸´è·¨åˆ†ç‰‡æŸ¥è¯¢çš„å¤æ‚é—®é¢˜ï¼Œæ¯”å¦‚é¢‘ç¹æŸ¥è¯¢ä¸­ä¸åŒ…å«åˆ†ç‰‡å­—æ®µï¼Œå°†ä¼šå¯¼è‡´æ— æ³•å®šä½æ•°æ®åº“ï¼Œä»è€Œå‘æ‰€æœ‰æ•°æ®åº“å‘èµ·è¯·æ±‚ï¼Œå†åœ¨å†…å­˜ä¸­åˆå¹¶æ•°æ®ï¼Œæ€§èƒ½æŸå¤±ä¸¥é‡ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\&#34;åˆ†åº“åˆ†è¡¨éœ€è¦è§£å†³çš„é—®é¢˜\&#34;&gt;åˆ†åº“åˆ†è¡¨éœ€è¦è§£å†³çš„é—®é¢˜&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;äº‹åŠ¡é—®é¢˜&lt;/p&gt;\n&lt;p&gt;æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œäº¤ç”±æ•°æ®åº“ç®¡ç†ï¼Œç®€å•æœ‰æ•ˆï¼›ç¼ºç‚¹æ˜¯éšç€èŠ‚ç‚¹å¢åŠ ï¼Œæ€§èƒ½ä»£ä»·è¶Šæ¥è¶Šé«˜ã€‚ï¼ˆéœ€è¦åè°ƒçš„èŠ‚ç‚¹å˜å¤šï¼‰&lt;/p&gt;\n&lt;p&gt;æ–¹æ¡ˆäºŒï¼šç”±åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“å…±åŒæ§åˆ¶ï¼Œæ€§èƒ½ä¸Šæœ‰ä¼˜åŠ¿ï¼›ç¼ºç‚¹æ˜¯å¼€å‘éš¾åº¦è¾ƒå¤§ï¼›&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è·¨èŠ‚ç‚¹Joiné—®é¢˜&lt;/p&gt;\n&lt;p&gt;åˆ†ä¸¤æ¬¡æŸ¥è¯¢ï¼Œç¬¬ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœé›†ä¸­æ‰¾å‡ºå…³è”æ•°æ®çš„IDï¼Œæ ¹æ®è¿™äº›IDå‘èµ·ç¬¬äºŒæ¬¡è¯·æ±‚å¾—åˆ°å…³è”æ•°æ®ï¼›åœ¨åº”ç”¨è®¾è®¡æ—¶åº”å°½é‡é¿å…è¿›è¡Œå…³è”æŸ¥è¯¢ï¼›&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è·¨èŠ‚ç‚¹çš„countã€order byã€group byä»¥åŠèšåˆå‡½æ•°é—®é¢˜&lt;/p&gt;\n&lt;p&gt;åˆ†åˆ«åœ¨å„ä¸ªèŠ‚ç‚¹è¿›è¡Œæ•°æ®åˆå¹¶ï¼Œæœ€ååœ¨ç»Ÿä¸€è¿›è¡Œåˆå¹¶ï¼Œç¼ºç‚¹æ˜¯å½“æ•°æ®é›†è¾ƒå¤§æ—¶ï¼Œå ç”¨çš„å†…å­˜èµ„æºå¾ˆå¤šï¼›&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;æ•°æ®è¿ç§»ã€å®¹é‡è§„åˆ’ã€æ‰©å®¹ç­‰é—®é¢˜&lt;/p&gt;\n&lt;p&gt;å½“ä¸šåŠ¡é«˜é€Ÿå‘å±•ï¼Œé¢ä¸´æ€§èƒ½å’Œå­˜å‚¨çš„ç“¶é¢ˆæ—¶ï¼Œæ‰ä¼šè€ƒè™‘åˆ†ç‰‡è®¾è®¡ï¼Œæ­¤æ—¶å°±ä¸å¯é¿å…çš„éœ€è¦è€ƒè™‘å†å²æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚ä¸€èˆ¬åšæ³•æ˜¯å…ˆè¯»å‡ºå†å²æ•°æ®ï¼Œç„¶åæŒ‰æŒ‡å®šçš„åˆ†ç‰‡è§„åˆ™å†å°†æ•°æ®å†™å…¥åˆ°å„ä¸ªåˆ†ç‰‡èŠ‚ç‚¹ä¸­ã€‚æ­¤å¤–è¿˜éœ€è¦æ ¹æ®å½“å‰çš„æ•°æ®é‡å’ŒQPSï¼Œä»¥åŠä¸šåŠ¡å‘å±•çš„é€Ÿåº¦ï¼Œè¿›è¡Œå®¹é‡è§„åˆ’ï¼Œæ¨ç®—å‡ºå¤§æ¦‚éœ€è¦å¤šå°‘åˆ†ç‰‡ï¼ˆä¸€èˆ¬å»ºè®®å•ä¸ªåˆ†ç‰‡ä¸Šçš„å•è¡¨æ•°æ®é‡ä¸è¶…è¿‡1000Wï¼‰å¦‚æœé‡‡ç”¨æ•°å€¼èŒƒå›´åˆ†ç‰‡ï¼Œåªéœ€è¦æ·»åŠ èŠ‚ç‚¹å°±å¯ä»¥è¿›è¡Œæ‰©å®¹äº†ï¼Œä¸éœ€è¦å¯¹åˆ†ç‰‡æ•°æ®è¿ç§»ã€‚å¦‚æœé‡‡ç”¨çš„æ˜¯æ•°å€¼å–æ¨¡åˆ†ç‰‡ï¼Œåˆ™è€ƒè™‘åæœŸçš„æ‰©å®¹é—®é¢˜å°±ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;å…¨å±€ä¸»é”®é¿é‡é—®é¢˜&lt;/p&gt;\n&lt;p&gt;ç”±äºè¡¨åŒæ—¶å­˜åœ¨äºå¤šä¸ªæ•°æ®åº“ä¸­ï¼Œä¸»é”®å€¼è®¾ç½®ä¸ºè‡ªå¢åºåˆ—å°†ä¸èƒ½ä½¿ç”¨ï¼Œéœ€è¦å•ç‹¬è®¾è®¡å…¨å±€ä¸»é”®ï¼Œä¸€èˆ¬å¯ä»¥ç”¨UUIDçš„æ–¹æ¡ˆè§£å†³ï¼›&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;è·¨åˆ†ç‰‡çš„æ’åºåˆ†é¡µ&lt;/p&gt;\n&lt;p&gt;ä¸€èˆ¬æ¥è®²ï¼Œåˆ†é¡µæ—¶éœ€è¦æŒ‰ç…§æŒ‡å®šå­—æ®µè¿›è¡Œæ’åºã€‚å½“æ’åºå­—æ®µå°±æ˜¯åˆ†ç‰‡å­—æ®µçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡åˆ†ç‰‡è§„åˆ™å¯ä»¥æ¯”è¾ƒå®¹æ˜“å®šä½åˆ°æŒ‡å®šçš„åˆ†ç‰‡ï¼Œè€Œå½“æ’åºå­—æ®µéåˆ†ç‰‡å­—æ®µçš„æ—¶å€™ï¼Œæƒ…å†µå°±ä¼šå˜å¾—æ¯”è¾ƒå¤æ‚äº†ã€‚ä¸ºäº†æœ€ç»ˆç»“æœçš„å‡†ç¡®æ€§ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„åˆ†ç‰‡èŠ‚ç‚¹ä¸­å°†æ•°æ®è¿›è¡Œæ’åºå¹¶è¿”å›ï¼Œå¹¶å°†ä¸åŒåˆ†ç‰‡è¿”å›çš„ç»“æœé›†è¿›è¡Œæ±‡æ€»å’Œå†æ¬¡æ’åºï¼Œæœ€åå†è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœæ˜¯åœ¨å‰å°åº”ç”¨æä¾›åˆ†é¡µï¼Œåˆ™é™å®šç”¨æˆ·åªèƒ½çœ‹å‰é¢né¡µï¼Œè¿™ä¸ªé™åˆ¶åœ¨ä¸šåŠ¡ä¸Šä¹Ÿæ˜¯åˆç†çš„ï¼Œä¸€èˆ¬çœ‹åé¢çš„åˆ†é¡µæ„ä¹‰ä¸å¤§ï¼ˆå¦‚æœä¸€å®šè¦çœ‹ï¼Œå¯ä»¥è¦æ±‚ç”¨æˆ·ç¼©å°èŒƒå›´é‡æ–°æŸ¥è¯¢ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;å¦‚æœæ˜¯åå°æ‰¹å¤„ç†ä»»åŠ¡è¦æ±‚åˆ†æ‰¹è·å–æ•°æ®ï¼Œåˆ™å¯ä»¥åŠ å¤§page sizeï¼Œæ¯”å¦‚æ¯æ¬¡è·å–5000æ¡è®°å½•ï¼Œæœ‰æ•ˆå‡å°‘åˆ†é¡µæ•°ï¼ˆå½“ç„¶ç¦»çº¿è®¿é—®ä¸€èˆ¬èµ°å¤‡åº“ï¼Œé¿å…å†²å‡»ä¸»åº“ï¼‰ã€‚&lt;/p&gt;\n&lt;p&gt;åˆ†åº“è®¾è®¡æ—¶ï¼Œä¸€èˆ¬è¿˜æœ‰é…å¥—å¤§æ•°æ®å¹³å°æ±‡æ€»æ‰€æœ‰åˆ†åº“çš„è®°å½•ï¼Œæœ‰äº›åˆ†é¡µæŸ¥è¯¢å¯ä»¥è€ƒè™‘èµ°å¤§æ•°æ®å¹³å°ã€‚&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-fen-ku-fen-biao-ce-lue&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Mysqlåˆ†åº“åˆ†è¡¨ç­–ç•¥&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-15 10:12:20&#34;,&#34;dateFormat&#34;:&#34;2021-01-15&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-fen-ku-fen-biao-ce-lue/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;6 min read&#34;,&#34;time&#34;:353000,&#34;words&#34;:1746,&#34;minutes&#34;:6},&#34;description&#34;:&#34;æ•°æ®åˆ‡åˆ†å°±æ˜¯å°†æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°å¤šä¸ªæ•°æ®åº“ä¸­ï¼Œä½¿å¾—å•ä¸€æ•°æ®åº“ä¸­çš„æ•°æ®é‡å˜å°ï¼Œé€šè¿‡æ‰©å……ä¸»æœºçš„æ•°é‡ç¼“è§£å•ä¸€æ•°æ®åº“çš„æ€§èƒ½é—®é¢˜ï¼Œä»è€Œè¾¾åˆ°æå‡æ•°æ®åº“æ€§èƒ½çš„ç›®çš„ã€‚\nå‚ç›´åˆ‡åˆ†\n\nå‚ç›´åˆ‡åˆ†å¸¸è§æœ‰å‚ç›´åˆ†åº“å’Œå‚ç›´åˆ†è¡¨ä¸¤ç§ï¼š\nå‚ç›´åˆ†åº“å°±æ˜¯æ ¹æ®ä¸šåŠ¡è€¦åˆæ€§ï¼Œå°†å…³è”åº¦ä½çš„...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9E%82%E7%9B%B4%E5%88%87%E5%88%86\&#34;&gt;å‚ç›´åˆ‡åˆ†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9E%82%E7%9B%B4%E5%88%87%E5%88%86%E7%9A%84%E4%BC%98%E7%82%B9\&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%9E%82%E7%9B%B4%E5%88%87%E5%88%86%E7%9A%84%E7%BC%BA%E7%82%B9\&#34;&gt;å‚ç›´åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B0%B4%E5%B9%B3%E5%88%87%E5%88%86\&#34;&gt;æ°´å¹³åˆ‡åˆ†&lt;/a&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B0%B4%E5%B9%B3%E5%88%87%E5%88%86%E7%9A%84%E4%BC%98%E7%82%B9\&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ä¼˜ç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E6%B0%B4%E5%B9%B3%E5%88%87%E5%88%86%E7%9A%84%E7%BC%BA%E7%82%B9\&#34;&gt;æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%87%A0%E7%A7%8D%E5%85%B8%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%86%E7%89%87%E8%A7%84%E5%88%99\&#34;&gt;å‡ ç§å…¸å‹çš„æ•°æ®åˆ†ç‰‡è§„åˆ™&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98\&#34;&gt;åˆ†åº“åˆ†è¡¨éœ€è¦è§£å†³çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;h3 id=\&#34;åŸç†å›¾å¦‚ä¸‹\&#34;&gt;åŸç†å›¾å¦‚ä¸‹ï¼š&lt;/h3&gt;\n&lt;figure data-type=\&#34;image\&#34; tabindex=\&#34;1\&#34;&gt;&lt;img src=\&#34;https://esp0x.github.io/post-images/1610671157156.png\&#34; alt=\&#34;\&#34; loading=\&#34;lazy\&#34;&gt;&lt;/figure&gt;\n&lt;h2 id=\&#34;ä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£\&#34;&gt;ä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£ï¼š&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;masteråº“å‘ç”Ÿæ•°æ®æ”¹å˜æ—¶ï¼Œä¼šå°†æ”¹å˜å†™å…¥binglogæ—¥å¿—ï¼›&lt;/li&gt;\n&lt;li&gt;slaveåº“ä¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…å¯¹masterçš„binlogè¿›è¡Œæ£€æµ‹ä»¥ç¡®å®šæ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªIO threadè¯·æ±‚masteräºŒè¿›åˆ¶äº‹ä»¶ï¼›&lt;/li&gt;\n&lt;li&gt;åŒæ—¶ï¼Œmasterä¸ºæ¯ä¸€ä¸ªè¿‡æ¥è¯·æ±‚çš„IO threadå¼€å¯ä¸€ä¸ªdumpçº¿ç¨‹ï¼Œç”¨äºå°†äºŒè¿›åˆ¶äº‹ä»¶å‘é€ç»™IO threadï¼Œslaveçš„IO threadå°†æ­¤äºŒè¿›åˆ¶äº‹ä»¶å†™å…¥æœ¬åœ°relay logï¼ˆä¸­ç»§æ—¥å¿—ï¼‰ä¸­ï¼Œå¹¶å¼€å¯SQL threadä»ä¸­ç»§æ—¥å¿—ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—ï¼Œåœ¨æœ¬åœ°è¿›è¡Œé‡æ”¾ï¼ˆreplayï¼‰ï¼Œä»è€Œä½¿å¾—æœ¬åœ°æ•°æ®ä¸masterä¿æŒä¸€è‡´ï¼›æœ€åIO threadå’ŒSQL threadè¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç­‰å¾…ä¸‹æ¬¡å”¤é†’ã€‚&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;ä¸»ä»å¤åˆ¶å½¢å¼\&#34;&gt;ä¸»ä»å¤åˆ¶å½¢å¼ï¼š&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;ä¸»ä»&lt;/li&gt;\n&lt;li&gt;ä¸»ä¸»&lt;/li&gt;\n&lt;li&gt;ä¸€ä¸»å¤šä»&lt;/li&gt;\n&lt;li&gt;å¤šä¸»ä¸€ä»&lt;/li&gt;\n&lt;li&gt;è”çº§å¤åˆ¶&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;ä¸»ä»åŒæ­¥å»¶æ—¶åˆ†æ\&#34;&gt;ä¸»ä»åŒæ­¥å»¶æ—¶åˆ†æï¼š&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;masterå¯¹æ‰€æœ‰DDLå’ŒDMLäº§ç”Ÿçš„æ—¥å¿—éƒ½å†™å…¥binlogï¼Œç”±äºæ˜¯é¡ºåºå†™ï¼Œæ‰€ä»¥æ•ˆç‡å¾ˆé«˜ï¼›åä¹‹ï¼Œslaveçš„SQL threadè¿›è¡Œrelay logçš„é‡æ”¾æ—¶ï¼ŒDMLå’ŒDDLçš„IOæ˜¯éšæœºçš„ï¼Œä¸æ˜¯é¡ºåºï¼Œæ‰€ä»¥æˆæœ¬è¾ƒé«˜ï¼Œè¿™é‡Œä¼šå¢åŠ ä¸€éƒ¨åˆ†å»¶æ—¶ï¼›&lt;/li&gt;\n&lt;li&gt;ç”±äºSQL threadæ˜¯å•çº¿ç¨‹çš„ï¼Œå½“masterçš„å¹¶å‘è¾ƒé«˜æ—¶ï¼Œè¿‡å¤šçš„DMLå¯èƒ½ä¼šå¯¼è‡´slaveçš„SQL threadæ¥ä¸åŠå¤„ç†ï¼Œè¿™é‡Œä¼šå¢åŠ ä¸€éƒ¨åˆ†å»¶æ—¶ï¼›&lt;/li&gt;\n&lt;li&gt;slaveä¸­æœ‰éƒ¨åˆ†SQLäº§ç”Ÿäº†é”ç­‰å¾…ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯slaveæœ‰ä¸€äº›è¯»è¯·æ±‚ä¸é‡æ”¾è¯·æ±‚äº§ç”Ÿäº†é”å†²çªå¯¼è‡´çš„ï¼Œä¹Ÿä¼šå¢åŠ å»¶æ—¶ï¼›&lt;/li&gt;\n&lt;li&gt;slaveåœ¨å……å½“è¯»åº“è§’è‰²çš„æ—¶å€™ï¼Œå¦‚æœæŸ¥è¯¢è®¿é—®å‹åŠ›è¿‡å¤§ï¼Œä¼šæ¶ˆè€—éƒ¨åˆ†ç³»ç»Ÿèµ„æºï¼Œå½±å“åŒæ­¥æ•ˆç‡ï¼›&lt;/li&gt;\n&lt;li&gt;å¤§äº‹åŠ¡æ‰§è¡Œï¼Œå³å½“masteræœ‰å¤§äº‹åŠ¡æ‰§è¡Œæ—¶ï¼Œæ¯”å¦‚æ‰§è¡Œäº†10åˆ†é’Ÿï¼Œbinlogå†™å…¥å¿…é¡»è¦ç­‰å¾…äº‹åŠ¡å¤„ç†å®Œæ¯•ï¼Œé‚£ä¹ˆslaveå¼€å§‹è¿›è¡ŒåŒæ­¥çš„æ—¶å€™å°±å·²ç»å»¶æ—¶10åˆ†é’Ÿäº†ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;å»¶æ—¶è§£å†³åŠæ³•\&#34;&gt;å»¶æ—¶è§£å†³åŠæ³•ï¼š&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;ä¸šåŠ¡å±‚å®ç°è¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»ï¼Œä¸»å†™ä»è¯»ï¼Œåˆ†æ•£å‹åŠ›ï¼›&lt;/li&gt;\n&lt;li&gt;ä¸šåŠ¡å±‚å’Œæ•°æ®åº“å±‚ä¹‹é—´åŠ å…¥ç¼“å­˜ç­–ç•¥ï¼Œé™ä½ç›´æ¥å¯¹æ•°æ®åº“çš„è¯»å‹åŠ›ï¼›é¢‘ç¹å†™çš„åœºæ™¯ä¸é€‚åˆåŠ ç¼“å­˜ï¼Œä¼šå¯¼è‡´ç¼“å­˜å‘½ä¸­é™ä½ï¼›&lt;/li&gt;\n&lt;li&gt;å‡çº§ç¡¬ä»¶ï¼›&lt;/li&gt;\n&lt;li&gt;MTSé—®é¢˜ï¼Œå³å¤šçº¿ç¨‹çš„slaveï¼Œä»5.6ç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼Œé’ˆå¯¹ä¸åŒç²’åº¦ï¼ˆåº“ã€è¡¨ã€è¡Œï¼‰è®¾ç½®å¹¶è¡ŒåŒæ­¥ï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\&#34;57ç‰ˆæœ¬åçš„å¹¶è¡Œå¤åˆ¶ç­–ç•¥\&#34;&gt;5.7ç‰ˆæœ¬åçš„å¹¶è¡Œå¤åˆ¶ç­–ç•¥&lt;/h2&gt;\n&lt;h4 id=\&#34;redo-logçš„ä¸¤é˜¶æ®µæäº¤\&#34;&gt;Redo logçš„ä¸¤é˜¶æ®µæäº¤&lt;/h4&gt;\n&lt;ul&gt;\n&lt;li&gt;å…ˆå†™redoï¼Œå†å†™binlogï¼šå‡è®¾åœ¨redoå†™å®Œï¼Œbinlogè¿˜æ²¡æœ‰å†™å®Œçš„æ—¶å€™ï¼ŒMysqlè¿›ç¨‹å¼‚å¸¸é‡å¯ï¼Œè¿™æ—¶ä»ç„¶èƒ½å¤Ÿé€šè¿‡redo logæ¢å¤æ•°æ®ï¼Œä½†ç”±äºbinlogæ²¡æœ‰è¿™æ¡è®°å½•ï¼Œæ‰€ä»¥ä¹‹åå¤‡ä»½æ—¥å¿—çš„æ—¶å€™ï¼Œbinlogæ˜¯ç¼ºå¤±è¿™æ¡è®°å½•çš„ï¼Œä»¥åéœ€è¦ç”¨binlogæ¢å¤æ•°æ®æ—¶ï¼Œå°±ä¼šç¼ºå°‘ä¸€æ¡æ•°æ®çš„æ›´æ–°ï¼›&lt;/li&gt;\n&lt;li&gt;å…ˆå†™binlogï¼Œå†å†™redo logï¼šå¦‚æœbinlogå†™å®Œåcrashï¼Œç”±äºredo logè¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆï¼Œä½†æ˜¯binlogæœ‰è®°å½•ï¼Œä»¥åç”¨è¿™ä¸ªbinlogæ¢å¤æ•°æ®æ—¶ï¼Œå°±ä¼šå¤šå‡ºä¸€æ¡æ›´æ–°è®°å½•ï¼›&lt;/li&gt;\n&lt;li&gt;äºŒé˜¶æ®µæäº¤ï¼šä½¿ç”¨äºŒé˜¶æ®µæäº¤æ—¶ï¼Œä¼šç»¼åˆredoå’Œbinlogçš„çŠ¶æ€è¿›è¡Œå¤„ç†ï¼Œå¦‚æœå†™å…¥binlogä¹‹å‰crashï¼Œé‚£ä¹ˆç”±äºredoå¤„äºprepareé˜¶æ®µï¼Œåªéœ€è¦å¯¹å½“å‰äº‹åŠ¡è¿›è¡Œå›æ»šå³å¯ï¼›å¦‚æœå†™å…¥binlogä¹‹åcrashï¼Œé‚£ä¹ˆç”±äºredoå¤„äºprepareé˜¶æ®µï¼Œåªéœ€è¦å¯¹å½“å‰äº‹åŠ¡è¿›è¡Œæäº¤å³å¯ã€‚&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h4 id=\&#34;å¹¶è¡Œå¤åˆ¶çš„æ€æƒ³\&#34;&gt;å¹¶è¡Œå¤åˆ¶çš„æ€æƒ³&lt;/h4&gt;\n&lt;ol&gt;\n&lt;li&gt;åŒæ—¶å¤„äºprepareçŠ¶æ€çš„äº‹åŠ¡ï¼Œåœ¨å¤‡åº“æ‰§è¡Œæ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼›&lt;/li&gt;\n&lt;li&gt;å¤„äºprepareçŠ¶æ€çš„äº‹åŠ¡ï¼Œä¸å¤„äºcommitçŠ¶æ€çš„äº‹åŠ¡ä¹‹é—´ï¼Œåœ¨å¤‡åº“æ‰§è¡Œä¹Ÿæ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼›&lt;/li&gt;\n&lt;li&gt;binlog_group_commit_sync_delayå‚æ•°ï¼Œè¡¨ç¤ºå»¶è¿Ÿå¤šå°‘å¾®å¦™åæ‰è°ƒç”¨fsyncï¼›&lt;/li&gt;\n&lt;li&gt;binlog_group_commit_sync_no_delay_countå‚æ•°ï¼Œè¡¨ç¤ºç´¯ç§¯å¤šå°‘æ¬¡ä»¥åæ‰è°ƒç”¨fsyncï¼›&lt;/li&gt;\n&lt;/ol&gt;\n&#34;,&#34;fileName&#34;:&#34;mysql-zhu-cong-fu-zhi-yuan-li&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;Mysqlä¸»ä»å¤åˆ¶åŸç†&#34;,&#34;tags&#34;:[{&#34;name&#34;:&#34;mysql&#34;,&#34;slug&#34;:&#34;lEg5TWDNv&#34;,&#34;used&#34;:true,&#34;link&#34;:&#34;https://esp0x.github.io/tag/lEg5TWDNv/&#34;}],&#34;date&#34;:&#34;2021-01-14 16:23:14&#34;,&#34;dateFormat&#34;:&#34;2021-01-14&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/mysql-zhu-cong-fu-zhi-yuan-li/&#34;,&#34;hideInList&#34;:false,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;4 min read&#34;,&#34;time&#34;:197000,&#34;words&#34;:922,&#34;minutes&#34;:4},&#34;description&#34;:&#34;åŸç†å›¾å¦‚ä¸‹ï¼š\n\nä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£ï¼š\n\nmasteråº“å‘ç”Ÿæ•°æ®æ”¹å˜æ—¶ï¼Œä¼šå°†æ”¹å˜å†™å…¥binglogæ—¥å¿—ï¼›\nslaveåº“ä¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…å¯¹masterçš„binlogè¿›è¡Œæ£€æµ‹ä»¥ç¡®å®šæ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªIO threadè¯·æ±‚mas...&#34;,&#34;toc&#34;:&#34;&lt;ul class=\&#34;markdownIt-TOC\&#34;&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%8E%9F%E7%90%86%E5%9B%BE%E5%A6%82%E4%B8%8B\&#34;&gt;åŸç†å›¾å¦‚ä¸‹ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3\&#34;&gt;ä¸»ä»å¤åˆ¶æµç¨‹è¯¦è§£ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E5%BD%A2%E5%BC%8F\&#34;&gt;ä¸»ä»å¤åˆ¶å½¢å¼ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E5%BB%B6%E6%97%B6%E5%88%86%E6%9E%90\&#34;&gt;ä¸»ä»åŒæ­¥å»¶æ—¶åˆ†æï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%BB%B6%E6%97%B6%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95\&#34;&gt;å»¶æ—¶è§£å†³åŠæ³•ï¼š&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#57%E7%89%88%E6%9C%AC%E5%90%8E%E7%9A%84%E5%B9%B6%E8%A1%8C%E5%A4%8D%E5%88%B6%E7%AD%96%E7%95%A5\&#34;&gt;5.7ç‰ˆæœ¬åçš„å¹¶è¡Œå¤åˆ¶ç­–ç•¥&lt;/a&gt;&lt;br&gt;\n*\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&#34;#redo-log%E7%9A%84%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4\&#34;&gt;Redo logçš„ä¸¤é˜¶æ®µæäº¤&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&#34;#%E5%B9%B6%E8%A1%8C%E5%A4%8D%E5%88%B6%E7%9A%84%E6%80%9D%E6%83%B3\&#34;&gt;å¹¶è¡Œå¤åˆ¶çš„æ€æƒ³&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&#34;},{&#34;content&#34;:&#34;&lt;blockquote&gt;\n&lt;p&gt;ç³»ç»Ÿç®¡ç†å‘˜ &amp;amp; ç‹¬ç«‹å®‰å…¨ç ”ç©¶å‘˜ &amp;amp; åŠåŠå­çš„ç¨‹åºå‘˜ /&amp;lt;.&amp;gt;:) ğŸ˜ˆ&lt;/p&gt;\n&lt;/blockquote&gt;\n&#34;,&#34;fileName&#34;:&#34;about&#34;,&#34;abstract&#34;:&#34;&#34;,&#34;title&#34;:&#34;å…³äº&#34;,&#34;tags&#34;:[],&#34;date&#34;:&#34;2019-01-25 19:09:48&#34;,&#34;dateFormat&#34;:&#34;2019-01-25&#34;,&#34;feature&#34;:&#34;&#34;,&#34;link&#34;:&#34;https://esp0x.github.io/post/about/&#34;,&#34;hideInList&#34;:true,&#34;isTop&#34;:false,&#34;stats&#34;:{&#34;text&#34;:&#34;1 min read&#34;,&#34;time&#34;:5000,&#34;words&#34;:23,&#34;minutes&#34;:1},&#34;description&#34;:&#34;\nç³»ç»Ÿç®¡ç†å‘˜ &amp;amp; ç‹¬ç«‹å®‰å…¨ç ”ç©¶å‘˜ &amp;amp; åŠåŠå­çš„ç¨‹åºå‘˜ /&amp;lt;.&amp;gt;:) ğŸ˜ˆ\n\n&#34;,&#34;toc&#34;:&#34;&#34;}]";
  // var json = escape.substr(1, escape.length - 2);
  // var datas = json.split(',');
  // for (let i=0; i < datas.length; i++) {
  //   let item = datas[i];
  //   let attrs = item.split('34;:&#34')
  //   debugger
  //   console.log(datas[i])
  // }
  let escapeMap = new Map();
  escapeMap.set('&#34;', '"');
  escapeMap.set('&gt;', '>');
  escapeMap.set('&#39;', "'");
  escapeMap.set('&lt;', '<');
  escapeMap.set('&quot;', '"');
  escapeMap.set('&amp;', '&');
</script> -->

<script src="/media/js/mouse/peace.js"></script>


<script src=" /media/js/cool.js"></script>

</html>